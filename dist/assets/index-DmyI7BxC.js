(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function G0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Uf={exports:{}},El={},Bf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function S1(){if(Qv)return Re;Qv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function b(B,X,ge){this.props=B,this.context=X,this.refs=D,this.updater=ge||x}b.prototype.isReactComponent={},b.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function F(){}F.prototype=b.prototype;function $(B,X,ge){this.props=B,this.context=X,this.refs=D,this.updater=ge||x}var W=$.prototype=new F;W.constructor=$,N(W,b.prototype),W.isPureReactComponent=!0;var Q=Array.isArray,ee=Object.prototype.hasOwnProperty,oe={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(B,X,ge){var Pe,Ce={},Ve=null,je=null;if(X!=null)for(Pe in X.ref!==void 0&&(je=X.ref),X.key!==void 0&&(Ve=""+X.key),X)ee.call(X,Pe)&&!V.hasOwnProperty(Pe)&&(Ce[Pe]=X[Pe]);var Ue=arguments.length-2;if(Ue===1)Ce.children=ge;else if(1<Ue){for(var We=Array(Ue),Pt=0;Pt<Ue;Pt++)We[Pt]=arguments[Pt+2];Ce.children=We}if(B&&B.defaultProps)for(Pe in Ue=B.defaultProps,Ue)Ce[Pe]===void 0&&(Ce[Pe]=Ue[Pe]);return{$$typeof:n,type:B,key:Ve,ref:je,props:Ce,_owner:oe.current}}function P(B,X){return{$$typeof:n,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function k(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ge){return X[ge]})}var U=/\/+/g;function R(B,X){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):X.toString(36)}function $e(B,X,ge,Pe,Ce){var Ve=typeof B;(Ve==="undefined"||Ve==="boolean")&&(B=null);var je=!1;if(B===null)je=!0;else switch(Ve){case"string":case"number":je=!0;break;case"object":switch(B.$$typeof){case n:case e:je=!0}}if(je)return je=B,Ce=Ce(je),B=Pe===""?"."+R(je,0):Pe,Q(Ce)?(ge="",B!=null&&(ge=B.replace(U,"$&/")+"/"),$e(Ce,X,ge,"",function(Pt){return Pt})):Ce!=null&&(k(Ce)&&(Ce=P(Ce,ge+(!Ce.key||je&&je.key===Ce.key?"":(""+Ce.key).replace(U,"$&/")+"/")+B)),X.push(Ce)),1;if(je=0,Pe=Pe===""?".":Pe+":",Q(B))for(var Ue=0;Ue<B.length;Ue++){Ve=B[Ue];var We=Pe+R(Ve,Ue);je+=$e(Ve,X,ge,We,Ce)}else if(We=E(B),typeof We=="function")for(B=We.call(B),Ue=0;!(Ve=B.next()).done;)Ve=Ve.value,We=Pe+R(Ve,Ue++),je+=$e(Ve,X,ge,We,Ce);else if(Ve==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return je}function ot(B,X,ge){if(B==null)return B;var Pe=[],Ce=0;return $e(B,Pe,"","",function(Ve){return X.call(ge,Ve,Ce++)}),Pe}function vt(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(ge){(B._status===0||B._status===-1)&&(B._status=1,B._result=ge)},function(ge){(B._status===0||B._status===-1)&&(B._status=2,B._result=ge)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var Te={current:null},re={transition:null},he={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:re,ReactCurrentOwner:oe};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:ot,forEach:function(B,X,ge){ot(B,function(){X.apply(this,arguments)},ge)},count:function(B){var X=0;return ot(B,function(){X++}),X},toArray:function(B){return ot(B,function(X){return X})||[]},only:function(B){if(!k(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Re.Component=b,Re.Fragment=t,Re.Profiler=s,Re.PureComponent=$,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Re.act=ae,Re.cloneElement=function(B,X,ge){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Pe=N({},B.props),Ce=B.key,Ve=B.ref,je=B._owner;if(X!=null){if(X.ref!==void 0&&(Ve=X.ref,je=oe.current),X.key!==void 0&&(Ce=""+X.key),B.type&&B.type.defaultProps)var Ue=B.type.defaultProps;for(We in X)ee.call(X,We)&&!V.hasOwnProperty(We)&&(Pe[We]=X[We]===void 0&&Ue!==void 0?Ue[We]:X[We])}var We=arguments.length-2;if(We===1)Pe.children=ge;else if(1<We){Ue=Array(We);for(var Pt=0;Pt<We;Pt++)Ue[Pt]=arguments[Pt+2];Pe.children=Ue}return{$$typeof:n,type:B.type,key:Ce,ref:Ve,props:Pe,_owner:je}},Re.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Re.createElement=I,Re.createFactory=function(B){var X=I.bind(null,B);return X.type=B,X},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:h,render:B}},Re.isValidElement=k,Re.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:vt}},Re.memo=function(B,X){return{$$typeof:p,type:B,compare:X===void 0?null:X}},Re.startTransition=function(B){var X=re.transition;re.transition={};try{B()}finally{re.transition=X}},Re.unstable_act=ae,Re.useCallback=function(B,X){return Te.current.useCallback(B,X)},Re.useContext=function(B){return Te.current.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B){return Te.current.useDeferredValue(B)},Re.useEffect=function(B,X){return Te.current.useEffect(B,X)},Re.useId=function(){return Te.current.useId()},Re.useImperativeHandle=function(B,X,ge){return Te.current.useImperativeHandle(B,X,ge)},Re.useInsertionEffect=function(B,X){return Te.current.useInsertionEffect(B,X)},Re.useLayoutEffect=function(B,X){return Te.current.useLayoutEffect(B,X)},Re.useMemo=function(B,X){return Te.current.useMemo(B,X)},Re.useReducer=function(B,X,ge){return Te.current.useReducer(B,X,ge)},Re.useRef=function(B){return Te.current.useRef(B)},Re.useState=function(B){return Te.current.useState(B)},Re.useSyncExternalStore=function(B,X,ge){return Te.current.useSyncExternalStore(B,X,ge)},Re.useTransition=function(){return Te.current.useTransition()},Re.version="18.3.1",Re}var Yv;function mm(){return Yv||(Yv=1,Bf.exports=S1()),Bf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function I1(){if(Xv)return El;Xv=1;var n=mm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var g,_={},E=null,x=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:h,key:E,ref:x,props:_,_owner:s.current}}return El.Fragment=t,El.jsx=u,El.jsxs=u,El}var Jv;function x1(){return Jv||(Jv=1,Uf.exports=I1()),Uf.exports}var A=x1(),O=mm();const A1=G0(O);var Bc={},zf={exports:{}},dn={},$f={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function P1(){return Zv||(Zv=1,function(n){function e(re,he){var ae=re.length;re.push(he);e:for(;0<ae;){var B=ae-1>>>1,X=re[B];if(0<s(X,he))re[B]=he,re[ae]=X,ae=B;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var he=re[0],ae=re.pop();if(ae!==he){re[0]=ae;e:for(var B=0,X=re.length,ge=X>>>1;B<ge;){var Pe=2*(B+1)-1,Ce=re[Pe],Ve=Pe+1,je=re[Ve];if(0>s(Ce,ae))Ve<X&&0>s(je,Ce)?(re[B]=je,re[Ve]=ae,B=Ve):(re[B]=Ce,re[Pe]=ae,B=Pe);else if(Ve<X&&0>s(je,ae))re[B]=je,re[Ve]=ae,B=Ve;else break e}}return he}function s(re,he){var ae=re.sortIndex-he.sortIndex;return ae!==0?ae:re.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,_=null,E=3,x=!1,N=!1,D=!1,b=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(re){for(var he=t(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=re)r(p),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(p)}}function Q(re){if(D=!1,W(re),!N)if(t(f)!==null)N=!0,vt(ee);else{var he=t(p);he!==null&&Te(Q,he.startTime-re)}}function ee(re,he){N=!1,D&&(D=!1,F(I),I=-1),x=!0;var ae=E;try{for(W(he),_=t(f);_!==null&&(!(_.expirationTime>he)||re&&!L());){var B=_.callback;if(typeof B=="function"){_.callback=null,E=_.priorityLevel;var X=B(_.expirationTime<=he);he=n.unstable_now(),typeof X=="function"?_.callback=X:_===t(f)&&r(f),W(he)}else r(f);_=t(f)}if(_!==null)var ge=!0;else{var Pe=t(p);Pe!==null&&Te(Q,Pe.startTime-he),ge=!1}return ge}finally{_=null,E=ae,x=!1}}var oe=!1,V=null,I=-1,P=5,k=-1;function L(){return!(n.unstable_now()-k<P)}function U(){if(V!==null){var re=n.unstable_now();k=re;var he=!0;try{he=V(!0,re)}finally{he?R():(oe=!1,V=null)}}else oe=!1}var R;if(typeof $=="function")R=function(){$(U)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,ot=$e.port2;$e.port1.onmessage=U,R=function(){ot.postMessage(null)}}else R=function(){b(U,0)};function vt(re){V=re,oe||(oe=!0,R())}function Te(re,he){I=b(function(){re(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){N||x||(N=!0,vt(ee))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var ae=E;E=he;try{return re()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=E;E=re;try{return he()}finally{E=ae}},n.unstable_scheduleCallback=function(re,he,ae){var B=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ae+X,re={id:g++,callback:he,priorityLevel:re,startTime:ae,expirationTime:X,sortIndex:-1},ae>B?(re.sortIndex=ae,e(p,re),t(f)===null&&re===t(p)&&(D?(F(I),I=-1):D=!0,Te(Q,ae-B))):(re.sortIndex=X,e(f,re),N||x||(N=!0,vt(ee))),re},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(re){var he=E;return function(){var ae=E;E=he;try{return re.apply(this,arguments)}finally{E=ae}}}}(Hf)),Hf}var e_;function C1(){return e_||(e_=1,$f.exports=P1()),$f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function R1(){if(t_)return dn;t_=1;var n=mm(),e=C1();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return f.call(_,i)?!0:f.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function x(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,o,l,d){if(o===null||typeof o>"u"||x(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,l,d,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function $(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,$);b[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,$);b[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,$);b[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function W(i,o,l,d){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,l,m,d)&&(l=null),d||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),oe=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),re=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,B;function X(i){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var ge=!1;function Pe(i,o){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,C=v.length-1;1<=T&&0<=C&&m[T]!==v[C];)C--;for(;1<=T&&0<=C;T--,C--)if(m[T]!==v[C]){if(T!==1||C!==1)do if(T--,C--,0>C||m[T]!==v[C]){var M=`
`+m[T].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=T&&0<=C);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function Ce(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case oe:return"Portal";case P:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case $e:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case k:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ot:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case vt:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function je(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Pt(i){var o=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function kr(i){i._valueTracker||(i._valueTracker=Pt(i))}function Xs(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=We(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function rs(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Js(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Ue(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Pa(i,o){o=o.checked,o!=null&&W(i,"checked",o,!1)}function Ca(i,o){Pa(i,o);var l=Ue(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Zs(i,o.type,l):o.hasOwnProperty("defaultValue")&&Zs(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Au(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Zs(i,o,l){(o!=="number"||li(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var br=Array.isArray;function Nr(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ra(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function eo(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(br(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Ue(l)}}function to(i,o){var l=Ue(o.value),d=Ue(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function ka(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function _t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?_t(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Dr,ba=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Dr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ui(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ss=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(i){ss.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),is[o]=is[i]})});function Na(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||is.hasOwnProperty(i)&&is[i]?(""+o).trim():o+"px"}function Da(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Na(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var Va=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(i,o){if(o){if(Va[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ma(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function no(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ro=null,In=null,rr=null;function io(i){if(i=ol(i)){if(typeof ro!="function")throw Error(t(280));var o=i.stateNode;o&&(o=nc(o),ro(i.stateNode,i.type,o))}}function ir(i){In?rr?rr.push(i):rr=[i]:In=i}function Oa(){if(In){var i=In,o=rr;if(rr=In=null,io(i),o)for(i=0;i<o.length;i++)io(o[i])}}function as(i,o){return i(o)}function Fa(){}var Vr=!1;function ja(i,o,l){if(Vr)return i(o,l);Vr=!0;try{return as(i,o,l)}finally{Vr=!1,(In!==null||rr!==null)&&(Fa(),Oa())}}function ut(i,o){var l=i.stateNode;if(l===null)return null;var d=nc(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var so=!1;if(h)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){so=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{so=!1}function ls(i,o,l,d,m,v,T,C,M){var K=Array.prototype.slice.call(arguments,3);try{o.apply(l,K)}catch(te){this.onError(te)}}var us=!1,oo=null,Un=!1,Ua=null,fd={onError:function(i){us=!0,oo=i}};function ao(i,o,l,d,m,v,T,C,M){us=!1,oo=null,ls.apply(fd,arguments)}function Pu(i,o,l,d,m,v,T,C,M){if(ao.apply(this,arguments),us){if(us){var K=oo;us=!1,oo=null}else throw Error(t(198));Un||(Un=!0,Ua=K)}}function Bn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function cs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function zn(i){if(Bn(i)!==i)throw Error(t(188))}function Cu(i){var o=i.alternate;if(!o){if(o=Bn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return zn(m),i;if(v===d)return zn(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=v;else{for(var T=!1,C=m.child;C;){if(C===l){T=!0,l=m,d=v;break}if(C===d){T=!0,d=m,l=v;break}C=C.sibling}if(!T){for(C=v.child;C;){if(C===l){T=!0,l=v,d=m;break}if(C===d){T=!0,d=v,l=m;break}C=C.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Ba(i){return i=Cu(i),i!==null?lo(i):null}function lo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=lo(i);if(o!==null)return o;i=i.sibling}return null}var uo=e.unstable_scheduleCallback,za=e.unstable_cancelCallback,Ru=e.unstable_shouldYield,pd=e.unstable_requestPaint,qe=e.unstable_now,ku=e.unstable_getCurrentPriorityLevel,hs=e.unstable_ImmediatePriority,ci=e.unstable_UserBlockingPriority,xn=e.unstable_NormalPriority,$a=e.unstable_LowPriority,bu=e.unstable_IdlePriority,ds=null,gn=null;function Nu(i){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ds,i,void 0,(i.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Vu,Ha=Math.log,Du=Math.LN2;function Vu(i){return i>>>=0,i===0?32:31-(Ha(i)/Du|0)|0}var co=64,ho=4194304;function hi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function fs(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,T=l&268435455;if(T!==0){var C=T&~m;C!==0?d=hi(C):(v&=T,v!==0&&(d=hi(v)))}else T=l&~m,T!==0?d=hi(T):v!==0&&(d=hi(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Xt(o),m=1<<l,d|=i[l],o&=~m;return d}function md(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-Xt(v),C=1<<T,M=m[T];M===-1?((C&l)===0||(C&d)!==0)&&(m[T]=md(C,o)):M<=o&&(i.expiredLanes|=C),v&=~C}}function yn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ps(){var i=co;return co<<=1,(co&4194240)===0&&(co=64),i}function di(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function fi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Xt(o),i[o]=l}function He(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Xt(l),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~v}}function pi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Xt(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var De=0;function mi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Lu,fo,Mu,Ou,Fu,Wa=!1,sr=[],Dt=null,$n=null,Hn=null,gi=new Map,An=new Map,or=[],gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ju(i,o){switch(i){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(o.pointerId)}}function sn(i,o,l,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=ol(o),o!==null&&fo(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function yd(i,o,l,d,m){switch(o){case"focusin":return Dt=sn(Dt,i,o,l,d,m),!0;case"dragenter":return $n=sn($n,i,o,l,d,m),!0;case"mouseover":return Hn=sn(Hn,i,o,l,d,m),!0;case"pointerover":var v=m.pointerId;return gi.set(v,sn(gi.get(v)||null,i,o,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,An.set(v,sn(An.get(v)||null,i,o,l,d,m)),!0}return!1}function Uu(i){var o=_s(i.target);if(o!==null){var l=Bn(o);if(l!==null){if(o=l.tag,o===13){if(o=cs(l),o!==null){i.blockedOn=o,Fu(i.priority,function(){Mu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=po(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);os=d,l.target.dispatchEvent(d),os=null}else return o=ol(l),o!==null&&fo(o),i.blockedOn=l,!1;o.shift()}return!0}function ms(i,o,l){Mr(i)&&l.delete(o)}function Bu(){Wa=!1,Dt!==null&&Mr(Dt)&&(Dt=null),$n!==null&&Mr($n)&&($n=null),Hn!==null&&Mr(Hn)&&(Hn=null),gi.forEach(ms),An.forEach(ms)}function Wn(i,o){i.blockedOn===o&&(i.blockedOn=null,Wa||(Wa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bu)))}function qn(i){function o(m){return Wn(m,i)}if(0<sr.length){Wn(sr[0],i);for(var l=1;l<sr.length;l++){var d=sr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Dt!==null&&Wn(Dt,i),$n!==null&&Wn($n,i),Hn!==null&&Wn(Hn,i),gi.forEach(o),An.forEach(o),l=0;l<or.length;l++)d=or[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<or.length&&(l=or[0],l.blockedOn===null);)Uu(l),l.blockedOn===null&&or.shift()}var Or=Q.ReactCurrentBatchConfig,yi=!0;function Xe(i,o,l,d){var m=De,v=Or.transition;Or.transition=null;try{De=1,qa(i,o,l,d)}finally{De=m,Or.transition=v}}function vd(i,o,l,d){var m=De,v=Or.transition;Or.transition=null;try{De=4,qa(i,o,l,d)}finally{De=m,Or.transition=v}}function qa(i,o,l,d){if(yi){var m=po(i,o,l,d);if(m===null)Rd(i,o,d,gs,l),ju(i,d);else if(yd(m,i,o,l,d))d.stopPropagation();else if(ju(i,d),o&4&&-1<gd.indexOf(i)){for(;m!==null;){var v=ol(m);if(v!==null&&Lu(v),v=po(i,o,l,d),v===null&&Rd(i,o,d,gs,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else Rd(i,o,d,null,l)}}var gs=null;function po(i,o,l,d){if(gs=null,i=no(d),i=_s(i),i!==null)if(o=Bn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=cs(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return gs=i,null}function Ka(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ku()){case hs:return 1;case ci:return 4;case xn:case $a:return 16;case bu:return 536870912;default:return 16}default:return 16}}var vn=null,mo=null,on=null;function Ga(){if(on)return on;var i,o=mo,l=o.length,d,m="value"in vn?vn.value:vn.textContent,v=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===m[v-d];d++);return on=m.slice(i,1<d?1-d:void 0)}function go(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ar(){return!0}function Qa(){return!1}function Vt(i){function o(l,d,m,v,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ar:Qa,this.isPropagationStopped=Qa,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),o}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=Vt(Kn),lr=ae({},Kn,{view:0,detail:0}),_d=Vt(lr),vo,Fr,vi,ys=ae({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==vi&&(vi&&i.type==="mousemove"?(vo=i.screenX-vi.screenX,Fr=i.screenY-vi.screenY):Fr=vo=0,vi=i),vo)},movementY:function(i){return"movementY"in i?i.movementY:Fr}}),_o=Vt(ys),Ya=ae({},ys,{dataTransfer:0}),zu=Vt(Ya),wo=ae({},lr,{relatedTarget:0}),Eo=Vt(wo),$u=ae({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=Vt($u),Hu=ae({},Kn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wu=Vt(Hu),qu=ae({},Kn,{data:0}),Xa=Vt(qu),To={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Ku[i])?!!o[i]:!1}function ur(){return Gu}var c=ae({},lr,{key:function(i){if(i.key){var o=To[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=go(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(i){return i.type==="keypress"?go(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?go(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Vt(c),w=ae({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Vt(w),z=ae({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),G=Vt(z),se=ae({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Vt(se),Et=ae({},ys,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Vt(Et),Ct=[9,13,27,32],ft=h&&"CompositionEvent"in window,Pn=null;h&&"documentMode"in document&&(Pn=document.documentMode);var _n=h&&"TextEvent"in window&&!Pn,vs=h&&(!ft||Pn&&8<Pn&&11>=Pn),So=" ",$g=!1;function Hg(i,o){switch(i){case"keyup":return Ct.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Io=!1;function wx(i,o){switch(i){case"compositionend":return Wg(o);case"keypress":return o.which!==32?null:($g=!0,So);case"textInput":return i=o.data,i===So&&$g?null:i;default:return null}}function Ex(i,o){if(Io)return i==="compositionend"||!ft&&Hg(i,o)?(i=Ga(),on=mo=vn=null,Io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return vs&&o.locale!=="ko"?null:o.data;default:return null}}var Tx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Tx[i.type]:o==="textarea"}function Kg(i,o,l,d){ir(d),o=Zu(o,"onChange"),0<o.length&&(l=new yo("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Ja=null,Za=null;function Sx(i){hy(i,0)}function Qu(i){var o=Ro(i);if(Xs(o))return i}function Ix(i,o){if(i==="change")return o}var Gg=!1;if(h){var wd;if(h){var Ed="oninput"in document;if(!Ed){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),Ed=typeof Qg.oninput=="function"}wd=Ed}else wd=!1;Gg=wd&&(!document.documentMode||9<document.documentMode)}function Yg(){Ja&&(Ja.detachEvent("onpropertychange",Xg),Za=Ja=null)}function Xg(i){if(i.propertyName==="value"&&Qu(Za)){var o=[];Kg(o,Za,i,no(i)),ja(Sx,o)}}function xx(i,o,l){i==="focusin"?(Yg(),Ja=o,Za=l,Ja.attachEvent("onpropertychange",Xg)):i==="focusout"&&Yg()}function Ax(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qu(Za)}function Px(i,o){if(i==="click")return Qu(o)}function Cx(i,o){if(i==="input"||i==="change")return Qu(o)}function Rx(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Gn=typeof Object.is=="function"?Object.is:Rx;function el(i,o){if(Gn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!Gn(i[m],o[m]))return!1}return!0}function Jg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zg(i,o){var l=Jg(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jg(l)}}function ey(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ey(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ty(){for(var i=window,o=li();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=li(i.document)}return o}function Td(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function kx(i){var o=ty(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&ey(l.ownerDocument.documentElement,l)){if(d!==null&&Td(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=Zg(l,v);var T=Zg(l,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var bx=h&&"documentMode"in document&&11>=document.documentMode,xo=null,Sd=null,tl=null,Id=!1;function ny(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Id||xo==null||xo!==li(d)||(d=xo,"selectionStart"in d&&Td(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),tl&&el(tl,d)||(tl=d,d=Zu(Sd,"onSelect"),0<d.length&&(o=new yo("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=xo)))}function Yu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ao={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},xd={},ry={};h&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Xu(i){if(xd[i])return xd[i];if(!Ao[i])return i;var o=Ao[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in ry)return xd[i]=o[l];return i}var iy=Xu("animationend"),sy=Xu("animationiteration"),oy=Xu("animationstart"),ay=Xu("transitionend"),ly=new Map,uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(i,o){ly.set(i,o),a(o,[i])}for(var Ad=0;Ad<uy.length;Ad++){var Pd=uy[Ad],Nx=Pd.toLowerCase(),Dx=Pd[0].toUpperCase()+Pd.slice(1);_i(Nx,"on"+Dx)}_i(iy,"onAnimationEnd"),_i(sy,"onAnimationIteration"),_i(oy,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(ay,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vx=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function cy(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Pu(d,o,void 0,i),i.currentTarget=null}function hy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var C=d[T],M=C.instance,K=C.currentTarget;if(C=C.listener,M!==v&&m.isPropagationStopped())break e;cy(m,C,K),v=M}else for(T=0;T<d.length;T++){if(C=d[T],M=C.instance,K=C.currentTarget,C=C.listener,M!==v&&m.isPropagationStopped())break e;cy(m,C,K),v=M}}}if(Un)throw i=Ua,Un=!1,Ua=null,i}function Ge(i,o){var l=o[Ld];l===void 0&&(l=o[Ld]=new Set);var d=i+"__bubble";l.has(d)||(dy(o,i,2,!1),l.add(d))}function Cd(i,o,l){var d=0;o&&(d|=4),dy(l,i,d,o)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function rl(i){if(!i[Ju]){i[Ju]=!0,r.forEach(function(l){l!=="selectionchange"&&(Vx.has(l)||Cd(l,!1,i),Cd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ju]||(o[Ju]=!0,Cd("selectionchange",!1,o))}}function dy(i,o,l,d){switch(Ka(o)){case 1:var m=Xe;break;case 4:m=vd;break;default:m=qa}l=m.bind(null,o,l,i),m=void 0,!so||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Rd(i,o,l,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var C=d.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;C!==null;){if(T=_s(C),T===null)return;if(M=T.tag,M===5||M===6){d=v=T;continue e}C=C.parentNode}}d=d.return}ja(function(){var K=v,te=no(l),ne=[];e:{var J=ly.get(i);if(J!==void 0){var le=yo,de=i;switch(i){case"keypress":if(go(l)===0)break e;case"keydown":case"keyup":le=y;break;case"focusin":de="focus",le=Eo;break;case"focusout":de="blur",le=Eo;break;case"beforeblur":case"afterblur":le=Eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=G;break;case iy:case sy:case oy:le=jr;break;case ay:le=ze;break;case"scroll":le=_d;break;case"wheel":le=Le;break;case"copy":case"cut":case"paste":le=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=S}var fe=(o&4)!==0,ct=!fe&&i==="scroll",H=fe?J!==null?J+"Capture":null:J;fe=[];for(var j=K,q;j!==null;){q=j;var ie=q.stateNode;if(q.tag===5&&ie!==null&&(q=ie,H!==null&&(ie=ut(j,H),ie!=null&&fe.push(il(j,ie,q)))),ct)break;j=j.return}0<fe.length&&(J=new le(J,de,null,l,te),ne.push({event:J,listeners:fe}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",J&&l!==os&&(de=l.relatedTarget||l.fromElement)&&(_s(de)||de[Ur]))break e;if((le||J)&&(J=te.window===te?te:(J=te.ownerDocument)?J.defaultView||J.parentWindow:window,le?(de=l.relatedTarget||l.toElement,le=K,de=de?_s(de):null,de!==null&&(ct=Bn(de),de!==ct||de.tag!==5&&de.tag!==6)&&(de=null)):(le=null,de=K),le!==de)){if(fe=_o,ie="onMouseLeave",H="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(fe=S,ie="onPointerLeave",H="onPointerEnter",j="pointer"),ct=le==null?J:Ro(le),q=de==null?J:Ro(de),J=new fe(ie,j+"leave",le,l,te),J.target=ct,J.relatedTarget=q,ie=null,_s(te)===K&&(fe=new fe(H,j+"enter",de,l,te),fe.target=q,fe.relatedTarget=ct,ie=fe),ct=ie,le&&de)t:{for(fe=le,H=de,j=0,q=fe;q;q=Po(q))j++;for(q=0,ie=H;ie;ie=Po(ie))q++;for(;0<j-q;)fe=Po(fe),j--;for(;0<q-j;)H=Po(H),q--;for(;j--;){if(fe===H||H!==null&&fe===H.alternate)break t;fe=Po(fe),H=Po(H)}fe=null}else fe=null;le!==null&&fy(ne,J,le,fe,!1),de!==null&&ct!==null&&fy(ne,ct,de,fe,!0)}}e:{if(J=K?Ro(K):window,le=J.nodeName&&J.nodeName.toLowerCase(),le==="select"||le==="input"&&J.type==="file")var pe=Ix;else if(qg(J))if(Gg)pe=Cx;else{pe=Ax;var ye=xx}else(le=J.nodeName)&&le.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=Px);if(pe&&(pe=pe(i,K))){Kg(ne,pe,l,te);break e}ye&&ye(i,J,K),i==="focusout"&&(ye=J._wrapperState)&&ye.controlled&&J.type==="number"&&Zs(J,"number",J.value)}switch(ye=K?Ro(K):window,i){case"focusin":(qg(ye)||ye.contentEditable==="true")&&(xo=ye,Sd=K,tl=null);break;case"focusout":tl=Sd=xo=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,ny(ne,l,te);break;case"selectionchange":if(bx)break;case"keydown":case"keyup":ny(ne,l,te)}var ve;if(ft)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Io?Hg(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(vs&&l.locale!=="ko"&&(Io||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Io&&(ve=Ga()):(vn=te,mo="value"in vn?vn.value:vn.textContent,Io=!0)),ye=Zu(K,Ie),0<ye.length&&(Ie=new Xa(Ie,i,null,l,te),ne.push({event:Ie,listeners:ye}),ve?Ie.data=ve:(ve=Wg(l),ve!==null&&(Ie.data=ve)))),(ve=_n?wx(i,l):Ex(i,l))&&(K=Zu(K,"onBeforeInput"),0<K.length&&(te=new Xa("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:K}),te.data=ve))}hy(ne,o)})}function il(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Zu(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ut(i,l),v!=null&&d.unshift(il(i,v,m)),v=ut(i,o),v!=null&&d.push(il(i,v,m))),i=i.return}return d}function Po(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function fy(i,o,l,d,m){for(var v=o._reactName,T=[];l!==null&&l!==d;){var C=l,M=C.alternate,K=C.stateNode;if(M!==null&&M===d)break;C.tag===5&&K!==null&&(C=K,m?(M=ut(l,v),M!=null&&T.unshift(il(l,M,C))):m||(M=ut(l,v),M!=null&&T.push(il(l,M,C)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var Lx=/\r\n?/g,Mx=/\u0000|\uFFFD/g;function py(i){return(typeof i=="string"?i:""+i).replace(Lx,`
`).replace(Mx,"")}function ec(i,o,l){if(o=py(o),py(i)!==o&&l)throw Error(t(425))}function tc(){}var kd=null,bd=null;function Nd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,Ox=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,Fx=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(i){return my.resolve(null).then(i).catch(jx)}:Dd;function jx(i){setTimeout(function(){throw i})}function Vd(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),qn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);qn(o)}function wi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function gy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Co=Math.random().toString(36).slice(2),cr="__reactFiber$"+Co,sl="__reactProps$"+Co,Ur="__reactContainer$"+Co,Ld="__reactEvents$"+Co,Ux="__reactListeners$"+Co,Bx="__reactHandles$"+Co;function _s(i){var o=i[cr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ur]||l[cr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=gy(i);i!==null;){if(l=i[cr])return l;i=gy(i)}return o}i=l,l=i.parentNode}return null}function ol(i){return i=i[cr]||i[Ur],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ro(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function nc(i){return i[sl]||null}var Md=[],ko=-1;function Ei(i){return{current:i}}function Qe(i){0>ko||(i.current=Md[ko],Md[ko]=null,ko--)}function Ke(i,o){ko++,Md[ko]=i.current,i.current=o}var Ti={},zt=Ei(Ti),an=Ei(!1),ws=Ti;function bo(i,o){var l=i.type.contextTypes;if(!l)return Ti;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function ln(i){return i=i.childContextTypes,i!=null}function rc(){Qe(an),Qe(zt)}function yy(i,o,l){if(zt.current!==Ti)throw Error(t(168));Ke(zt,o),Ke(an,l)}function vy(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,je(i)||"Unknown",m));return ae({},l,d)}function ic(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ti,ws=zt.current,Ke(zt,i),Ke(an,an.current),!0}function _y(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=vy(i,o,ws),d.__reactInternalMemoizedMergedChildContext=i,Qe(an),Qe(zt),Ke(zt,i)):Qe(an),Ke(an,l)}var Br=null,sc=!1,Od=!1;function wy(i){Br===null?Br=[i]:Br.push(i)}function zx(i){sc=!0,wy(i)}function Si(){if(!Od&&Br!==null){Od=!0;var i=0,o=De;try{var l=Br;for(De=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Br=null,sc=!1}catch(m){throw Br!==null&&(Br=Br.slice(i+1)),uo(hs,Si),m}finally{De=o,Od=!1}}return null}var No=[],Do=0,oc=null,ac=0,Cn=[],Rn=0,Es=null,zr=1,$r="";function Ts(i,o){No[Do++]=ac,No[Do++]=oc,oc=i,ac=o}function Ey(i,o,l){Cn[Rn++]=zr,Cn[Rn++]=$r,Cn[Rn++]=Es,Es=i;var d=zr;i=$r;var m=32-Xt(d)-1;d&=~(1<<m),l+=1;var v=32-Xt(o)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,zr=1<<32-Xt(o)+m|l<<m|d,$r=v+i}else zr=1<<v|l<<m|d,$r=i}function Fd(i){i.return!==null&&(Ts(i,1),Ey(i,1,0))}function jd(i){for(;i===oc;)oc=No[--Do],No[Do]=null,ac=No[--Do],No[Do]=null;for(;i===Es;)Es=Cn[--Rn],Cn[Rn]=null,$r=Cn[--Rn],Cn[Rn]=null,zr=Cn[--Rn],Cn[Rn]=null}var wn=null,En=null,Je=!1,Qn=null;function Ty(i,o){var l=Dn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Sy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,wn=i,En=wi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,wn=i,En=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Es!==null?{id:zr,overflow:$r}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Dn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,wn=i,En=null,!0):!1;default:return!1}}function Ud(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Bd(i){if(Je){var o=En;if(o){var l=o;if(!Sy(i,o)){if(Ud(i))throw Error(t(418));o=wi(l.nextSibling);var d=wn;o&&Sy(i,o)?Ty(d,l):(i.flags=i.flags&-4097|2,Je=!1,wn=i)}}else{if(Ud(i))throw Error(t(418));i.flags=i.flags&-4097|2,Je=!1,wn=i}}}function Iy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wn=i}function lc(i){if(i!==wn)return!1;if(!Je)return Iy(i),Je=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Nd(i.type,i.memoizedProps)),o&&(o=En)){if(Ud(i))throw xy(),Error(t(418));for(;o;)Ty(i,o),o=wi(o.nextSibling)}if(Iy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){En=wi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}En=null}}else En=wn?wi(i.stateNode.nextSibling):null;return!0}function xy(){for(var i=En;i;)i=wi(i.nextSibling)}function Vo(){En=wn=null,Je=!1}function zd(i){Qn===null?Qn=[i]:Qn.push(i)}var $x=Q.ReactCurrentBatchConfig;function al(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var C=m.refs;T===null?delete C[v]:C[v]=T},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function uc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Ay(i){var o=i._init;return o(i._payload)}function Py(i){function o(H,j){if(i){var q=H.deletions;q===null?(H.deletions=[j],H.flags|=16):q.push(j)}}function l(H,j){if(!i)return null;for(;j!==null;)o(H,j),j=j.sibling;return null}function d(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function m(H,j){return H=bi(H,j),H.index=0,H.sibling=null,H}function v(H,j,q){return H.index=q,i?(q=H.alternate,q!==null?(q=q.index,q<j?(H.flags|=2,j):q):(H.flags|=2,j)):(H.flags|=1048576,j)}function T(H){return i&&H.alternate===null&&(H.flags|=2),H}function C(H,j,q,ie){return j===null||j.tag!==6?(j=Vf(q,H.mode,ie),j.return=H,j):(j=m(j,q),j.return=H,j)}function M(H,j,q,ie){var pe=q.type;return pe===V?te(H,j,q.props.children,ie,q.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===vt&&Ay(pe)===j.type)?(ie=m(j,q.props),ie.ref=al(H,j,q),ie.return=H,ie):(ie=Dc(q.type,q.key,q.props,null,H.mode,ie),ie.ref=al(H,j,q),ie.return=H,ie)}function K(H,j,q,ie){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Lf(q,H.mode,ie),j.return=H,j):(j=m(j,q.children||[]),j.return=H,j)}function te(H,j,q,ie,pe){return j===null||j.tag!==7?(j=ks(q,H.mode,ie,pe),j.return=H,j):(j=m(j,q),j.return=H,j)}function ne(H,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Vf(""+j,H.mode,q),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ee:return q=Dc(j.type,j.key,j.props,null,H.mode,q),q.ref=al(H,null,j),q.return=H,q;case oe:return j=Lf(j,H.mode,q),j.return=H,j;case vt:var ie=j._init;return ne(H,ie(j._payload),q)}if(br(j)||he(j))return j=ks(j,H.mode,q,null),j.return=H,j;uc(H,j)}return null}function J(H,j,q,ie){var pe=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return pe!==null?null:C(H,j,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:return q.key===pe?M(H,j,q,ie):null;case oe:return q.key===pe?K(H,j,q,ie):null;case vt:return pe=q._init,J(H,j,pe(q._payload),ie)}if(br(q)||he(q))return pe!==null?null:te(H,j,q,ie,null);uc(H,q)}return null}function le(H,j,q,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(q)||null,C(j,H,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ee:return H=H.get(ie.key===null?q:ie.key)||null,M(j,H,ie,pe);case oe:return H=H.get(ie.key===null?q:ie.key)||null,K(j,H,ie,pe);case vt:var ye=ie._init;return le(H,j,q,ye(ie._payload),pe)}if(br(ie)||he(ie))return H=H.get(q)||null,te(j,H,ie,pe,null);uc(j,ie)}return null}function de(H,j,q,ie){for(var pe=null,ye=null,ve=j,Ie=j=0,bt=null;ve!==null&&Ie<q.length;Ie++){ve.index>Ie?(bt=ve,ve=null):bt=ve.sibling;var Fe=J(H,ve,q[Ie],ie);if(Fe===null){ve===null&&(ve=bt);break}i&&ve&&Fe.alternate===null&&o(H,ve),j=v(Fe,j,Ie),ye===null?pe=Fe:ye.sibling=Fe,ye=Fe,ve=bt}if(Ie===q.length)return l(H,ve),Je&&Ts(H,Ie),pe;if(ve===null){for(;Ie<q.length;Ie++)ve=ne(H,q[Ie],ie),ve!==null&&(j=v(ve,j,Ie),ye===null?pe=ve:ye.sibling=ve,ye=ve);return Je&&Ts(H,Ie),pe}for(ve=d(H,ve);Ie<q.length;Ie++)bt=le(ve,H,Ie,q[Ie],ie),bt!==null&&(i&&bt.alternate!==null&&ve.delete(bt.key===null?Ie:bt.key),j=v(bt,j,Ie),ye===null?pe=bt:ye.sibling=bt,ye=bt);return i&&ve.forEach(function(Ni){return o(H,Ni)}),Je&&Ts(H,Ie),pe}function fe(H,j,q,ie){var pe=he(q);if(typeof pe!="function")throw Error(t(150));if(q=pe.call(q),q==null)throw Error(t(151));for(var ye=pe=null,ve=j,Ie=j=0,bt=null,Fe=q.next();ve!==null&&!Fe.done;Ie++,Fe=q.next()){ve.index>Ie?(bt=ve,ve=null):bt=ve.sibling;var Ni=J(H,ve,Fe.value,ie);if(Ni===null){ve===null&&(ve=bt);break}i&&ve&&Ni.alternate===null&&o(H,ve),j=v(Ni,j,Ie),ye===null?pe=Ni:ye.sibling=Ni,ye=Ni,ve=bt}if(Fe.done)return l(H,ve),Je&&Ts(H,Ie),pe;if(ve===null){for(;!Fe.done;Ie++,Fe=q.next())Fe=ne(H,Fe.value,ie),Fe!==null&&(j=v(Fe,j,Ie),ye===null?pe=Fe:ye.sibling=Fe,ye=Fe);return Je&&Ts(H,Ie),pe}for(ve=d(H,ve);!Fe.done;Ie++,Fe=q.next())Fe=le(ve,H,Ie,Fe.value,ie),Fe!==null&&(i&&Fe.alternate!==null&&ve.delete(Fe.key===null?Ie:Fe.key),j=v(Fe,j,Ie),ye===null?pe=Fe:ye.sibling=Fe,ye=Fe);return i&&ve.forEach(function(T1){return o(H,T1)}),Je&&Ts(H,Ie),pe}function ct(H,j,q,ie){if(typeof q=="object"&&q!==null&&q.type===V&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ee:e:{for(var pe=q.key,ye=j;ye!==null;){if(ye.key===pe){if(pe=q.type,pe===V){if(ye.tag===7){l(H,ye.sibling),j=m(ye,q.props.children),j.return=H,H=j;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===vt&&Ay(pe)===ye.type){l(H,ye.sibling),j=m(ye,q.props),j.ref=al(H,ye,q),j.return=H,H=j;break e}l(H,ye);break}else o(H,ye);ye=ye.sibling}q.type===V?(j=ks(q.props.children,H.mode,ie,q.key),j.return=H,H=j):(ie=Dc(q.type,q.key,q.props,null,H.mode,ie),ie.ref=al(H,j,q),ie.return=H,H=ie)}return T(H);case oe:e:{for(ye=q.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){l(H,j.sibling),j=m(j,q.children||[]),j.return=H,H=j;break e}else{l(H,j);break}else o(H,j);j=j.sibling}j=Lf(q,H.mode,ie),j.return=H,H=j}return T(H);case vt:return ye=q._init,ct(H,j,ye(q._payload),ie)}if(br(q))return de(H,j,q,ie);if(he(q))return fe(H,j,q,ie);uc(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(l(H,j.sibling),j=m(j,q),j.return=H,H=j):(l(H,j),j=Vf(q,H.mode,ie),j.return=H,H=j),T(H)):l(H,j)}return ct}var Lo=Py(!0),Cy=Py(!1),cc=Ei(null),hc=null,Mo=null,$d=null;function Hd(){$d=Mo=hc=null}function Wd(i){var o=cc.current;Qe(cc),i._currentValue=o}function qd(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Oo(i,o){hc=i,$d=Mo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(un=!0),i.firstContext=null)}function kn(i){var o=i._currentValue;if($d!==i)if(i={context:i,memoizedValue:o,next:null},Mo===null){if(hc===null)throw Error(t(308));Mo=i,hc.dependencies={lanes:0,firstContext:i}}else Mo=Mo.next=i;return o}var Ss=null;function Kd(i){Ss===null?Ss=[i]:Ss.push(i)}function Ry(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,Kd(o)):(l.next=m.next,m.next=l),o.interleaved=l,Hr(i,d)}function Hr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ii=!1;function Gd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ky(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Wr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function xi(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Hr(i,l)}return m=d.interleaved,m===null?(o.next=o,Kd(d)):(o.next=m.next,m.next=o),d.interleaved=o,Hr(i,l)}function dc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,pi(i,l)}}function by(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function fc(i,o,l,d){var m=i.updateQueue;Ii=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var M=C,K=M.next;M.next=null,T===null?v=K:T.next=K,T=M;var te=i.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==T&&(C===null?te.firstBaseUpdate=K:C.next=K,te.lastBaseUpdate=M))}if(v!==null){var ne=m.baseState;T=0,te=K=M=null,C=v;do{var J=C.lane,le=C.eventTime;if((d&J)===J){te!==null&&(te=te.next={eventTime:le,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var de=i,fe=C;switch(J=o,le=l,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ne=de.call(le,ne,J);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,J=typeof de=="function"?de.call(le,ne,J):de,J==null)break e;ne=ae({},ne,J);break e;case 2:Ii=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,J=m.effects,J===null?m.effects=[C]:J.push(C))}else le={eventTime:le,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(K=te=le,M=ne):te=te.next=le,T|=J;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;J=C,C=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);if(te===null&&(M=ne),m.baseState=M,m.firstBaseUpdate=K,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);As|=T,i.lanes=T,i.memoizedState=ne}}function Ny(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var ll={},hr=Ei(ll),ul=Ei(ll),cl=Ei(ll);function Is(i){if(i===ll)throw Error(t(174));return i}function Qd(i,o){switch(Ke(cl,o),Ke(ul,i),Ke(hr,ll),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:wt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=wt(o,i)}Qe(hr),Ke(hr,o)}function Fo(){Qe(hr),Qe(ul),Qe(cl)}function Dy(i){Is(cl.current);var o=Is(hr.current),l=wt(o,i.type);o!==l&&(Ke(ul,i),Ke(hr,l))}function Yd(i){ul.current===i&&(Qe(hr),Qe(ul))}var et=Ei(0);function pc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Xd=[];function Jd(){for(var i=0;i<Xd.length;i++)Xd[i]._workInProgressVersionPrimary=null;Xd.length=0}var mc=Q.ReactCurrentDispatcher,Zd=Q.ReactCurrentBatchConfig,xs=0,tt=null,Tt=null,Rt=null,gc=!1,hl=!1,dl=0,Hx=0;function $t(){throw Error(t(321))}function ef(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Gn(i[l],o[l]))return!1;return!0}function tf(i,o,l,d,m,v){if(xs=v,tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,mc.current=i===null||i.memoizedState===null?Gx:Qx,i=l(d,m),hl){v=0;do{if(hl=!1,dl=0,25<=v)throw Error(t(301));v+=1,Rt=Tt=null,o.updateQueue=null,mc.current=Yx,i=l(d,m)}while(hl)}if(mc.current=_c,o=Tt!==null&&Tt.next!==null,xs=0,Rt=Tt=tt=null,gc=!1,o)throw Error(t(300));return i}function nf(){var i=dl!==0;return dl=0,i}function dr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?tt.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function bn(){if(Tt===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var o=Rt===null?tt.memoizedState:Rt.next;if(o!==null)Rt=o,Tt=i;else{if(i===null)throw Error(t(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Rt===null?tt.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function fl(i,o){return typeof o=="function"?o(i):o}function rf(i){var o=bn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=Tt,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var C=T=null,M=null,K=v;do{var te=K.lane;if((xs&te)===te)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var ne={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(C=M=ne,T=d):M=M.next=ne,tt.lanes|=te,As|=te}K=K.next}while(K!==null&&K!==v);M===null?T=d:M.next=C,Gn(d,o.memoizedState)||(un=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=M,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do v=m.lane,tt.lanes|=v,As|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function sf(i){var o=bn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);Gn(v,o.memoizedState)||(un=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,d]}function Vy(){}function Ly(i,o){var l=tt,d=bn(),m=o(),v=!Gn(d.memoizedState,m);if(v&&(d.memoizedState=m,un=!0),d=d.queue,of(Fy.bind(null,l,d,i),[i]),d.getSnapshot!==o||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,pl(9,Oy.bind(null,l,d,m,o),void 0,null),kt===null)throw Error(t(349));(xs&30)!==0||My(l,o,m)}return m}function My(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=tt.updateQueue,o===null?(o={lastEffect:null,stores:null},tt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Oy(i,o,l,d){o.value=l,o.getSnapshot=d,jy(o)&&Uy(i)}function Fy(i,o,l){return l(function(){jy(o)&&Uy(i)})}function jy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Gn(i,l)}catch{return!0}}function Uy(i){var o=Hr(i,1);o!==null&&Zn(o,i,1,-1)}function By(i){var o=dr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:i},o.queue=i,i=i.dispatch=Kx.bind(null,tt,i),[o.memoizedState,i]}function pl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=tt.updateQueue,o===null?(o={lastEffect:null,stores:null},tt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function zy(){return bn().memoizedState}function yc(i,o,l,d){var m=dr();tt.flags|=i,m.memoizedState=pl(1|o,l,void 0,d===void 0?null:d)}function vc(i,o,l,d){var m=bn();d=d===void 0?null:d;var v=void 0;if(Tt!==null){var T=Tt.memoizedState;if(v=T.destroy,d!==null&&ef(d,T.deps)){m.memoizedState=pl(o,l,v,d);return}}tt.flags|=i,m.memoizedState=pl(1|o,l,v,d)}function $y(i,o){return yc(8390656,8,i,o)}function of(i,o){return vc(2048,8,i,o)}function Hy(i,o){return vc(4,2,i,o)}function Wy(i,o){return vc(4,4,i,o)}function qy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Ky(i,o,l){return l=l!=null?l.concat([i]):null,vc(4,4,qy.bind(null,o,i),l)}function af(){}function Gy(i,o){var l=bn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&ef(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function Qy(i,o){var l=bn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&ef(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function Yy(i,o,l){return(xs&21)===0?(i.baseState&&(i.baseState=!1,un=!0),i.memoizedState=l):(Gn(l,o)||(l=ps(),tt.lanes|=l,As|=l,i.baseState=!0),o)}function Wx(i,o){var l=De;De=l!==0&&4>l?l:4,i(!0);var d=Zd.transition;Zd.transition={};try{i(!1),o()}finally{De=l,Zd.transition=d}}function Xy(){return bn().memoizedState}function qx(i,o,l){var d=Ri(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Jy(i))Zy(o,l);else if(l=Ry(i,o,l,d),l!==null){var m=en();Zn(l,i,d,m),ev(l,o,d)}}function Kx(i,o,l){var d=Ri(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jy(i))Zy(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,C=v(T,l);if(m.hasEagerState=!0,m.eagerState=C,Gn(C,T)){var M=o.interleaved;M===null?(m.next=m,Kd(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}l=Ry(i,o,m,d),l!==null&&(m=en(),Zn(l,i,d,m),ev(l,o,d))}}function Jy(i){var o=i.alternate;return i===tt||o!==null&&o===tt}function Zy(i,o){hl=gc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function ev(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,pi(i,l)}}var _c={readContext:kn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},Gx={readContext:kn,useCallback:function(i,o){return dr().memoizedState=[i,o===void 0?null:o],i},useContext:kn,useEffect:$y,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,yc(4194308,4,qy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return yc(4194308,4,i,o)},useInsertionEffect:function(i,o){return yc(4,2,i,o)},useMemo:function(i,o){var l=dr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=dr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=qx.bind(null,tt,i),[d.memoizedState,i]},useRef:function(i){var o=dr();return i={current:i},o.memoizedState=i},useState:By,useDebugValue:af,useDeferredValue:function(i){return dr().memoizedState=i},useTransition:function(){var i=By(!1),o=i[0];return i=Wx.bind(null,i[1]),dr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=tt,m=dr();if(Je){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),kt===null)throw Error(t(349));(xs&30)!==0||My(d,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,$y(Fy.bind(null,d,v,i),[i]),d.flags|=2048,pl(9,Oy.bind(null,d,v,l,o),void 0,null),l},useId:function(){var i=dr(),o=kt.identifierPrefix;if(Je){var l=$r,d=zr;l=(d&~(1<<32-Xt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=dl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Hx++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Qx={readContext:kn,useCallback:Gy,useContext:kn,useEffect:of,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Wy,useMemo:Qy,useReducer:rf,useRef:zy,useState:function(){return rf(fl)},useDebugValue:af,useDeferredValue:function(i){var o=bn();return Yy(o,Tt.memoizedState,i)},useTransition:function(){var i=rf(fl)[0],o=bn().memoizedState;return[i,o]},useMutableSource:Vy,useSyncExternalStore:Ly,useId:Xy,unstable_isNewReconciler:!1},Yx={readContext:kn,useCallback:Gy,useContext:kn,useEffect:of,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Wy,useMemo:Qy,useReducer:sf,useRef:zy,useState:function(){return sf(fl)},useDebugValue:af,useDeferredValue:function(i){var o=bn();return Tt===null?o.memoizedState=i:Yy(o,Tt.memoizedState,i)},useTransition:function(){var i=sf(fl)[0],o=bn().memoizedState;return[i,o]},useMutableSource:Vy,useSyncExternalStore:Ly,useId:Xy,unstable_isNewReconciler:!1};function Yn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function lf(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var wc={isMounted:function(i){return(i=i._reactInternals)?Bn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=en(),m=Ri(i),v=Wr(d,m);v.payload=o,l!=null&&(v.callback=l),o=xi(i,v,m),o!==null&&(Zn(o,i,m,d),dc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=en(),m=Ri(i),v=Wr(d,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=xi(i,v,m),o!==null&&(Zn(o,i,m,d),dc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=en(),d=Ri(i),m=Wr(l,d);m.tag=2,o!=null&&(m.callback=o),o=xi(i,m,d),o!==null&&(Zn(o,i,d,l),dc(o,i,d))}};function tv(i,o,l,d,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!el(l,d)||!el(m,v):!0}function nv(i,o,l){var d=!1,m=Ti,v=o.contextType;return typeof v=="object"&&v!==null?v=kn(v):(m=ln(o)?ws:zt.current,d=o.contextTypes,v=(d=d!=null)?bo(i,m):Ti),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=wc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function rv(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&wc.enqueueReplaceState(o,o.state,null)}function uf(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Gd(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=kn(v):(v=ln(o)?ws:zt.current,m.context=bo(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(lf(i,o,v,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&wc.enqueueReplaceState(m,m.state,null),fc(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function jo(i,o){try{var l="",d=o;do l+=Ce(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function cf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function hf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Xx=typeof WeakMap=="function"?WeakMap:Map;function iv(i,o,l){l=Wr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Pc||(Pc=!0,Af=d),hf(i,o)},l}function sv(i,o,l){l=Wr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){hf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){hf(i,o),typeof d!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function ov(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new Xx;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=h1.bind(null,i,o,l),o.then(i,i))}function av(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function lv(i,o,l,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Wr(-1,1),o.tag=2,xi(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var Jx=Q.ReactCurrentOwner,un=!1;function Zt(i,o,l,d){o.child=i===null?Cy(o,null,l,d):Lo(o,i.child,l,d)}function uv(i,o,l,d,m){l=l.render;var v=o.ref;return Oo(o,m),d=tf(i,o,l,d,v,m),l=nf(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qr(i,o,m)):(Je&&l&&Fd(o),o.flags|=1,Zt(i,o,d,m),o.child)}function cv(i,o,l,d,m){if(i===null){var v=l.type;return typeof v=="function"&&!Df(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,hv(i,o,v,d,m)):(i=Dc(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:el,l(T,d)&&i.ref===o.ref)return qr(i,o,m)}return o.flags|=1,i=bi(v,d),i.ref=o.ref,i.return=o,o.child=i}function hv(i,o,l,d,m){if(i!==null){var v=i.memoizedProps;if(el(v,d)&&i.ref===o.ref)if(un=!1,o.pendingProps=d=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(un=!0);else return o.lanes=i.lanes,qr(i,o,m)}return df(i,o,l,d,m)}function dv(i,o,l){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Bo,Tn),Tn|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ke(Bo,Tn),Tn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Ke(Bo,Tn),Tn|=d}else v!==null?(d=v.baseLanes|l,o.memoizedState=null):d=l,Ke(Bo,Tn),Tn|=d;return Zt(i,o,m,l),o.child}function fv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function df(i,o,l,d,m){var v=ln(l)?ws:zt.current;return v=bo(o,v),Oo(o,m),l=tf(i,o,l,d,v,m),d=nf(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qr(i,o,m)):(Je&&d&&Fd(o),o.flags|=1,Zt(i,o,l,m),o.child)}function pv(i,o,l,d,m){if(ln(l)){var v=!0;ic(o)}else v=!1;if(Oo(o,m),o.stateNode===null)Tc(i,o),nv(o,l,d),uf(o,l,d,m),d=!0;else if(i===null){var T=o.stateNode,C=o.memoizedProps;T.props=C;var M=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=kn(K):(K=ln(l)?ws:zt.current,K=bo(o,K));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==d||M!==K)&&rv(o,T,d,K),Ii=!1;var J=o.memoizedState;T.state=J,fc(o,d,T,m),M=o.memoizedState,C!==d||J!==M||an.current||Ii?(typeof te=="function"&&(lf(o,l,te,d),M=o.memoizedState),(C=Ii||tv(o,l,C,d,J,M,K))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),T.props=d,T.state=M,T.context=K,d=C):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,ky(i,o),C=o.memoizedProps,K=o.type===o.elementType?C:Yn(o.type,C),T.props=K,ne=o.pendingProps,J=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=kn(M):(M=ln(l)?ws:zt.current,M=bo(o,M));var le=l.getDerivedStateFromProps;(te=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==ne||J!==M)&&rv(o,T,d,M),Ii=!1,J=o.memoizedState,T.state=J,fc(o,d,T,m);var de=o.memoizedState;C!==ne||J!==de||an.current||Ii?(typeof le=="function"&&(lf(o,l,le,d),de=o.memoizedState),(K=Ii||tv(o,l,K,d,J,de,M)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=de),T.props=d,T.state=de,T.context=M,d=K):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),d=!1)}return ff(i,o,l,d,v,m)}function ff(i,o,l,d,m,v){fv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&_y(o,l,!1),qr(i,o,v);d=o.stateNode,Jx.current=o;var C=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Lo(o,i.child,null,v),o.child=Lo(o,null,C,v)):Zt(i,o,C,v),o.memoizedState=d.state,m&&_y(o,l,!0),o.child}function mv(i){var o=i.stateNode;o.pendingContext?yy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&yy(i,o.context,!1),Qd(i,o.containerInfo)}function gv(i,o,l,d,m){return Vo(),zd(m),o.flags|=256,Zt(i,o,l,d),o.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function mf(i){return{baseLanes:i,cachePool:null,transitions:null}}function yv(i,o,l){var d=o.pendingProps,m=et.current,v=!1,T=(o.flags&128)!==0,C;if((C=T)||(C=i!==null&&i.memoizedState===null?!1:(m&2)!==0),C?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ke(et,m&1),i===null)return Bd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Vc(T,d,0,null),i=ks(i,d,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=mf(l),o.memoizedState=pf,i):gf(o,T));if(m=i.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return Zx(i,o,T,d,C,m,l);if(v){v=d.fallback,T=o.mode,m=i.child,C=m.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=bi(m,M),d.subtreeFlags=m.subtreeFlags&14680064),C!==null?v=bi(C,v):(v=ks(v,T,l,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=i.child.memoizedState,T=T===null?mf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~l,o.memoizedState=pf,d}return v=i.child,i=v.sibling,d=bi(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function gf(i,o){return o=Vc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ec(i,o,l,d){return d!==null&&zd(d),Lo(o,i.child,null,l),i=gf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Zx(i,o,l,d,m,v,T){if(l)return o.flags&256?(o.flags&=-257,d=cf(Error(t(422))),Ec(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Vc({mode:"visible",children:d.children},m,0,null),v=ks(v,m,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&Lo(o,i.child,null,T),o.child.memoizedState=mf(T),o.memoizedState=pf,v);if((o.mode&1)===0)return Ec(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var C=d.dgst;return d=C,v=Error(t(419)),d=cf(v,d,void 0),Ec(i,o,T,d)}if(C=(T&i.childLanes)!==0,un||C){if(d=kt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Hr(i,m),Zn(d,i,m,-1))}return Nf(),d=cf(Error(t(421))),Ec(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=d1.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,En=wi(m.nextSibling),wn=o,Je=!0,Qn=null,i!==null&&(Cn[Rn++]=zr,Cn[Rn++]=$r,Cn[Rn++]=Es,zr=i.id,$r=i.overflow,Es=o),o=gf(o,d.children),o.flags|=4096,o)}function vv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),qd(i.return,o,l)}function yf(i,o,l,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function _v(i,o,l){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(Zt(i,o,d.children,l),d=et.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vv(i,l,o);else if(i.tag===19)vv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ke(et,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&pc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),yf(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&pc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}yf(o,!0,l,null,v);break;case"together":yf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Tc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function qr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),As|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=bi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=bi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function e1(i,o,l){switch(o.tag){case 3:mv(o),Vo();break;case 5:Dy(o);break;case 1:ln(o.type)&&ic(o);break;case 4:Qd(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Ke(cc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ke(et,et.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?yv(i,o,l):(Ke(et,et.current&1),i=qr(i,o,l),i!==null?i.sibling:null);Ke(et,et.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return _v(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ke(et,et.current),d)break;return null;case 22:case 23:return o.lanes=0,dv(i,o,l)}return qr(i,o,l)}var wv,vf,Ev,Tv;wv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},vf=function(){},Ev=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,Is(hr.current);var v=null;switch(l){case"input":m=rs(i,m),d=rs(i,d),v=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),v=[];break;case"textarea":m=Ra(i,m),d=Ra(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=tc)}La(l,d);var T;l=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var C=m[K];for(T in C)C.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in d){var M=d[K];if(C=m!=null?m[K]:void 0,d.hasOwnProperty(K)&&M!==C&&(M!=null||C!=null))if(K==="style")if(C){for(T in C)!C.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&C[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(v||(v=[]),v.push(K,l)),l=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(v=v||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&Ge("scroll",i),v||C===M||(v=[])):(v=v||[]).push(K,M))}l&&(v=v||[]).push("style",l);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},Tv=function(i,o,l,d){l!==d&&(o.flags|=4)};function ml(i,o){if(!Je)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ht(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function t1(i,o,l){var d=o.pendingProps;switch(jd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return ln(o.type)&&rc(),Ht(o),null;case 3:return d=o.stateNode,Fo(),Qe(an),Qe(zt),Jd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(lc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Qn!==null&&(Rf(Qn),Qn=null))),vf(i,o),Ht(o),null;case 5:Yd(o);var m=Is(cl.current);if(l=o.type,i!==null&&o.stateNode!=null)Ev(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Ht(o),null}if(i=Is(hr.current),lc(o)){d=o.stateNode,l=o.type;var v=o.memoizedProps;switch(d[cr]=o,d[sl]=v,i=(o.mode&1)!==0,l){case"dialog":Ge("cancel",d),Ge("close",d);break;case"iframe":case"object":case"embed":Ge("load",d);break;case"video":case"audio":for(m=0;m<nl.length;m++)Ge(nl[m],d);break;case"source":Ge("error",d);break;case"img":case"image":case"link":Ge("error",d),Ge("load",d);break;case"details":Ge("toggle",d);break;case"input":Js(d,v),Ge("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ge("invalid",d);break;case"textarea":eo(d,v),Ge("invalid",d)}La(l,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var C=v[T];T==="children"?typeof C=="string"?d.textContent!==C&&(v.suppressHydrationWarning!==!0&&ec(d.textContent,C,i),m=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(v.suppressHydrationWarning!==!0&&ec(d.textContent,C,i),m=["children",""+C]):s.hasOwnProperty(T)&&C!=null&&T==="onScroll"&&Ge("scroll",d)}switch(l){case"input":kr(d),Au(d,v,!0);break;case"textarea":kr(d),ka(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=tc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_t(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[cr]=o,i[sl]=d,wv(i,o,!1,!1),o.stateNode=i;e:{switch(T=Ma(l,d),l){case"dialog":Ge("cancel",i),Ge("close",i),m=d;break;case"iframe":case"object":case"embed":Ge("load",i),m=d;break;case"video":case"audio":for(m=0;m<nl.length;m++)Ge(nl[m],i);m=d;break;case"source":Ge("error",i),m=d;break;case"img":case"image":case"link":Ge("error",i),Ge("load",i),m=d;break;case"details":Ge("toggle",i),m=d;break;case"input":Js(i,d),m=rs(i,d),Ge("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),Ge("invalid",i);break;case"textarea":eo(i,d),m=Ra(i,d),Ge("invalid",i);break;default:m=d}La(l,m),C=m;for(v in C)if(C.hasOwnProperty(v)){var M=C[v];v==="style"?Da(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ba(i,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&ui(i,M):typeof M=="number"&&ui(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Ge("scroll",i):M!=null&&W(i,v,M,T))}switch(l){case"input":kr(i),Au(i,d,!1);break;case"textarea":kr(i),ka(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ue(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?Nr(i,!!d.multiple,v,!1):d.defaultValue!=null&&Nr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=tc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(i&&o.stateNode!=null)Tv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=Is(cl.current),Is(hr.current),lc(o)){if(d=o.stateNode,l=o.memoizedProps,d[cr]=o,(v=d.nodeValue!==l)&&(i=wn,i!==null))switch(i.tag){case 3:ec(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ec(d.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[cr]=o,o.stateNode=d}return Ht(o),null;case 13:if(Qe(et),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Je&&En!==null&&(o.mode&1)!==0&&(o.flags&128)===0)xy(),Vo(),o.flags|=98560,v=!1;else if(v=lc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[cr]=o}else Vo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),v=!1}else Qn!==null&&(Rf(Qn),Qn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(et.current&1)!==0?St===0&&(St=3):Nf())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return Fo(),vf(i,o),i===null&&rl(o.stateNode.containerInfo),Ht(o),null;case 10:return Wd(o.type._context),Ht(o),null;case 17:return ln(o.type)&&rc(),Ht(o),null;case 19:if(Qe(et),v=o.memoizedState,v===null)return Ht(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)ml(v,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=pc(i),T!==null){for(o.flags|=128,ml(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)v=l,i=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ke(et,et.current&1|2),o.child}i=i.sibling}v.tail!==null&&qe()>zo&&(o.flags|=128,d=!0,ml(v,!1),o.lanes=4194304)}else{if(!d)if(i=pc(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),ml(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!Je)return Ht(o),null}else 2*qe()-v.renderingStartTime>zo&&l!==1073741824&&(o.flags|=128,d=!0,ml(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(l=v.last,l!==null?l.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=qe(),o.sibling=null,l=et.current,Ke(et,d?l&1|2:l&1),o):(Ht(o),null);case 22:case 23:return bf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Tn&1073741824)!==0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function n1(i,o){switch(jd(o),o.tag){case 1:return ln(o.type)&&rc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Fo(),Qe(an),Qe(zt),Jd(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Yd(o),null;case 13:if(Qe(et),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Vo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Qe(et),null;case 4:return Fo(),null;case 10:return Wd(o.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var Sc=!1,Wt=!1,r1=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Uo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){at(i,o,d)}else l.current=null}function _f(i,o,l){try{l()}catch(d){at(i,o,d)}}var Sv=!1;function i1(i,o){if(kd=yi,i=ty(),Td(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,C=-1,M=-1,K=0,te=0,ne=i,J=null;t:for(;;){for(var le;ne!==l||m!==0&&ne.nodeType!==3||(C=T+m),ne!==v||d!==0&&ne.nodeType!==3||(M=T+d),ne.nodeType===3&&(T+=ne.nodeValue.length),(le=ne.firstChild)!==null;)J=ne,ne=le;for(;;){if(ne===i)break t;if(J===l&&++K===m&&(C=T),J===v&&++te===d&&(M=T),(le=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=le}l=C===-1||M===-1?null:{start:C,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(bd={focusedElem:i,selectionRange:l},yi=!1,ce=o;ce!==null;)if(o=ce,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ce=i;else for(;ce!==null;){o=ce;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ct=de.memoizedState,H=o.stateNode,j=H.getSnapshotBeforeUpdate(o.elementType===o.type?fe:Yn(o.type,fe),ct);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){at(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,ce=i;break}ce=o.return}return de=Sv,Sv=!1,de}function gl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&_f(o,l,v)}m=m.next}while(m!==d)}}function Ic(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function wf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Iv(i){var o=i.alternate;o!==null&&(i.alternate=null,Iv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[cr],delete o[sl],delete o[Ld],delete o[Ux],delete o[Bx])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function xv(i){return i.tag===5||i.tag===3||i.tag===4}function Av(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ef(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=tc));else if(d!==4&&(i=i.child,i!==null))for(Ef(i,o,l),i=i.sibling;i!==null;)Ef(i,o,l),i=i.sibling}function Tf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Tf(i,o,l),i=i.sibling;i!==null;)Tf(i,o,l),i=i.sibling}var Lt=null,Xn=!1;function Ai(i,o,l){for(l=l.child;l!==null;)Pv(i,o,l),l=l.sibling}function Pv(i,o,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ds,l)}catch{}switch(l.tag){case 5:Wt||Uo(l,o);case 6:var d=Lt,m=Xn;Lt=null,Ai(i,o,l),Lt=d,Xn=m,Lt!==null&&(Xn?(i=Lt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Xn?(i=Lt,l=l.stateNode,i.nodeType===8?Vd(i.parentNode,l):i.nodeType===1&&Vd(i,l),qn(i)):Vd(Lt,l.stateNode));break;case 4:d=Lt,m=Xn,Lt=l.stateNode.containerInfo,Xn=!0,Ai(i,o,l),Lt=d,Xn=m;break;case 0:case 11:case 14:case 15:if(!Wt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&_f(l,o,T),m=m.next}while(m!==d)}Ai(i,o,l);break;case 1:if(!Wt&&(Uo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(C){at(l,o,C)}Ai(i,o,l);break;case 21:Ai(i,o,l);break;case 22:l.mode&1?(Wt=(d=Wt)||l.memoizedState!==null,Ai(i,o,l),Wt=d):Ai(i,o,l);break;default:Ai(i,o,l)}}function Cv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new r1),o.forEach(function(d){var m=f1.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Jn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=i,T=o,C=T;e:for(;C!==null;){switch(C.tag){case 5:Lt=C.stateNode,Xn=!1;break e;case 3:Lt=C.stateNode.containerInfo,Xn=!0;break e;case 4:Lt=C.stateNode.containerInfo,Xn=!0;break e}C=C.return}if(Lt===null)throw Error(t(160));Pv(v,T,m),Lt=null,Xn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(K){at(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Rv(o,i),o=o.sibling}function Rv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Jn(o,i),fr(i),d&4){try{gl(3,i,i.return),Ic(3,i)}catch(fe){at(i,i.return,fe)}try{gl(5,i,i.return)}catch(fe){at(i,i.return,fe)}}break;case 1:Jn(o,i),fr(i),d&512&&l!==null&&Uo(l,l.return);break;case 5:if(Jn(o,i),fr(i),d&512&&l!==null&&Uo(l,l.return),i.flags&32){var m=i.stateNode;try{ui(m,"")}catch(fe){at(i,i.return,fe)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=l!==null?l.memoizedProps:v,C=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{C==="input"&&v.type==="radio"&&v.name!=null&&Pa(m,v),Ma(C,T);var K=Ma(C,v);for(T=0;T<M.length;T+=2){var te=M[T],ne=M[T+1];te==="style"?Da(m,ne):te==="dangerouslySetInnerHTML"?ba(m,ne):te==="children"?ui(m,ne):W(m,te,ne,K)}switch(C){case"input":Ca(m,v);break;case"textarea":to(m,v);break;case"select":var J=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var le=v.value;le!=null?Nr(m,!!v.multiple,le,!1):J!==!!v.multiple&&(v.defaultValue!=null?Nr(m,!!v.multiple,v.defaultValue,!0):Nr(m,!!v.multiple,v.multiple?[]:"",!1))}m[sl]=v}catch(fe){at(i,i.return,fe)}}break;case 6:if(Jn(o,i),fr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(fe){at(i,i.return,fe)}}break;case 3:if(Jn(o,i),fr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{qn(o.containerInfo)}catch(fe){at(i,i.return,fe)}break;case 4:Jn(o,i),fr(i);break;case 13:Jn(o,i),fr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(xf=qe())),d&4&&Cv(i);break;case 22:if(te=l!==null&&l.memoizedState!==null,i.mode&1?(Wt=(K=Wt)||te,Jn(o,i),Wt=K):Jn(o,i),fr(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!te&&(i.mode&1)!==0)for(ce=i,te=i.child;te!==null;){for(ne=ce=te;ce!==null;){switch(J=ce,le=J.child,J.tag){case 0:case 11:case 14:case 15:gl(4,J,J.return);break;case 1:Uo(J,J.return);var de=J.stateNode;if(typeof de.componentWillUnmount=="function"){d=J,l=J.return;try{o=d,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(fe){at(d,l,fe)}}break;case 5:Uo(J,J.return);break;case 22:if(J.memoizedState!==null){Nv(ne);continue}}le!==null?(le.return=J,ce=le):Nv(ne)}te=te.sibling}e:for(te=null,ne=i;;){if(ne.tag===5){if(te===null){te=ne;try{m=ne.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(C=ne.stateNode,M=ne.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,C.style.display=Na("display",T))}catch(fe){at(i,i.return,fe)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=K?"":ne.memoizedProps}catch(fe){at(i,i.return,fe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Jn(o,i),fr(i),d&4&&Cv(i);break;case 21:break;default:Jn(o,i),fr(i)}}function fr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(xv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ui(m,""),d.flags&=-33);var v=Av(i);Tf(i,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,C=Av(i);Ef(i,C,T);break;default:throw Error(t(161))}}catch(M){at(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function s1(i,o,l){ce=i,kv(i)}function kv(i,o,l){for(var d=(i.mode&1)!==0;ce!==null;){var m=ce,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Sc;if(!T){var C=m.alternate,M=C!==null&&C.memoizedState!==null||Wt;C=Sc;var K=Wt;if(Sc=T,(Wt=M)&&!K)for(ce=m;ce!==null;)T=ce,M=T.child,T.tag===22&&T.memoizedState!==null?Dv(m):M!==null?(M.return=T,ce=M):Dv(m);for(;v!==null;)ce=v,kv(v),v=v.sibling;ce=m,Sc=C,Wt=K}bv(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,ce=v):bv(i)}}function bv(i){for(;ce!==null;){var o=ce;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Wt||Ic(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Wt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Yn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Ny(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Ny(o,T,l)}break;case 5:var C=o.stateNode;if(l===null&&o.flags&4){l=C;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&qn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||o.flags&512&&wf(o)}catch(J){at(o,o.return,J)}}if(o===i){ce=null;break}if(l=o.sibling,l!==null){l.return=o.return,ce=l;break}ce=o.return}}function Nv(i){for(;ce!==null;){var o=ce;if(o===i){ce=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ce=l;break}ce=o.return}}function Dv(i){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Ic(4,o)}catch(M){at(o,l,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(M){at(o,m,M)}}var v=o.return;try{wf(o)}catch(M){at(o,v,M)}break;case 5:var T=o.return;try{wf(o)}catch(M){at(o,T,M)}}}catch(M){at(o,o.return,M)}if(o===i){ce=null;break}var C=o.sibling;if(C!==null){C.return=o.return,ce=C;break}ce=o.return}}var o1=Math.ceil,xc=Q.ReactCurrentDispatcher,Sf=Q.ReactCurrentOwner,Nn=Q.ReactCurrentBatchConfig,Oe=0,kt=null,pt=null,Mt=0,Tn=0,Bo=Ei(0),St=0,yl=null,As=0,Ac=0,If=0,vl=null,cn=null,xf=0,zo=1/0,Kr=null,Pc=!1,Af=null,Pi=null,Cc=!1,Ci=null,Rc=0,_l=0,Pf=null,kc=-1,bc=0;function en(){return(Oe&6)!==0?qe():kc!==-1?kc:kc=qe()}function Ri(i){return(i.mode&1)===0?1:(Oe&2)!==0&&Mt!==0?Mt&-Mt:$x.transition!==null?(bc===0&&(bc=ps()),bc):(i=De,i!==0||(i=window.event,i=i===void 0?16:Ka(i.type)),i)}function Zn(i,o,l,d){if(50<_l)throw _l=0,Pf=null,Error(t(185));fi(i,l,d),((Oe&2)===0||i!==kt)&&(i===kt&&((Oe&2)===0&&(Ac|=l),St===4&&ki(i,Mt)),hn(i,d),l===1&&Oe===0&&(o.mode&1)===0&&(zo=qe()+500,sc&&Si()))}function hn(i,o){var l=i.callbackNode;Lr(i,o);var d=fs(i,i===kt?Mt:0);if(d===0)l!==null&&za(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&za(l),o===1)i.tag===0?zx(Lv.bind(null,i)):wy(Lv.bind(null,i)),Fx(function(){(Oe&6)===0&&Si()}),l=null;else{switch(mi(d)){case 1:l=hs;break;case 4:l=ci;break;case 16:l=xn;break;case 536870912:l=bu;break;default:l=xn}l=$v(l,Vv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Vv(i,o){if(kc=-1,bc=0,(Oe&6)!==0)throw Error(t(327));var l=i.callbackNode;if($o()&&i.callbackNode!==l)return null;var d=fs(i,i===kt?Mt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Nc(i,d);else{o=d;var m=Oe;Oe|=2;var v=Ov();(kt!==i||Mt!==o)&&(Kr=null,zo=qe()+500,Cs(i,o));do try{u1();break}catch(C){Mv(i,C)}while(!0);Hd(),xc.current=v,Oe=m,pt!==null?o=0:(kt=null,Mt=0,o=St)}if(o!==0){if(o===2&&(m=yn(i),m!==0&&(d=m,o=Cf(i,m))),o===1)throw l=yl,Cs(i,0),ki(i,d),hn(i,qe()),l;if(o===6)ki(i,d);else{if(m=i.current.alternate,(d&30)===0&&!a1(m)&&(o=Nc(i,d),o===2&&(v=yn(i),v!==0&&(d=v,o=Cf(i,v))),o===1))throw l=yl,Cs(i,0),ki(i,d),hn(i,qe()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Rs(i,cn,Kr);break;case 3:if(ki(i,d),(d&130023424)===d&&(o=xf+500-qe(),10<o)){if(fs(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){en(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Dd(Rs.bind(null,i,cn,Kr),o);break}Rs(i,cn,Kr);break;case 4:if(ki(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-Xt(d);v=1<<T,T=o[T],T>m&&(m=T),d&=~v}if(d=m,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*o1(d/1960))-d,10<d){i.timeoutHandle=Dd(Rs.bind(null,i,cn,Kr),d);break}Rs(i,cn,Kr);break;case 5:Rs(i,cn,Kr);break;default:throw Error(t(329))}}}return hn(i,qe()),i.callbackNode===l?Vv.bind(null,i):null}function Cf(i,o){var l=vl;return i.current.memoizedState.isDehydrated&&(Cs(i,o).flags|=256),i=Nc(i,o),i!==2&&(o=cn,cn=l,o!==null&&Rf(o)),i}function Rf(i){cn===null?cn=i:cn.push.apply(cn,i)}function a1(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!Gn(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ki(i,o){for(o&=~If,o&=~Ac,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Xt(o),d=1<<l;i[l]=-1,o&=~d}}function Lv(i){if((Oe&6)!==0)throw Error(t(327));$o();var o=fs(i,0);if((o&1)===0)return hn(i,qe()),null;var l=Nc(i,o);if(i.tag!==0&&l===2){var d=yn(i);d!==0&&(o=d,l=Cf(i,d))}if(l===1)throw l=yl,Cs(i,0),ki(i,o),hn(i,qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Rs(i,cn,Kr),hn(i,qe()),null}function kf(i,o){var l=Oe;Oe|=1;try{return i(o)}finally{Oe=l,Oe===0&&(zo=qe()+500,sc&&Si())}}function Ps(i){Ci!==null&&Ci.tag===0&&(Oe&6)===0&&$o();var o=Oe;Oe|=1;var l=Nn.transition,d=De;try{if(Nn.transition=null,De=1,i)return i()}finally{De=d,Nn.transition=l,Oe=o,(Oe&6)===0&&Si()}}function bf(){Tn=Bo.current,Qe(Bo)}function Cs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,Ox(l)),pt!==null)for(l=pt.return;l!==null;){var d=l;switch(jd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&rc();break;case 3:Fo(),Qe(an),Qe(zt),Jd();break;case 5:Yd(d);break;case 4:Fo();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Wd(d.type._context);break;case 22:case 23:bf()}l=l.return}if(kt=i,pt=i=bi(i.current,null),Mt=Tn=o,St=0,yl=null,If=Ac=As=0,cn=vl=null,Ss!==null){for(o=0;o<Ss.length;o++)if(l=Ss[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}l.pending=d}Ss=null}return i}function Mv(i,o){do{var l=pt;try{if(Hd(),mc.current=_c,gc){for(var d=tt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}gc=!1}if(xs=0,Rt=Tt=tt=null,hl=!1,dl=0,Sf.current=null,l===null||l.return===null){St=1,yl=o,pt=null;break}e:{var v=i,T=l.return,C=l,M=o;if(o=Mt,C.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,te=C,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=te.alternate;J?(te.updateQueue=J.updateQueue,te.memoizedState=J.memoizedState,te.lanes=J.lanes):(te.updateQueue=null,te.memoizedState=null)}var le=av(T);if(le!==null){le.flags&=-257,lv(le,T,C,v,o),le.mode&1&&ov(v,K,o),o=le,M=K;var de=o.updateQueue;if(de===null){var fe=new Set;fe.add(M),o.updateQueue=fe}else de.add(M);break e}else{if((o&1)===0){ov(v,K,o),Nf();break e}M=Error(t(426))}}else if(Je&&C.mode&1){var ct=av(T);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),lv(ct,T,C,v,o),zd(jo(M,C));break e}}v=M=jo(M,C),St!==4&&(St=2),vl===null?vl=[v]:vl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var H=iv(v,M,o);by(v,H);break e;case 1:C=M;var j=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Pi===null||!Pi.has(q)))){v.flags|=65536,o&=-o,v.lanes|=o;var ie=sv(v,C,o);by(v,ie);break e}}v=v.return}while(v!==null)}jv(l)}catch(pe){o=pe,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function Ov(){var i=xc.current;return xc.current=_c,i===null?_c:i}function Nf(){(St===0||St===3||St===2)&&(St=4),kt===null||(As&268435455)===0&&(Ac&268435455)===0||ki(kt,Mt)}function Nc(i,o){var l=Oe;Oe|=2;var d=Ov();(kt!==i||Mt!==o)&&(Kr=null,Cs(i,o));do try{l1();break}catch(m){Mv(i,m)}while(!0);if(Hd(),Oe=l,xc.current=d,pt!==null)throw Error(t(261));return kt=null,Mt=0,St}function l1(){for(;pt!==null;)Fv(pt)}function u1(){for(;pt!==null&&!Ru();)Fv(pt)}function Fv(i){var o=zv(i.alternate,i,Tn);i.memoizedProps=i.pendingProps,o===null?jv(i):pt=o,Sf.current=null}function jv(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=t1(l,o,Tn),l!==null){pt=l;return}}else{if(l=n1(l,o),l!==null){l.flags&=32767,pt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{St=6,pt=null;return}}if(o=o.sibling,o!==null){pt=o;return}pt=o=i}while(o!==null);St===0&&(St=5)}function Rs(i,o,l){var d=De,m=Nn.transition;try{Nn.transition=null,De=1,c1(i,o,l,d)}finally{Nn.transition=m,De=d}return null}function c1(i,o,l,d){do $o();while(Ci!==null);if((Oe&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(He(i,v),i===kt&&(pt=kt=null,Mt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Cc||(Cc=!0,$v(xn,function(){return $o(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Nn.transition,Nn.transition=null;var T=De;De=1;var C=Oe;Oe|=4,Sf.current=null,i1(i,l),Rv(l,i),kx(bd),yi=!!kd,bd=kd=null,i.current=l,s1(l),pd(),Oe=C,De=T,Nn.transition=v}else i.current=l;if(Cc&&(Cc=!1,Ci=i,Rc=m),v=i.pendingLanes,v===0&&(Pi=null),Nu(l.stateNode),hn(i,qe()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Pc)throw Pc=!1,i=Af,Af=null,i;return(Rc&1)!==0&&i.tag!==0&&$o(),v=i.pendingLanes,(v&1)!==0?i===Pf?_l++:(_l=0,Pf=i):_l=0,Si(),null}function $o(){if(Ci!==null){var i=mi(Rc),o=Nn.transition,l=De;try{if(Nn.transition=null,De=16>i?16:i,Ci===null)var d=!1;else{if(i=Ci,Ci=null,Rc=0,(Oe&6)!==0)throw Error(t(331));var m=Oe;for(Oe|=4,ce=i.current;ce!==null;){var v=ce,T=v.child;if((ce.flags&16)!==0){var C=v.deletions;if(C!==null){for(var M=0;M<C.length;M++){var K=C[M];for(ce=K;ce!==null;){var te=ce;switch(te.tag){case 0:case 11:case 15:gl(8,te,v)}var ne=te.child;if(ne!==null)ne.return=te,ce=ne;else for(;ce!==null;){te=ce;var J=te.sibling,le=te.return;if(Iv(te),te===K){ce=null;break}if(J!==null){J.return=le,ce=J;break}ce=le}}}var de=v.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ct=fe.sibling;fe.sibling=null,fe=ct}while(fe!==null)}}ce=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,ce=T;else e:for(;ce!==null;){if(v=ce,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:gl(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,ce=H;break e}ce=v.return}}var j=i.current;for(ce=j;ce!==null;){T=ce;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,ce=q;else e:for(T=j;ce!==null;){if(C=ce,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Ic(9,C)}}catch(pe){at(C,C.return,pe)}if(C===T){ce=null;break e}var ie=C.sibling;if(ie!==null){ie.return=C.return,ce=ie;break e}ce=C.return}}if(Oe=m,Si(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ds,i)}catch{}d=!0}return d}finally{De=l,Nn.transition=o}}return!1}function Uv(i,o,l){o=jo(l,o),o=iv(i,o,1),i=xi(i,o,1),o=en(),i!==null&&(fi(i,1,o),hn(i,o))}function at(i,o,l){if(i.tag===3)Uv(i,i,l);else for(;o!==null;){if(o.tag===3){Uv(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Pi===null||!Pi.has(d))){i=jo(l,i),i=sv(o,i,1),o=xi(o,i,1),i=en(),o!==null&&(fi(o,1,i),hn(o,i));break}}o=o.return}}function h1(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=en(),i.pingedLanes|=i.suspendedLanes&l,kt===i&&(Mt&l)===l&&(St===4||St===3&&(Mt&130023424)===Mt&&500>qe()-xf?Cs(i,0):If|=l),hn(i,o)}function Bv(i,o){o===0&&((i.mode&1)===0?o=1:(o=ho,ho<<=1,(ho&130023424)===0&&(ho=4194304)));var l=en();i=Hr(i,o),i!==null&&(fi(i,o,l),hn(i,l))}function d1(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Bv(i,l)}function f1(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Bv(i,l)}var zv;zv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||an.current)un=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return un=!1,e1(i,o,l);un=(i.flags&131072)!==0}else un=!1,Je&&(o.flags&1048576)!==0&&Ey(o,ac,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Tc(i,o),i=o.pendingProps;var m=bo(o,zt.current);Oo(o,l),m=tf(null,o,d,i,m,l);var v=nf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ln(d)?(v=!0,ic(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Gd(o),m.updater=wc,o.stateNode=m,m._reactInternals=o,uf(o,d,i,l),o=ff(null,o,d,!0,v,l)):(o.tag=0,Je&&v&&Fd(o),Zt(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Tc(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=m1(d),i=Yn(d,i),m){case 0:o=df(null,o,d,i,l);break e;case 1:o=pv(null,o,d,i,l);break e;case 11:o=uv(null,o,d,i,l);break e;case 14:o=cv(null,o,d,Yn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Yn(d,m),df(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Yn(d,m),pv(i,o,d,m,l);case 3:e:{if(mv(o),i===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,m=v.element,ky(i,o),fc(o,d,null,l);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=jo(Error(t(423)),o),o=gv(i,o,d,l,m);break e}else if(d!==m){m=jo(Error(t(424)),o),o=gv(i,o,d,l,m);break e}else for(En=wi(o.stateNode.containerInfo.firstChild),wn=o,Je=!0,Qn=null,l=Cy(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Vo(),d===m){o=qr(i,o,l);break e}Zt(i,o,d,l)}o=o.child}return o;case 5:return Dy(o),i===null&&Bd(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,Nd(d,m)?T=null:v!==null&&Nd(d,v)&&(o.flags|=32),fv(i,o),Zt(i,o,T,l),o.child;case 6:return i===null&&Bd(o),null;case 13:return yv(i,o,l);case 4:return Qd(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Lo(o,null,d,l):Zt(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Yn(d,m),uv(i,o,d,m,l);case 7:return Zt(i,o,o.pendingProps,l),o.child;case 8:return Zt(i,o,o.pendingProps.children,l),o.child;case 12:return Zt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Ke(cc,d._currentValue),d._currentValue=T,v!==null)if(Gn(v.value,T)){if(v.children===m.children&&!an.current){o=qr(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var C=v.dependencies;if(C!==null){T=v.child;for(var M=C.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Wr(-1,l&-l),M.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?M.next=M:(M.next=te.next,te.next=M),K.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),qd(v.return,l,o),C.lanes|=l;break}M=M.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=l,C=T.alternate,C!==null&&(C.lanes|=l),qd(T,l,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}Zt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Oo(o,l),m=kn(m),d=d(m),o.flags|=1,Zt(i,o,d,l),o.child;case 14:return d=o.type,m=Yn(d,o.pendingProps),m=Yn(d.type,m),cv(i,o,d,m,l);case 15:return hv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Yn(d,m),Tc(i,o),o.tag=1,ln(d)?(i=!0,ic(o)):i=!1,Oo(o,l),nv(o,d,m),uf(o,d,m,l),ff(null,o,d,!0,i,l);case 19:return _v(i,o,l);case 22:return dv(i,o,l)}throw Error(t(156,o.tag))};function $v(i,o){return uo(i,o)}function p1(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,o,l,d){return new p1(i,o,l,d)}function Df(i){return i=i.prototype,!(!i||!i.isReactComponent)}function m1(i){if(typeof i=="function")return Df(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===ot)return 14}return 2}function bi(i,o){var l=i.alternate;return l===null?(l=Dn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Dc(i,o,l,d,m,v){var T=2;if(d=i,typeof i=="function")Df(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case V:return ks(l.children,m,v,o);case I:T=8,m|=8;break;case P:return i=Dn(12,l,o,m|2),i.elementType=P,i.lanes=v,i;case R:return i=Dn(13,l,o,m),i.elementType=R,i.lanes=v,i;case $e:return i=Dn(19,l,o,m),i.elementType=$e,i.lanes=v,i;case Te:return Vc(l,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:T=10;break e;case L:T=9;break e;case U:T=11;break e;case ot:T=14;break e;case vt:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Dn(T,l,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function ks(i,o,l,d){return i=Dn(7,i,d,o),i.lanes=l,i}function Vc(i,o,l,d){return i=Dn(22,i,d,o),i.elementType=Te,i.lanes=l,i.stateNode={isHidden:!1},i}function Vf(i,o,l){return i=Dn(6,i,null,o),i.lanes=l,i}function Lf(i,o,l){return o=Dn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function g1(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=di(0),this.expirationTimes=di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Mf(i,o,l,d,m,v,T,C,M){return i=new g1(i,o,l,C,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Dn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gd(v),i}function y1(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function Hv(i){if(!i)return Ti;i=i._reactInternals;e:{if(Bn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ln(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(ln(l))return vy(i,l,o)}return o}function Wv(i,o,l,d,m,v,T,C,M){return i=Mf(l,d,!0,i,m,v,T,C,M),i.context=Hv(null),l=i.current,d=en(),m=Ri(l),v=Wr(d,m),v.callback=o??null,xi(l,v,m),i.current.lanes=m,fi(i,m,d),hn(i,d),i}function Lc(i,o,l,d){var m=o.current,v=en(),T=Ri(m);return l=Hv(l),o.context===null?o.context=l:o.pendingContext=l,o=Wr(v,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=xi(m,o,T),i!==null&&(Zn(i,m,T,v),dc(i,m,T)),T}function Mc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function qv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Of(i,o){qv(i,o),(i=i.alternate)&&qv(i,o)}function v1(){return null}var Kv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ff(i){this._internalRoot=i}Oc.prototype.render=Ff.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Lc(i,o,null,null)},Oc.prototype.unmount=Ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ps(function(){Lc(null,i,null,null)}),o[Ur]=null}};function Oc(i){this._internalRoot=i}Oc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ou();i={blockedOn:null,target:i,priority:o};for(var l=0;l<or.length&&o!==0&&o<or[l].priority;l++);or.splice(l,0,i),l===0&&Uu(i)}};function jf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Fc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function _1(i,o,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var K=Mc(T);v.call(K)}}var T=Wv(o,d,i,0,null,!1,!1,"",Gv);return i._reactRootContainer=T,i[Ur]=T.current,rl(i.nodeType===8?i.parentNode:i),Ps(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var C=d;d=function(){var K=Mc(M);C.call(K)}}var M=Mf(i,0,!1,null,null,!1,!1,"",Gv);return i._reactRootContainer=M,i[Ur]=M.current,rl(i.nodeType===8?i.parentNode:i),Ps(function(){Lc(o,M,l,d)}),M}function jc(i,o,l,d,m){var v=l._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var C=m;m=function(){var M=Mc(T);C.call(M)}}Lc(o,T,i,m)}else T=_1(l,o,i,m,d);return Mc(T)}Lu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=hi(o.pendingLanes);l!==0&&(pi(o,l|1),hn(o,qe()),(Oe&6)===0&&(zo=qe()+500,Si()))}break;case 13:Ps(function(){var d=Hr(i,1);if(d!==null){var m=en();Zn(d,i,1,m)}}),Of(i,1)}},fo=function(i){if(i.tag===13){var o=Hr(i,134217728);if(o!==null){var l=en();Zn(o,i,134217728,l)}Of(i,134217728)}},Mu=function(i){if(i.tag===13){var o=Ri(i),l=Hr(i,o);if(l!==null){var d=en();Zn(l,i,o,d)}Of(i,o)}},Ou=function(){return De},Fu=function(i,o){var l=De;try{return De=i,o()}finally{De=l}},ro=function(i,o,l){switch(o){case"input":if(Ca(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=nc(d);if(!m)throw Error(t(90));Xs(d),Ca(d,m)}}}break;case"textarea":to(i,l);break;case"select":o=l.value,o!=null&&Nr(i,!!l.multiple,o,!1)}},as=kf,Fa=Ps;var w1={usingClientEntryPoint:!1,Events:[ol,Ro,nc,ir,Oa,kf]},wl={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E1={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ba(i),i===null?null:i.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||v1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{ds=Uc.inject(E1),gn=Uc}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w1,dn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(o))throw Error(t(200));return y1(i,o,null,l)},dn.createRoot=function(i,o){if(!jf(i))throw Error(t(299));var l=!1,d="",m=Kv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Mf(i,1,!1,null,null,l,!1,d,m),i[Ur]=o.current,rl(i.nodeType===8?i.parentNode:i),new Ff(o)},dn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ba(o),i=i===null?null:i.stateNode,i},dn.flushSync=function(i){return Ps(i)},dn.hydrate=function(i,o,l){if(!Fc(o))throw Error(t(200));return jc(null,i,o,!0,l)},dn.hydrateRoot=function(i,o,l){if(!jf(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",T=Kv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=Wv(o,null,i,1,l??null,m,!1,v,T),i[Ur]=o.current,rl(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Oc(o)},dn.render=function(i,o,l){if(!Fc(o))throw Error(t(200));return jc(null,i,o,!1,l)},dn.unmountComponentAtNode=function(i){if(!Fc(i))throw Error(t(40));return i._reactRootContainer?(Ps(function(){jc(null,null,i,!1,function(){i._reactRootContainer=null,i[Ur]=null})}),!0):!1},dn.unstable_batchedUpdates=kf,dn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Fc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return jc(i,o,l,!1,d)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var n_;function k1(){if(n_)return zf.exports;n_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zf.exports=R1(),zf.exports}var r_;function b1(){if(r_)return Bc;r_=1;var n=k1();return Bc.createRoot=n.createRoot,Bc.hydrateRoot=n.hydrateRoot,Bc}var N1=b1();const D1=G0(N1);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i_="popstate";function V1(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return wp("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:$l(s)}return M1(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ar(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L1(){return Math.random().toString(36).substring(2,10)}function s_(n,e){return{usr:n.state,key:n.key,idx:e}}function wp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:t,key:e&&e.key||r||L1()}}function $l({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ma(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function M1(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let b=g(),F=b==null?null:b-p;p=b,f&&f({action:h,location:D.location,delta:F})}function E(b,F){h="PUSH";let $=wp(D.location,b,F);p=g()+1;let W=s_($,p),Q=D.createHref($);try{u.pushState(W,"",Q)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;s.location.assign(Q)}a&&f&&f({action:h,location:D.location,delta:1})}function x(b,F){h="REPLACE";let $=wp(D.location,b,F);p=g();let W=s_($,p),Q=D.createHref($);u.replaceState(W,"",Q),a&&f&&f({action:h,location:D.location,delta:0})}function N(b){return O1(b)}let D={get action(){return h},get location(){return n(s,u)},listen(b){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(i_,_),f=b,()=>{s.removeEventListener(i_,_),f=null}},createHref(b){return e(s,b)},createURL:N,encodeLocation(b){let F=N(b);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:x,go(b){return u.go(b)}};return D}function O1(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:$l(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Q0(n,e,t="/"){return F1(n,e,t,!1)}function F1(n,e,t,r){let s=typeof e=="string"?ma(e):e,a=Jr(s.pathname||"/",t);if(a==null)return null;let u=Y0(n);j1(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=Y1(a);h=G1(u[f],p,r)}return h}function Y0(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(it(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Yr([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Y0(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:q1(p,a.index),routesMeta:g})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of X0(a.path))s(a,u,f)}),e}function X0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=X0(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function j1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:K1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var U1=/^:[\w-]+$/,B1=3,z1=2,$1=1,H1=10,W1=-2,o_=n=>n==="*";function q1(n,e){let t=n.split("/"),r=t.length;return t.some(o_)&&(r+=W1),e&&(r+=z1),t.filter(s=>!o_(s)).reduce((s,a)=>s+(U1.test(a)?B1:a===""?$1:H1),r)}function K1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function G1(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Yr([a,_.pathname]),pathnameBase:eA(Yr([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=Yr([a,_.pathnameBase]))}return u}function ph(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Q1(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let N=h[E]||"";u=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const x=h[E];return _&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function Q1(n,e=!1,t=!0){Ar(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Y1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Jr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function X1(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ma(n):n;return{pathname:t?t.startsWith("/")?t:J1(t,e):e,search:tA(r),hash:nA(s)}}function J1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Wf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function J0(n){let e=Z1(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Z0(n,e,t,r=!1){let s;typeof n=="string"?s=ma(n):(s={...n},it(!s.pathname||!s.pathname.includes("?"),Wf("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),Wf("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),Wf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=X1(s,h),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Yr=n=>n.join("/").replace(/\/\/+/g,"/"),eA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var eE=["POST","PUT","PATCH","DELETE"];new Set(eE);var iA=["GET",...eE];new Set(iA);var ga=O.createContext(null);ga.displayName="DataRouter";var zh=O.createContext(null);zh.displayName="DataRouterState";O.createContext(!1);var tE=O.createContext({isTransitioning:!1});tE.displayName="ViewTransition";var sA=O.createContext(new Map);sA.displayName="Fetchers";var oA=O.createContext(null);oA.displayName="Await";var Rr=O.createContext(null);Rr.displayName="Navigation";var ou=O.createContext(null);ou.displayName="Location";var si=O.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var gm=O.createContext(null);gm.displayName="RouteError";function aA(n,{relative:e}={}){it(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Rr),{hash:s,pathname:a,search:u}=uu(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Yr([t,a])),r.createHref({pathname:h,search:u,hash:s})}function au(){return O.useContext(ou)!=null}function Ks(){return it(au(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ou).location}var nE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rE(n){O.useContext(Rr).static||O.useLayoutEffect(n)}function lu(){let{isDataRoute:n}=O.useContext(si);return n?wA():lA()}function lA(){it(au(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(ga),{basename:e,navigator:t}=O.useContext(Rr),{matches:r}=O.useContext(si),{pathname:s}=Ks(),a=JSON.stringify(J0(r)),u=O.useRef(!1);return rE(()=>{u.current=!0}),O.useCallback((f,p={})=>{if(Ar(u.current,nE),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=Z0(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Yr([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,s,n])}O.createContext(null);function uu(n,{relative:e}={}){let{matches:t}=O.useContext(si),{pathname:r}=Ks(),s=JSON.stringify(J0(t));return O.useMemo(()=>Z0(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function uA(n,e){return iE(n,e)}function iE(n,e,t,r){var F;it(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Rr),{matches:a}=O.useContext(si),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let $=g&&g.path||"";sE(f,!g||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let _=Ks(),E;if(e){let $=typeof e=="string"?ma(e):e;it(p==="/"||((F=$.pathname)==null?void 0:F.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${$.pathname}" was given in the \`location\` prop.`),E=$}else E=_;let x=E.pathname||"/",N=x;if(p!=="/"){let $=p.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice($.length).join("/")}let D=Q0(n,{pathname:N});Ar(g||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ar(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=pA(D&&D.map($=>Object.assign({},$,{params:Object.assign({},h,$.params),pathname:Yr([p,s.encodeLocation?s.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?p:Yr([p,s.encodeLocation?s.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),a,t,r);return e&&b?O.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},b):b}function cA(){let n=_A(),e=rA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,u)}var hA=O.createElement(cA,null),dA=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(si.Provider,{value:this.props.routeContext},O.createElement(gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fA({routeContext:n,match:e,children:t}){let r=O.useContext(ga);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(si.Provider,{value:n},t)}function pA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);it(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:_}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let _,E=!1,x=null,N=null;t&&(_=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||hA,u&&(h<0&&g===0?(sE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):h===g&&(E=!0,N=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,g+1)),b=()=>{let F;return _?F=x:E?F=N:p.route.Component?F=O.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=f,O.createElement(fA,{match:p,routeContext:{outlet:f,matches:D,isDataRoute:t!=null},children:F})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(dA,{location:t.location,revalidation:t.revalidation,component:x,error:_,children:b(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):b()},null)}function ym(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mA(n){let e=O.useContext(ga);return it(e,ym(n)),e}function gA(n){let e=O.useContext(zh);return it(e,ym(n)),e}function yA(n){let e=O.useContext(si);return it(e,ym(n)),e}function vm(n){let e=yA(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function vA(){return vm("useRouteId")}function _A(){var r;let n=O.useContext(gm),e=gA("useRouteError"),t=vm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function wA(){let{router:n}=mA("useNavigate"),e=vm("useNavigate"),t=O.useRef(!1);return rE(()=>{t.current=!0}),O.useCallback(async(s,a={})=>{Ar(t.current,nE),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var a_={};function sE(n,e,t){!e&&!a_[n]&&(a_[n]=!0,Ar(!1,t))}O.memo(EA);function EA({routes:n,future:e,state:t}){return iE(n,void 0,t,e)}function tn(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){it(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=ma(t));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:E="default"}=t,x=O.useMemo(()=>{let N=Jr(f,u);return N==null?null:{location:{pathname:N,search:p,hash:g,state:_,key:E},navigationType:r}},[u,f,p,g,_,E,r]);return Ar(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(Rr.Provider,{value:h},O.createElement(ou.Provider,{children:e,value:x}))}function SA({children:n,location:e}){return uA(Ep(n),e)}function Ep(n,e=[]){let t=[];return O.Children.forEach(n,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){t.push.apply(t,Ep(r.props.children,a));return}it(r.type===tn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ep(r.props.children,a)),t.push(u)}),t}var Jc="get",Zc="application/x-www-form-urlencoded";function $h(n){return n!=null&&typeof n.tagName=="string"}function IA(n){return $h(n)&&n.tagName.toLowerCase()==="button"}function xA(n){return $h(n)&&n.tagName.toLowerCase()==="form"}function AA(n){return $h(n)&&n.tagName.toLowerCase()==="input"}function PA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CA(n,e){return n.button===0&&(!e||e==="_self")&&!PA(n)}var zc=null;function RA(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var kA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qf(n){return n!=null&&!kA.has(n)?(Ar(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):n}function bA(n,e){let t,r,s,a,u;if(xA(n)){let h=n.getAttribute("action");r=h?Jr(h,e):null,t=n.getAttribute("method")||Jc,s=qf(n.getAttribute("enctype"))||Zc,a=new FormData(n)}else if(IA(n)||AA(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Jr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Jc,s=qf(n.getAttribute("formenctype"))||qf(h.getAttribute("enctype"))||Zc,a=new FormData(h,n),!RA()){let{name:p,type:g,value:_}=n;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if($h(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jc,r=null,s=Zc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _m(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function NA(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Jr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function DA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LA(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await DA(a,t);return u.links?u.links():[]}return[]}));return jA(r.flat(1).filter(VA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function l_(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function MA(n,e,{includeHydrateFallback:t}={}){return OA(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function OA(n){return[...new Set(n)]}function FA(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function jA(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(FA(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function oE(){let n=O.useContext(ga);return _m(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function UA(){let n=O.useContext(zh);return _m(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wm=O.createContext(void 0);wm.displayName="FrameworkContext";function aE(){let n=O.useContext(wm);return _m(n,"You must render this element inside a <HydratedRouter> element"),n}function BA(n,e){let t=O.useContext(wm),[r,s]=O.useState(!1),[a,u]=O.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=F=>{F.forEach($=>{u($.isIntersecting)})},b=new IntersectionObserver(D,{threshold:.5});return E.current&&b.observe(E.current),()=>{b.disconnect()}}},[n]),O.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let x=()=>{s(!0)},N=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Tl(h,x),onBlur:Tl(f,N),onMouseEnter:Tl(p,x),onMouseLeave:Tl(g,N),onTouchStart:Tl(_,x)}]:[!1,E,{}]}function Tl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function zA({page:n,...e}){let{router:t}=oE(),r=O.useMemo(()=>Q0(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(HA,{page:n,matches:r,...e}):null}function $A(n){let{manifest:e,routeModules:t}=aE(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return LA(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function HA({page:n,matches:e,...t}){let r=Ks(),{manifest:s,routeModules:a}=aE(),{basename:u}=oE(),{loaderData:h,matches:f}=UA(),p=O.useMemo(()=>l_(n,e,f,s,r,"data"),[n,e,f,s,r]),g=O.useMemo(()=>l_(n,e,f,s,r,"assets"),[n,e,f,s,r]),_=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,D=!1;if(e.forEach(F=>{var W;let $=s.routes[F.route.id];!$||!$.hasLoader||(!p.some(Q=>Q.route.id===F.route.id)&&F.route.id in h&&((W=a[F.route.id])!=null&&W.shouldRevalidate)||$.hasClientLoader?D=!0:N.add(F.route.id))}),N.size===0)return[];let b=NA(n,u,"data");return D&&N.size>0&&b.searchParams.set("_routes",e.filter(F=>N.has(F.route.id)).map(F=>F.route.id).join(",")),[b.pathname+b.search]},[u,h,r,s,p,e,n,a]),E=O.useMemo(()=>MA(g,s),[g,s]),x=$A(g);return O.createElement(O.Fragment,null,_.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),E.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),x.map(({key:N,link:D})=>O.createElement("link",{key:N,...D})))}function WA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lE&&(window.__reactRouterVersion="7.7.1")}catch{}function qA({basename:n,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=V1({window:t,v5Compat:!0}));let s=r.current,[a,u]=O.useState({action:s.action,location:s.location}),h=O.useCallback(f=>{O.startTransition(()=>u(f))},[u]);return O.useLayoutEffect(()=>s.listen(h),[s,h]),O.createElement(TA,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var uE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cE=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:g,viewTransition:_,...E},x){let{basename:N}=O.useContext(Rr),D=typeof p=="string"&&uE.test(p),b,F=!1;if(typeof p=="string"&&D&&(b=p,lE))try{let P=new URL(window.location.href),k=p.startsWith("//")?new URL(P.protocol+p):new URL(p),L=Jr(k.pathname,N);k.origin===P.origin&&L!=null?p=L+k.search+k.hash:F=!0}catch{Ar(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=aA(p,{relative:s}),[W,Q,ee]=BA(r,E),oe=YA(p,{replace:u,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:_});function V(P){e&&e(P),P.defaultPrevented||oe(P)}let I=O.createElement("a",{...E,...ee,href:b||$,onClick:F||a?e:V,ref:WA(x,Q),target:f,"data-discover":!D&&t==="render"?"true":void 0});return W&&!D?O.createElement(O.Fragment,null,I,O.createElement(zA,{page:$})):I});cE.displayName="Link";var KA=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...p},g){let _=uu(u,{relative:p.relative}),E=Ks(),x=O.useContext(zh),{navigator:N,basename:D}=O.useContext(Rr),b=x!=null&&tP(_)&&h===!0,F=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,$=E.pathname,W=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||($=$.toLowerCase(),W=W?W.toLowerCase():null,F=F.toLowerCase()),W&&D&&(W=Jr(W,D)||W);const Q=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ee=$===F||!s&&$.startsWith(F)&&$.charAt(Q)==="/",oe=W!=null&&(W===F||!s&&W.startsWith(F)&&W.charAt(F.length)==="/"),V={isActive:ee,isPending:oe,isTransitioning:b},I=ee?e:void 0,P;typeof r=="function"?P=r(V):P=[r,ee?"active":null,oe?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(V):a;return O.createElement(cE,{...p,"aria-current":I,className:P,ref:g,style:k,to:u,viewTransition:h},typeof f=="function"?f(V):f)});KA.displayName="NavLink";var GA=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Jc,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...E},x)=>{let N=ZA(),D=eP(h,{relative:p}),b=u.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&uE.test(h),$=W=>{if(f&&f(W),W.defaultPrevented)return;W.preventDefault();let Q=W.nativeEvent.submitter,ee=(Q==null?void 0:Q.getAttribute("formmethod"))||u;N(Q||W.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return O.createElement("form",{ref:x,method:b,action:D,onSubmit:r?f:$,...E,"data-discover":!F&&n==="render"?"true":void 0})});GA.displayName="Form";function QA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hE(n){let e=O.useContext(ga);return it(e,QA(n)),e}function YA(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=lu(),f=Ks(),p=uu(n,{relative:a});return O.useCallback(g=>{if(CA(g,e)){g.preventDefault();let _=t!==void 0?t:$l(f)===$l(p);h(n,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,p,t,r,e,n,s,a,u])}var XA=0,JA=()=>`__${String(++XA)}__`;function ZA(){let{router:n}=hE("useSubmit"),{basename:e}=O.useContext(Rr),t=vA();return O.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=bA(r,e);if(s.navigate===!1){let g=s.fetcherKey||JA();await n.fetch(g,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function eP(n,{relative:e}={}){let{basename:t}=O.useContext(Rr),r=O.useContext(si);it(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...uu(n||".",{relative:e})},u=Ks();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Yr([t,a.pathname])),$l(a)}function tP(n,{relative:e}={}){let t=O.useContext(tE);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hE("useViewTransitionState"),s=uu(n,{relative:e});if(!t.isTransitioning)return!1;let a=Jr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Jr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ph(s.pathname,u)!=null||ph(s.pathname,a)!=null}function nP({onLogout:n,isLoggedIn:e}){const[t,r]=O.useState(!1),s=O.useRef(null),a=lu();return O.useEffect(()=>{function u(h){s.current&&!s.current.contains(h.target)&&r(!1)}return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[s]),A.jsx("nav",{className:"bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50",children:A.jsxs("div",{className:"container mx-auto px-6 py-3 flex justify-between items-center",children:[A.jsx("button",{onClick:()=>a("/"),className:"text-2xl font-bold text-amber-600 hover:text-amber-700 transition",children:"Rise Up"}),A.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[A.jsx("button",{onClick:()=>a("/"),className:"text-stone-600 hover:text-amber-600 transition",children:"Home"}),e&&A.jsx("button",{onClick:()=>a("/dashboard"),className:"text-stone-600 hover:text-amber-600 transition",children:"Dashboard"}),A.jsx("button",{onClick:()=>a("/chatbot"),className:"text-stone-600 hover:text-amber-600 transition",children:"AI Chat"}),A.jsx("button",{onClick:()=>a("/meditation"),className:"text-stone-600 hover:text-amber-600 transition",children:"Meditation"}),A.jsxs("div",{className:"relative",ref:s,children:[A.jsxs("button",{onClick:()=>r(!t),className:"text-stone-600 hover:text-amber-600 transition flex items-center",children:["Features",A.jsx("svg",{className:`w-4 h-4 ml-1 transition-transform ${t?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),t&&A.jsxs("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-50",children:[A.jsx("button",{onClick:()=>{a("/breathing"),r(!1)},className:"block w-full text-left px-4 py-2 text-stone-600 hover:bg-amber-50 hover:text-amber-600",children:"Breathing Exercise"}),A.jsx("button",{onClick:()=>{a("/recipes"),r(!1)},className:"block w-full text-left px-4 py-2 text-stone-600 hover:bg-amber-50 hover:text-amber-600",children:"AI Recipes"}),A.jsx("button",{onClick:()=>{a("/articles"),r(!1)},className:"block w-full text-left px-4 py-2 text-stone-600 hover:bg-amber-50 hover:text-amber-600",children:"Articles"}),A.jsx("button",{onClick:()=>{a("/journal"),r(!1)},className:"block w-full text-left px-4 py-2 text-stone-600 hover:bg-amber-50 hover:text-amber-600",children:"Journal"})]})]}),A.jsx("button",{onClick:()=>a("/consult"),className:"text-stone-600 hover:text-amber-600 transition",children:"Consult"}),A.jsx("button",{onClick:()=>a("/community"),className:"text-stone-600 hover:text-amber-600 transition",children:"Community"})]}),A.jsx("div",{className:"flex items-center",children:e?A.jsx("button",{onClick:n,className:"bg-amber-600 text-white px-5 py-2 rounded-full hover:bg-amber-700 transition shadow-md",children:"Logout"}):A.jsx("button",{onClick:()=>a("/login"),className:"bg-amber-600 text-white px-5 py-2 rounded-full hover:bg-amber-700 transition shadow-md",children:"Get Started"})})]})})}const dE=O.createContext({});function rP(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const Em=typeof window<"u",iP=Em?O.useLayoutEffect:O.useEffect,Tm=O.createContext(null);function Sm(n,e){n.indexOf(e)===-1&&n.push(e)}function Im(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Zr=(n,e,t)=>t>e?e:t<n?n:t;let xm=()=>{};const ei={},fE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function pE(n){return typeof n=="object"&&n!==null}const mE=n=>/^0[^.\s]+$/u.test(n);function Am(n){let e;return()=>(e===void 0&&(e=n()),e)}const Fn=n=>n,sP=(n,e)=>t=>e(n(t)),cu=(...n)=>n.reduce(sP),Hl=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Pm{constructor(){this.subscriptions=[]}add(e){return Sm(this.subscriptions,e),()=>Im(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gr=n=>n*1e3,yr=n=>n/1e3;function gE(n,e){return e?n*(1e3/e):0}const yE=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,oP=1e-7,aP=12;function lP(n,e,t,r,s){let a,u,h=0;do u=e+(t-e)/2,a=yE(u,r,s)-n,a>0?t=u:e=u;while(Math.abs(a)>oP&&++h<aP);return u}function hu(n,e,t,r){if(n===e&&t===r)return Fn;const s=a=>lP(a,0,1,n,t);return a=>a===0||a===1?a:yE(s(a),e,r)}const vE=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,_E=n=>e=>1-n(1-e),wE=hu(.33,1.53,.69,.99),Cm=_E(wE),EE=vE(Cm),TE=n=>(n*=2)<1?.5*Cm(n):.5*(2-Math.pow(2,-10*(n-1))),Rm=n=>1-Math.sin(Math.acos(n)),SE=_E(Rm),IE=vE(Rm),uP=hu(.42,0,1,1),cP=hu(0,0,.58,1),xE=hu(.42,0,.58,1),hP=n=>Array.isArray(n)&&typeof n[0]!="number",AE=n=>Array.isArray(n)&&typeof n[0]=="number",dP={linear:Fn,easeIn:uP,easeInOut:xE,easeOut:cP,circIn:Rm,circInOut:IE,circOut:SE,backIn:Cm,backInOut:EE,backOut:wE,anticipate:TE},fP=n=>typeof n=="string",u_=n=>{if(AE(n)){xm(n.length===4);const[e,t,r,s]=n;return hu(e,t,r,s)}else if(fP(n))return dP[n];return n},$c=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pP(n,e){let t=new Set,r=new Set,s=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),n()),g(h)}const p={schedule:(g,_=!1,E=!1)=>{const N=E&&s?t:r;return _&&u.add(g),N.has(g)||N.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(h=g,s){a=!0;return}s=!0,[t,r]=[r,t],t.forEach(f),t.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const mP=40;function PE(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=$c.reduce((W,Q)=>(W[Q]=pP(a),W),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:_,preRender:E,render:x,postRender:N}=u,D=()=>{const W=ei.useManualTiming?s.timestamp:performance.now();t=!1,ei.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(W-s.timestamp,mP),1)),s.timestamp=W,s.isProcessing=!0,h.process(s),f.process(s),p.process(s),g.process(s),_.process(s),E.process(s),x.process(s),N.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(D))},b=()=>{t=!0,r=!0,s.isProcessing||n(D)};return{schedule:$c.reduce((W,Q)=>{const ee=u[Q];return W[Q]=(oe,V=!1,I=!1)=>(t||b(),ee.schedule(oe,V,I)),W},{}),cancel:W=>{for(let Q=0;Q<$c.length;Q++)u[$c[Q]].cancel(W)},state:s,steps:u}}const{schedule:Ze,cancel:Wi,state:Ot,steps:Kf}=PE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let eh;function gP(){eh=void 0}const mn={now:()=>(eh===void 0&&mn.set(Ot.isProcessing||ei.useManualTiming?Ot.timestamp:performance.now()),eh),set:n=>{eh=n,queueMicrotask(gP)}},CE=n=>e=>typeof e=="string"&&e.startsWith(n),km=CE("--"),yP=CE("var(--"),bm=n=>yP(n)?vP.test(n.split("/*")[0].trim()):!1,vP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ya={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Wl={...ya,transform:n=>Zr(0,1,n)},Hc={...ya,default:1},bl=n=>Math.round(n*1e5)/1e5,Nm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _P(n){return n==null}const wP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dm=(n,e)=>t=>!!(typeof t=="string"&&wP.test(t)&&t.startsWith(n)||e&&!_P(t)&&Object.prototype.hasOwnProperty.call(t,e)),RE=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,u,h]=r.match(Nm);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},EP=n=>Zr(0,255,n),Gf={...ya,transform:n=>Math.round(EP(n))},Vs={test:Dm("rgb","red"),parse:RE("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Gf.transform(n)+", "+Gf.transform(e)+", "+Gf.transform(t)+", "+bl(Wl.transform(r))+")"};function TP(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Tp={test:Dm("#"),parse:TP,transform:Vs.transform},du=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Vi=du("deg"),vr=du("%"),Se=du("px"),SP=du("vh"),IP=du("vw"),c_={...vr,parse:n=>vr.parse(n)/100,transform:n=>vr.transform(n*100)},Go={test:Dm("hsl","hue"),parse:RE("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+vr.transform(bl(e))+", "+vr.transform(bl(t))+", "+bl(Wl.transform(r))+")"},gt={test:n=>Vs.test(n)||Tp.test(n)||Go.test(n),parse:n=>Vs.test(n)?Vs.parse(n):Go.test(n)?Go.parse(n):Tp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Vs.transform(n):Go.transform(n),getAnimatableNone:n=>{const e=gt.parse(n);return e.alpha=0,gt.transform(e)}},xP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AP(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Nm))==null?void 0:e.length)||0)+(((t=n.match(xP))==null?void 0:t.length)||0)>0}const kE="number",bE="color",PP="var",CP="var(",h_="${}",RP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ql(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(RP,f=>(gt.test(f)?(r.color.push(a),s.push(bE),t.push(gt.parse(f))):f.startsWith(CP)?(r.var.push(a),s.push(PP),t.push(f)):(r.number.push(a),s.push(kE),t.push(parseFloat(f))),++a,h_)).split(h_);return{values:t,split:h,indexes:r,types:s}}function NE(n){return ql(n).values}function DE(n){const{split:e,types:t}=ql(n),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const h=t[u];h===kE?a+=bl(s[u]):h===bE?a+=gt.transform(s[u]):a+=s[u]}return a}}const kP=n=>typeof n=="number"?0:gt.test(n)?gt.getAnimatableNone(n):n;function bP(n){const e=NE(n);return DE(n)(e.map(kP))}const qi={test:AP,parse:NE,createTransformer:DE,getAnimatableNone:bP};function Qf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function NP({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,u=0;if(!e)s=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;s=Qf(f,h,n+1/3),a=Qf(f,h,n),u=Qf(f,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function mh(n,e){return t=>t>0?e:n}const rt=(n,e,t)=>n+(e-n)*t,Yf=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},DP=[Tp,Vs,Go],VP=n=>DP.find(e=>e.test(n));function d_(n){const e=VP(n);if(!e)return!1;let t=e.parse(n);return e===Go&&(t=NP(t)),t}const f_=(n,e)=>{const t=d_(n),r=d_(e);if(!t||!r)return mh(n,e);const s={...t};return a=>(s.red=Yf(t.red,r.red,a),s.green=Yf(t.green,r.green,a),s.blue=Yf(t.blue,r.blue,a),s.alpha=rt(t.alpha,r.alpha,a),Vs.transform(s))},Sp=new Set(["none","hidden"]);function LP(n,e){return Sp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function MP(n,e){return t=>rt(n,e,t)}function Vm(n){return typeof n=="number"?MP:typeof n=="string"?bm(n)?mh:gt.test(n)?f_:jP:Array.isArray(n)?VE:typeof n=="object"?gt.test(n)?f_:OP:mh}function VE(n,e){const t=[...n],r=t.length,s=n.map((a,u)=>Vm(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=s[u](a);return t}}function OP(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=Vm(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function FP(n,e){const t=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],u=n.indexes[a][r[a]],h=n.values[u]??0;t[s]=h,r[a]++}return t}const jP=(n,e)=>{const t=qi.createTransformer(e),r=ql(n),s=ql(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Sp.has(n)&&!s.values.length||Sp.has(e)&&!r.values.length?LP(n,e):cu(VE(FP(r,s),s.values),t):mh(n,e)};function LE(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?rt(n,e,t):Vm(n)(n,e)}const UP=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ze.update(e,t),stop:()=>Wi(e),now:()=>Ot.isProcessing?Ot.timestamp:mn.now()}},ME=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=Math.round(n(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gh=2e4;function Lm(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<gh;)e+=t,r=n.next(e);return e>=gh?1/0:e}function BP(n,e=100,t){const r=t({...n,keyframes:[0,e]}),s=Math.min(Lm(r),gh);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:yr(s)}}const zP=5;function OE(n,e,t){const r=Math.max(e-zP,0);return gE(t-n(r),e-r)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xf=.001;function $P({duration:n=lt.duration,bounce:e=lt.bounce,velocity:t=lt.velocity,mass:r=lt.mass}){let s,a,u=1-e;u=Zr(lt.minDamping,lt.maxDamping,u),n=Zr(lt.minDuration,lt.maxDuration,yr(n)),u<1?(s=p=>{const g=p*u,_=g*n,E=g-t,x=Ip(p,u),N=Math.exp(-_);return Xf-E/x*N},a=p=>{const _=p*u*n,E=_*t+t,x=Math.pow(u,2)*Math.pow(p,2)*n,N=Math.exp(-_),D=Ip(Math.pow(p,2),u);return(-s(p)+Xf>0?-1:1)*((E-x)*N)/D}):(s=p=>{const g=Math.exp(-p*n),_=(p-t)*n+1;return-Xf+g*_},a=p=>{const g=Math.exp(-p*n),_=(t-p)*(n*n);return g*_});const h=5/n,f=WP(s,a,h);if(n=gr(n),isNaN(f))return{stiffness:lt.stiffness,damping:lt.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const HP=12;function WP(n,e,t){let r=t;for(let s=1;s<HP;s++)r=r-n(r)/e(r);return r}function Ip(n,e){return n*Math.sqrt(1-e*e)}const qP=["duration","bounce"],KP=["stiffness","damping","mass"];function p_(n,e){return e.some(t=>n[t]!==void 0)}function GP(n){let e={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...n};if(!p_(n,KP)&&p_(n,qP))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*Zr(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:lt.mass,stiffness:s,damping:a}}else{const t=$P(n);e={...e,...t,mass:lt.mass},e.isResolvedFromDuration=!0}return e}function yh(n=lt.visualDuration,e=lt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:x}=GP({...t,velocity:-yr(t.velocity||0)}),N=E||0,D=p/(2*Math.sqrt(f*g)),b=u-a,F=yr(Math.sqrt(f/g)),$=Math.abs(b)<5;r||(r=$?lt.restSpeed.granular:lt.restSpeed.default),s||(s=$?lt.restDelta.granular:lt.restDelta.default);let W;if(D<1){const ee=Ip(F,D);W=oe=>{const V=Math.exp(-D*F*oe);return u-V*((N+D*F*b)/ee*Math.sin(ee*oe)+b*Math.cos(ee*oe))}}else if(D===1)W=ee=>u-Math.exp(-F*ee)*(b+(N+F*b)*ee);else{const ee=F*Math.sqrt(D*D-1);W=oe=>{const V=Math.exp(-D*F*oe),I=Math.min(ee*oe,300);return u-V*((N+D*F*b)*Math.sinh(I)+ee*b*Math.cosh(I))/ee}}const Q={calculatedDuration:x&&_||null,next:ee=>{const oe=W(ee);if(x)h.done=ee>=_;else{let V=ee===0?N:0;D<1&&(V=ee===0?gr(N):OE(W,ee,oe));const I=Math.abs(V)<=r,P=Math.abs(u-oe)<=s;h.done=I&&P}return h.value=h.done?u:oe,h},toString:()=>{const ee=Math.min(Lm(Q),gh),oe=ME(V=>Q.next(ee*V).value,ee,30);return ee+"ms "+oe},toTransition:()=>{}};return Q}yh.applyToOptions=n=>{const e=BP(n,100,yh);return n.ease=e.ease,n.duration=gr(e.duration),n.type="keyframes",n};function xp({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:g}){const _=n[0],E={done:!1,value:_},x=I=>h!==void 0&&I<h||f!==void 0&&I>f,N=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let D=t*e;const b=_+D,F=u===void 0?b:u(b);F!==b&&(D=F-_);const $=I=>-D*Math.exp(-I/r),W=I=>F+$(I),Q=I=>{const P=$(I),k=W(I);E.done=Math.abs(P)<=p,E.value=E.done?F:k};let ee,oe;const V=I=>{x(E.value)&&(ee=I,oe=yh({keyframes:[E.value,N(E.value)],velocity:OE(W,I,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return V(0),{calculatedDuration:null,next:I=>{let P=!1;return!oe&&ee===void 0&&(P=!0,Q(I),V(I)),ee!==void 0&&I>=ee?oe.next(I-ee):(!P&&Q(I),E)}}}function QP(n,e,t){const r=[],s=t||ei.mix||LE,a=n.length-1;for(let u=0;u<a;u++){let h=s(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Fn:e;h=cu(f,h)}r.push(h)}return r}function YP(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(xm(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=QP(e,r,s),f=h.length,p=g=>{if(u&&g<n[0])return e[0];let _=0;if(f>1)for(;_<n.length-2&&!(g<n[_+1]);_++);const E=Hl(n[_],n[_+1],g);return h[_](E)};return t?g=>p(Zr(n[0],n[a-1],g)):p}function XP(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Hl(0,e,r);n.push(rt(t,1,s))}}function JP(n){const e=[0];return XP(e,n.length-1),e}function ZP(n,e){return n.map(t=>t*e)}function eC(n,e){return n.map(()=>e||xE).splice(0,n.length-1)}function Nl({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=hP(r)?r.map(u_):u_(r),a={done:!1,value:e[0]},u=ZP(t&&t.length===e.length?t:JP(e),n),h=YP(u,e,{ease:Array.isArray(s)?s:eC(e,s)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const tC=n=>n!==null;function Mm(n,{repeat:e,repeatType:t="loop"},r,s=1){const a=n.filter(tC),h=s<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const nC={decay:xp,inertia:xp,tween:Nl,keyframes:Nl,spring:yh};function FE(n){typeof n.type=="string"&&(n.type=nC[n.type])}class Om{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const rC=n=>n/100;class Fm extends Om{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:t}=this.options;t&&t.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;FE(e);const{type:t=Nl,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=e;let{keyframes:h}=e;const f=t||Nl;f!==Nl&&typeof h[0]!="number"&&(this.mixKeyframes=cu(rC,LE(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Lm(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:_,repeatType:E,repeatDelay:x,type:N,onUpdate:D,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const F=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?F<0:F>s;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let W=this.currentTime,Q=r;if(_){const I=Math.min(this.currentTime,s)/h;let P=Math.floor(I),k=I%1;!k&&I>=1&&(k=1),k===1&&P--,P=Math.min(P,_+1),!!(P%2)&&(E==="reverse"?(k=1-k,x&&(k-=x/h)):E==="mirror"&&(Q=u)),W=Zr(0,1,k)*h}const ee=$?{done:!1,value:g[0]}:Q.next(W);a&&(ee.value=a(ee.value));let{done:oe}=ee;!$&&f!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return V&&N!==xp&&(ee.value=Mm(g,this.options,b,this.speed)),D&&D(ee.value),V&&this.finish(),ee}then(e,t){return this.finished.then(e,t)}get duration(){return yr(this.calculatedDuration)}get time(){return yr(this.currentTime)}set time(e){var t;e=gr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(mn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=yr(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=UP,startTime:t}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function iC(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ls=n=>n*180/Math.PI,Ap=n=>{const e=Ls(Math.atan2(n[1],n[0]));return Pp(e)},sC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ap,rotateZ:Ap,skewX:n=>Ls(Math.atan(n[1])),skewY:n=>Ls(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Pp=n=>(n=n%360,n<0&&(n+=360),n),m_=Ap,g_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),y_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),oC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:g_,scaleY:y_,scale:n=>(g_(n)+y_(n))/2,rotateX:n=>Pp(Ls(Math.atan2(n[6],n[5]))),rotateY:n=>Pp(Ls(Math.atan2(-n[2],n[0]))),rotateZ:m_,rotate:m_,skewX:n=>Ls(Math.atan(n[4])),skewY:n=>Ls(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Cp(n){return n.includes("scale")?1:0}function Rp(n,e){if(!n||n==="none")return Cp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(t)r=oC,s=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=sC,s=h}if(!s)return Cp(e);const a=r[e],u=s[1].split(",").map(lC);return typeof a=="function"?a(u):u[a]}const aC=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Rp(t,e)};function lC(n){return parseFloat(n.trim())}const va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_a=new Set(va),v_=n=>n===ya||n===Se,uC=new Set(["x","y","z"]),cC=va.filter(n=>!uC.has(n));function hC(n){const e=[];return cC.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Os={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Rp(e,"x"),y:(n,{transform:e})=>Rp(e,"y")};Os.translateX=Os.x;Os.translateY=Os.y;const Fs=new Set;let kp=!1,bp=!1,Np=!1;function jE(){if(bp){const n=Array.from(Fs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=hC(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,u])=>{var h;(h=r.getValue(a))==null||h.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bp=!1,kp=!1,Fs.forEach(n=>n.complete(Np)),Fs.clear()}function UE(){Fs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(bp=!0)})}function dC(){Np=!0,UE(),jE(),Np=!1}class jm{constructor(e,t,r,s,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Fs.add(this),kp||(kp=!0,Ze.read(UE),Ze.resolveKeyframes(jE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const h=r.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),s&&a===void 0&&s.set(e[0])}iC(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fs.delete(this)}cancel(){this.state==="scheduled"&&(Fs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fC=n=>n.startsWith("--");function pC(n,e,t){fC(e)?n.style.setProperty(e,t):n.style[e]=t}const mC=Am(()=>window.ScrollTimeline!==void 0),gC={};function yC(n,e){const t=Am(n);return()=>gC[e]??t()}const BE=yC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Il=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,__={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Il([0,.65,.55,1]),circOut:Il([.55,0,1,.45]),backIn:Il([.31,.01,.66,-.59]),backOut:Il([.33,1.53,.69,.99])};function zE(n,e){if(n)return typeof n=="function"?BE()?ME(n,e):"ease-out":AE(n)?Il(n):Array.isArray(n)?n.map(t=>zE(t,e)||__.easeOut):__[n]}function vC(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:t};f&&(g.offset=f);const _=zE(h,s);Array.isArray(_)&&(g.easing=_);const E={delay:r,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(g,E)}function $E(n){return typeof n=="function"&&"applyToOptions"in n}function _C({type:n,...e}){return $E(n)&&BE()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wC extends Om{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:s,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,xm(typeof e.type!="string");const p=_C(e);this.animation=vC(t,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=Mm(s,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):pC(t,r,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return yr(Number(e))}get time(){return yr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mC()?(this.animation.timeline=e,Fn):t(this)}}const HE={anticipate:TE,backInOut:EE,circInOut:IE};function EC(n){return n in HE}function TC(n){typeof n.ease=="string"&&EC(n.ease)&&(n.ease=HE[n.ease])}const w_=10;class SC extends wC{constructor(e){TC(e),FE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:s,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new Fm({...u,autoplay:!1}),f=gr(this.finishedTime??this.time);t.setWithVelocity(h.sample(f-w_).value,h.sample(f).value,w_),h.stop()}}const E_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(qi.test(n)||n==="0")&&!n.startsWith("url("));function IC(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function xC(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=E_(s,e),h=E_(a,e);return!u||!h?!1:IC(n)||(t==="spring"||$E(t))&&r}function Dp(n){n.duration=0,n.type}const AC=new Set(["opacity","clipPath","filter","transform"]),PC=Am(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CC(n){var g;const{motionValue:e,name:t,repeatDelay:r,repeatType:s,damping:a,type:u}=n;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return PC()&&t&&AC.has(t)&&(t!=="transform"||!p)&&!f&&!r&&s!=="mirror"&&a!==0&&u!=="inertia"}const RC=40;class kC extends Om{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:g,..._}){var N;super(),this.stop=()=>{var D,b;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=mn.now();const E={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:u,name:f,motionValue:p,element:g,..._},x=(g==null?void 0:g.KeyframeResolver)||jm;this.keyframeResolver=new x(h,(D,b,F)=>this.onKeyframesResolved(D,b,E,!F),f,p,g),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,t,r,s){this.keyframeResolver=void 0;const{name:a,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=mn.now(),xC(e,a,u,h)||((ei.instantAnimations||!f)&&(g==null||g(Mm(e,r,t))),e[0]=e[e.length-1],Dp(r),r.repeat=0);const E={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>RC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},x=!p&&CC(E)?new SC({...E,element:E.motionValue.owner.current}):new Fm(E);x.finished.then(()=>this.notifyFinished()).catch(Fn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dC()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const bC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NC(n){const e=bC.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function WE(n,e,t=1){const[r,s]=NC(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return fE(u)?parseFloat(u):u}return bm(s)?WE(s,e,t+1):s}function Um(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const qE=new Set(["width","height","top","left","right","bottom",...va]),DC={test:n=>n==="auto",parse:n=>n},KE=n=>e=>e.test(n),GE=[ya,Se,vr,Vi,IP,SP,DC],T_=n=>GE.find(KE(n));function VC(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||mE(n):!0}const LC=new Set(["brightness","contrast","saturate","opacity"]);function MC(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Nm)||[];if(!r)return n;const s=t.replace(r,"");let a=LC.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const OC=/\b([a-z-]*)\(.*?\)/gu,Vp={...qi,getAnimatableNone:n=>{const e=n.match(OC);return e?e.map(MC).join(" "):n}},S_={...ya,transform:Math.round},FC={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:Hc,scaleX:Hc,scaleY:Hc,scaleZ:Hc,skew:Vi,skewX:Vi,skewY:Vi,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Wl,originX:c_,originY:c_,originZ:Se},Bm={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...FC,zIndex:S_,fillOpacity:Wl,strokeOpacity:Wl,numOctaves:S_},jC={...Bm,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:Vp,WebkitFilter:Vp},QE=n=>jC[n];function YE(n,e){let t=QE(n);return t!==Vp&&(t=qi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const UC=new Set(["auto","none","0"]);function BC(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!UC.has(a)&&ql(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=YE(t,s)}class zC extends jm{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),bm(p))){const g=WE(p,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!qE.has(r)||e.length!==2)return;const[s,a]=e,u=T_(s),h=T_(a);if(u!==h)if(v_(u)&&v_(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Os[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||VC(e[s]))&&r.push(s);r.length&&BC(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Os[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function $C(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const s=(t==null?void 0:t[n])??r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const XE=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function HC(n){return pE(n)&&"offsetHeight"in n}const I_=30,WC=n=>!isNaN(parseFloat(n));class qC{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const s=mn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Pm);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>I_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,I_);return gE(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sa(n,e){return new qC(n,e)}const{schedule:zm}=PE(queueMicrotask,!1),er={x:!1,y:!1};function JE(){return er.x||er.y}function KC(n){return n==="x"||n==="y"?er[n]?null:(er[n]=!0,()=>{er[n]=!1}):er.x||er.y?null:(er.x=er.y=!0,()=>{er.x=er.y=!1})}function ZE(n,e){const t=$C(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function x_(n){return!(n.pointerType==="touch"||JE())}function GC(n,e,t={}){const[r,s,a]=ZE(n,t),u=h=>{if(!x_(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=_=>{x_(_)&&(p(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return r.forEach(h=>{h.addEventListener("pointerenter",u,s)}),a}const eT=(n,e)=>e?n===e?!0:eT(n,e.parentElement):!1,$m=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,QC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YC(n){return QC.has(n.tagName)||n.tabIndex!==-1}const th=new WeakSet;function A_(n){return e=>{e.key==="Enter"&&n(e)}}function Jf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XC=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=A_(()=>{if(th.has(t))return;Jf(t,"down");const s=A_(()=>{Jf(t,"up")}),a=()=>Jf(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function P_(n){return $m(n)&&!JE()}function JC(n,e,t={}){const[r,s,a]=ZE(n,t),u=h=>{const f=h.currentTarget;if(!P_(h))return;th.add(f);const p=e(f,h),g=(x,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),th.has(f)&&th.delete(f),P_(x)&&typeof p=="function"&&p(x,{success:N})},_=x=>{g(x,f===window||f===document||t.useGlobalTarget||eT(f,x.target))},E=x=>{g(x,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),HC(h)&&(h.addEventListener("focus",p=>XC(p,s)),!YC(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function tT(n){return pE(n)&&"ownerSVGElement"in n}function ZC(n){return tT(n)&&n.tagName==="svg"}const Qt=n=>!!(n&&n.getVelocity),eR=[...GE,gt,qi],tR=n=>eR.find(KE(n)),nT=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function nR(n=!0){const e=O.useContext(Tm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=O.useId();O.useEffect(()=>{if(n)return s(a)},[n]);const u=O.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const rT=O.createContext({strict:!1}),C_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oa={};for(const n in C_)oa[n]={isEnabled:e=>C_[n].some(t=>!!e[t])};function rR(n){for(const e in n)oa[e]={...oa[e],...n[e]}}const iR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||iR.has(n)}let iT=n=>!vh(n);function sR(n){typeof n=="function"&&(iT=e=>e.startsWith("on")?!vh(e):n(e))}try{sR(require("@emotion/is-prop-valid").default)}catch{}function oR(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(iT(s)||t===!0&&vh(s)||!e&&!vh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}const Hh=O.createContext({});function Wh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Kl(n){return typeof n=="string"||Array.isArray(n)}const Hm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wm=["initial",...Hm];function qh(n){return Wh(n.animate)||Wm.some(e=>Kl(n[e]))}function sT(n){return!!(qh(n)||n.variants)}function aR(n,e){if(qh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Kl(t)?t:void 0,animate:Kl(r)?r:void 0}}return n.inherit!==!1?e:{}}function lR(n){const{initial:e,animate:t}=aR(n,O.useContext(Hh));return O.useMemo(()=>({initial:e,animate:t}),[R_(e),R_(t)])}function R_(n){return Array.isArray(n)?n.join(" "):n}const Gl={};function uR(n){for(const e in n)Gl[e]=n[e],km(e)&&(Gl[e].isCSSVariable=!0)}function oT(n,{layout:e,layoutId:t}){return _a.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Gl[n]||n==="opacity")}const cR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hR=va.length;function dR(n,e,t){let r="",s=!0;for(let a=0;a<hR;a++){const u=va[a],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const p=XE(h,Bm[u]);if(!f){s=!1;const g=cR[u]||u;r+=`${g}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function qm(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let u=!1,h=!1;for(const f in e){const p=e[f];if(_a.has(f)){u=!0;continue}else if(km(f)){s[f]=p;continue}else{const g=XE(p,Bm[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(u||t?r.transform=dR(e,n.transform,t):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const Km=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aT(n,e,t){for(const r in e)!Qt(e[r])&&!oT(r,t)&&(n[r]=e[r])}function fR({transformTemplate:n},e){return O.useMemo(()=>{const t=Km();return qm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function pR(n,e){const t=n.style||{},r={};return aT(r,t,n),Object.assign(r,fR(n,e)),r}function mR(n,e){const t={},r=pR(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const gR={offset:"stroke-dashoffset",array:"stroke-dasharray"},yR={offset:"strokeDashoffset",array:"strokeDasharray"};function vR(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?gR:yR;n[a.offset]=Se.transform(-r);const u=Se.transform(e),h=Se.transform(t);n[a.array]=`${u} ${h}`}function lT(n,{attrX:e,attrY:t,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:u=0,...h},f,p,g){if(qm(n,h,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:E}=n;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),r!==void 0&&(_.scale=r),s!==void 0&&vR(_,s,a,u,!1)}const uT=()=>({...Km(),attrs:{}}),cT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _R(n,e,t,r){const s=O.useMemo(()=>{const a=uT();return lT(a,e,cT(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};aT(a,n.style,n),s.style={...a,...s.style}}return s}const wR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gm(n){return typeof n!="string"||n.includes("-")?!1:!!(wR.indexOf(n)>-1||/[A-Z]/u.test(n))}function ER(n,e,t,{latestValues:r},s,a=!1){const h=(Gm(n)?_R:mR)(e,r,s,n),f=oR(e,typeof n=="string",a),p=n!==O.Fragment?{...f,...h,ref:t}:{},{children:g}=e,_=O.useMemo(()=>Qt(g)?g.get():g,[g]);return O.createElement(n,{...p,children:_})}function k_(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Qm(n,e,t,r){if(typeof e=="function"){const[s,a]=k_(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=k_(r);e=e(t!==void 0?t:n.custom,s,a)}return e}function nh(n){return Qt(n)?n.get():n}function TR({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,s){return{latestValues:SR(t,r,s,n),renderState:e()}}function SR(n,e,t,r){const s={},a=r(n,{});for(const E in a)s[E]=nh(a[E]);let{initial:u,animate:h}=n;const f=qh(n),p=sT(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const _=g?h:u;if(_&&typeof _!="boolean"&&!Wh(_)){const E=Array.isArray(_)?_:[_];for(let x=0;x<E.length;x++){const N=Qm(n,E[x]);if(N){const{transitionEnd:D,transition:b,...F}=N;for(const $ in F){let W=F[$];if(Array.isArray(W)){const Q=g?W.length-1:0;W=W[Q]}W!==null&&(s[$]=W)}for(const $ in D)s[$]=D[$]}}}return s}const hT=n=>(e,t)=>{const r=O.useContext(Hh),s=O.useContext(Tm),a=()=>TR(n,e,r,s);return t?a():rP(a)};function Ym(n,e,t){var a;const{style:r}=n,s={};for(const u in r)(Qt(r[u])||e.style&&Qt(e.style[u])||oT(u,n)||((a=t==null?void 0:t.getValue(u))==null?void 0:a.liveStyle)!==void 0)&&(s[u]=r[u]);return s}const IR=hT({scrapeMotionValuesFromProps:Ym,createRenderState:Km});function dT(n,e,t){const r=Ym(n,e,t);for(const s in n)if(Qt(n[s])||Qt(e[s])){const a=va.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}const xR=hT({scrapeMotionValuesFromProps:dT,createRenderState:uT}),AR=Symbol.for("motionComponentSymbol");function Qo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function PR(n,e,t){return O.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Qo(t)&&(t.current=r))},[e])}const Xm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CR="framerAppearId",fT="data-"+Xm(CR),pT=O.createContext({});function RR(n,e,t,r,s){var D,b;const{visualElement:a}=O.useContext(Hh),u=O.useContext(rT),h=O.useContext(Tm),f=O.useContext(nT).reducedMotion,p=O.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:a,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,_=O.useContext(pT);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&kR(p.current,t,s,_);const E=O.useRef(!1);O.useInsertionEffect(()=>{g&&E.current&&g.update(t,h)});const x=t[fT],N=O.useRef(!!x&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,x))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,x)));return iP(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),N.current&&g.animationState&&g.animationState.animateChanges())}),O.useEffect(()=>{g&&(!N.current&&g.animationState&&g.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,x)}),N.current=!1),g.enteringChildren=void 0)}),g}function kR(n,e,t,r){const{layoutId:s,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:mT(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||h&&Qo(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function mT(n){if(n)return n.options.allowProjection!==!1?n.projection:mT(n.parent)}function Zf(n,{forwardMotionProps:e=!1}={},t,r){t&&rR(t);const s=Gm(n)?xR:IR;function a(h,f){let p;const g={...O.useContext(nT),...h,layoutId:bR(h)},{isStatic:_}=g,E=lR(h),x=s(h,_);if(!_&&Em){NR();const N=DR(g);p=N.MeasureLayout,E.visualElement=RR(n,x,g,r,N.ProjectionNode)}return A.jsxs(Hh.Provider,{value:E,children:[p&&E.visualElement?A.jsx(p,{visualElement:E.visualElement,...g}):null,ER(n,h,PR(x,E.visualElement,f),x,_,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=O.forwardRef(a);return u[AR]=n,u}function bR({layoutId:n}){const e=O.useContext(dE).id;return e&&n!==void 0?e+"-"+n:n}function NR(n,e){O.useContext(rT).strict}function DR(n){const{drag:e,layout:t}=oa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function VR(n,e){if(typeof Proxy>"u")return Zf;const t=new Map,r=(a,u)=>Zf(a,u,n,e),s=(a,u)=>r(a,u);return new Proxy(s,{get:(a,u)=>u==="create"?r:(t.has(u)||t.set(u,Zf(u,void 0,n,e)),t.get(u))})}function gT({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function LR({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function MR(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function ep(n){return n===void 0||n===1}function Lp({scale:n,scaleX:e,scaleY:t}){return!ep(n)||!ep(e)||!ep(t)}function Ns(n){return Lp(n)||yT(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function yT(n){return b_(n.x)||b_(n.y)}function b_(n){return n&&n!=="0%"}function _h(n,e,t){const r=n-t,s=e*r;return t+s}function N_(n,e,t,r,s){return s!==void 0&&(n=_h(n,s,r)),_h(n,t,r)+e}function Mp(n,e=0,t=1,r,s){n.min=N_(n.min,e,t,r,s),n.max=N_(n.max,e,t,r,s)}function vT(n,{x:e,y:t}){Mp(n.x,e.translate,e.scale,e.originPoint),Mp(n.y,t.translate,t.scale,t.originPoint)}const D_=.999999999999,V_=1.0000000000001;function OR(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,u;for(let h=0;h<s;h++){a=t[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Xo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,vT(n,u)),r&&Ns(a.latestValues)&&Xo(n,a.latestValues))}e.x<V_&&e.x>D_&&(e.x=1),e.y<V_&&e.y>D_&&(e.y=1)}function Yo(n,e){n.min=n.min+e,n.max=n.max+e}function L_(n,e,t,r,s=.5){const a=rt(n.min,n.max,s);Mp(n,e,t,a,r)}function Xo(n,e){L_(n.x,e.x,e.scaleX,e.scale,e.originX),L_(n.y,e.y,e.scaleY,e.scale,e.originY)}function _T(n,e){return gT(MR(n.getBoundingClientRect(),e))}function FR(n,e,t){const r=_T(n,t),{scroll:s}=e;return s&&(Yo(r.x,s.offset.x),Yo(r.y,s.offset.y)),r}const M_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jo=()=>({x:M_(),y:M_()}),O_=()=>({min:0,max:0}),ht=()=>({x:O_(),y:O_()}),Op={current:null},wT={current:!1};function jR(){if(wT.current=!0,!!Em)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Op.current=n.matches;n.addEventListener("change",e),e()}else Op.current=!1}const UR=new WeakMap;function BR(n,e,t){for(const r in e){const s=e[r],a=t[r];if(Qt(s))n.addValue(r,s);else if(Qt(a))n.addValue(r,sa(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(r);n.addValue(r,sa(u!==void 0?u:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const F_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zR{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=mn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Ze.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=qh(t),this.isVariantNode=sT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in _){const x=_[E];f[E]!==void 0&&Qt(x)&&x.set(f[E])}}mount(e){var t;this.current=e,UR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),wT.current||jR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Op.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Wi(this.notifyUpdate),Wi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_a.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oa){const t=oa[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<F_.length;r++){const s=F_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=BR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=sa(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fE(r)||mE(r))?r=parseFloat(r):!tR(r)&&qi.test(t)&&(r=YE(e,t)),this.setBaseTarget(e,Qt(r)?r.get():r)),Qt(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const u=Qm(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);u&&(r=u[e])}if(t&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Qt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Pm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){zm.render(this.render)}}class ET extends zR{constructor(){super(...arguments),this.KeyframeResolver=zC}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function TT(n,{style:e,vars:t},r,s){const a=n.style;let u;for(u in e)a[u]=e[u];s==null||s.applyProjectionStyles(a,r);for(u in t)a.setProperty(u,t[u])}function $R(n){return window.getComputedStyle(n)}class HR extends ET{constructor(){super(...arguments),this.type="html",this.renderInstance=TT}readValueFromInstance(e,t){var r;if(_a.has(t))return(r=this.projection)!=null&&r.isProjecting?Cp(t):aC(e,t);{const s=$R(e),a=(km(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return _T(e,t)}build(e,t,r){qm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Ym(e,t,r)}}const ST=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WR(n,e,t,r){TT(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(ST.has(s)?s:Xm(s),e.attrs[s])}class qR extends ET{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_a.has(t)){const r=QE(t);return r&&r.default||0}return t=ST.has(t)?t:Xm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return dT(e,t,r)}build(e,t,r){lT(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,s){WR(e,t,r,s)}mount(e){this.isSVGTag=cT(e.tagName),super.mount(e)}}const KR=(n,e)=>Gm(n)?new qR(e):new HR(e,{allowProjection:n!==O.Fragment});function ea(n,e,t){const r=n.getProps();return Qm(r,e,t!==void 0?t:r.custom,n)}const Fp=n=>Array.isArray(n);function GR(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,sa(t))}function QR(n){return Fp(n)?n[n.length-1]||0:n}function YR(n,e){const t=ea(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const u in a){const h=QR(a[u]);GR(n,u,h)}}function XR(n){return!!(Qt(n)&&n.add)}function jp(n,e){const t=n.getValue("willChange");if(XR(t))return t.add(e);if(!t&&ei.WillChange){const r=new ei.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function IT(n){return n.props[fT]}const JR=n=>n!==null;function ZR(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(JR),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[a]}const ek={type:"spring",stiffness:500,damping:25,restSpeed:10},tk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),nk={type:"keyframes",duration:.8},rk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ik=(n,{keyframes:e})=>e.length>2?nk:_a.has(n)?n.startsWith("scale")?tk(e[1]):ek:rk;function sk({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Jm=(n,e,t,r={},s,a)=>u=>{const h=Um(r,n)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-gr(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:s};sk(h)||Object.assign(g,ik(n,g)),g.duration&&(g.duration=gr(g.duration)),g.repeatDelay&&(g.repeatDelay=gr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Dp(g),g.delay===0&&(_=!0)),(ei.instantAnimations||ei.skipAnimations)&&(_=!0,Dp(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const E=ZR(g.keyframes,h);if(E!==void 0){Ze.update(()=>{g.onUpdate(E),g.onComplete()});return}}return h.isSync?new Fm(g):new kC(g)};function ok({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function xT(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(a=r);const f=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const g in h){const _=n.getValue(g,n.latestValues[g]??null),E=h[g];if(E===void 0||p&&ok(p,g))continue;const x={delay:t,...Um(a||{},g)},N=_.get();if(N!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===N&&!x.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const F=IT(n);if(F){const $=window.MotionHandoffAnimation(F,g,Ze);$!==null&&(x.startTime=$,D=!0)}}jp(n,g),_.start(Jm(g,_,E,n.shouldReduceMotion&&qE.has(g)?{type:!1}:x,n,D));const b=_.animation;b&&f.push(b)}return u&&Promise.all(f).then(()=>{Ze.update(()=>{u&&YR(n,u)})}),f}function AT(n,e,t,r=0,s=1){const a=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*r;return typeof t=="function"?t(a,u):s===1?a*r:h-a*r}function Up(n,e,t={}){var f;const r=ea(n,e,t.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(xT(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=s;return ak(n,e,p,g,_,E,t)}:()=>Promise.resolve(),{when:h}=s;if(h){const[p,g]=h==="beforeChildren"?[a,u]:[u,a];return p().then(()=>g())}else return Promise.all([a(),u(t.delay)])}function ak(n,e,t=0,r=0,s=0,a=1,u){const h=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),h.push(Up(f,e,{...u,delay:t+(typeof r=="function"?0:r)+AT(n.variantChildren,f,r,s,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function lk(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Up(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Up(n,e,t);else{const s=typeof e=="function"?ea(n,e,t.custom):e;r=Promise.all(xT(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function PT(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const uk=Wm.length;function CT(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?CT(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<uk;t++){const r=Wm[t],s=n.props[r];(Kl(s)||s===!1)&&(e[r]=s)}return e}const ck=[...Hm].reverse(),hk=Hm.length;function dk(n){return e=>Promise.all(e.map(({animation:t,options:r})=>lk(n,t,r)))}function fk(n){let e=dk(n),t=j_(),r=!0;const s=f=>(p,g)=>{var E;const _=ea(n,g,f==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:x,transitionEnd:N,...D}=_;p={...p,...D,...N}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,g=CT(n.parent)||{},_=[],E=new Set;let x={},N=1/0;for(let b=0;b<hk;b++){const F=ck[b],$=t[F],W=p[F]!==void 0?p[F]:g[F],Q=Kl(W),ee=F===f?$.isActive:null;ee===!1&&(N=b);let oe=W===g[F]&&W!==p[F]&&Q;if(oe&&r&&n.manuallyAnimateOnMount&&(oe=!1),$.protectedKeys={...x},!$.isActive&&ee===null||!W&&!$.prevProp||Wh(W)||typeof W=="boolean")continue;const V=pk($.prevProp,W);let I=V||F===f&&$.isActive&&!oe&&Q||b>N&&Q,P=!1;const k=Array.isArray(W)?W:[W];let L=k.reduce(s(F),{});ee===!1&&(L={});const{prevResolvedValues:U={}}=$,R={...U,...L},$e=Te=>{I=!0,E.has(Te)&&(P=!0,E.delete(Te)),$.needsAnimating[Te]=!0;const re=n.getValue(Te);re&&(re.liveStyle=!1)};for(const Te in R){const re=L[Te],he=U[Te];if(x.hasOwnProperty(Te))continue;let ae=!1;Fp(re)&&Fp(he)?ae=!PT(re,he):ae=re!==he,ae?re!=null?$e(Te):E.add(Te):re!==void 0&&E.has(Te)?$e(Te):$.protectedKeys[Te]=!0}$.prevProp=W,$.prevResolvedValues=L,$.isActive&&(x={...x,...L}),r&&n.blockInitialAnimation&&(I=!1);const ot=oe&&V;I&&(!ot||P)&&_.push(...k.map(Te=>{const re={type:F};if(typeof Te=="string"&&r&&!ot&&n.manuallyAnimateOnMount&&n.parent){const{parent:he}=n,ae=ea(he,Te);if(he.enteringChildren&&ae){const{delayChildren:B}=ae.transition||{};re.delay=AT(he.enteringChildren,n,B)}}return{animation:Te,options:re}}))}if(E.size){const b={};if(typeof p.initial!="boolean"){const F=ea(n,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(b.transition=F.transition)}E.forEach(F=>{const $=n.getBaseTarget(F),W=n.getValue(F);W&&(W.liveStyle=!0),b[F]=$??null}),_.push({animation:b})}let D=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(_):Promise.resolve()}function h(f,p){var _;if(t[f].isActive===p)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(E=>{var x;return(x=E.animationState)==null?void 0:x.setActive(f,p)}),t[f].isActive=p;const g=u(f);for(const E in t)t[E].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=j_(),r=!0}}}function pk(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!PT(e,n):!1}function bs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function j_(){return{animate:bs(!0),whileInView:bs(),whileHover:bs(),whileTap:bs(),whileDrag:bs(),whileFocus:bs(),exit:bs()}}class Zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mk extends Zi{constructor(e){super(e),e.animationState||(e.animationState=fk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let gk=0;class yk extends Zi{constructor(){super(...arguments),this.id=gk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vk={animation:{Feature:mk},exit:{Feature:yk}};function Ql(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function fu(n){return{point:{x:n.pageX,y:n.pageY}}}const _k=n=>e=>$m(e)&&n(e,fu(e));function Dl(n,e,t,r){return Ql(n,e,_k(t),r)}const RT=1e-4,wk=1-RT,Ek=1+RT,kT=.01,Tk=0-kT,Sk=0+kT;function nn(n){return n.max-n.min}function Ik(n,e,t){return Math.abs(n-e)<=t}function U_(n,e,t,r=.5){n.origin=r,n.originPoint=rt(e.min,e.max,n.origin),n.scale=nn(t)/nn(e),n.translate=rt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=wk&&n.scale<=Ek||isNaN(n.scale))&&(n.scale=1),(n.translate>=Tk&&n.translate<=Sk||isNaN(n.translate))&&(n.translate=0)}function Vl(n,e,t,r){U_(n.x,e.x,t.x,r?r.originX:void 0),U_(n.y,e.y,t.y,r?r.originY:void 0)}function B_(n,e,t){n.min=t.min+e.min,n.max=n.min+nn(e)}function xk(n,e,t){B_(n.x,e.x,t.x),B_(n.y,e.y,t.y)}function z_(n,e,t){n.min=e.min-t.min,n.max=n.min+nn(e)}function Ll(n,e,t){z_(n.x,e.x,t.x),z_(n.y,e.y,t.y)}function Ln(n){return[n("x"),n("y")]}const bT=({current:n})=>n?n.ownerDocument.defaultView:null,$_=(n,e)=>Math.abs(n-e);function Ak(n,e){const t=$_(n.x,e.x),r=$_(n.y,e.y);return Math.sqrt(t**2+r**2)}class NT{constructor(e,t,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=np(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,N=Ak(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!N)return;const{point:D}=E,{timestamp:b}=Ot;this.history.push({...D,timestamp:b});const{onStart:F,onMove:$}=this.handlers;x||(F&&F(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,E)},this.handlePointerMove=(E,x)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=tp(x,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(E,x)=>{this.end();const{onEnd:N,onSessionEnd:D,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=np(E.type==="pointercancel"?this.lastMoveEventInfo:tp(x,this.transformPagePoint),this.history);this.startEvent&&N&&N(E,F),D&&D(E,F)},!$m(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=s||window;const h=fu(e),f=tp(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=Ot;this.history=[{...p,timestamp:g}];const{onSessionStart:_}=t;_&&_(e,np(f,this.history)),this.removeListeners=cu(Dl(this.contextWindow,"pointermove",this.handlePointerMove),Dl(this.contextWindow,"pointerup",this.handlePointerUp),Dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wi(this.updatePoint)}}function tp(n,e){return e?{point:e(n.point)}:n}function H_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function np({point:n},e){return{point:n,delta:H_(n,DT(e)),offset:H_(n,Pk(e)),velocity:Ck(e,.1)}}function Pk(n){return n[0]}function DT(n){return n[n.length-1]}function Ck(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=DT(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>gr(e)));)t--;if(!r)return{x:0,y:0};const a=yr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Rk(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?rt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?rt(t,n,r.max):Math.min(n,t)),n}function W_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function kk(n,{top:e,left:t,bottom:r,right:s}){return{x:W_(n.x,t,s),y:W_(n.y,e,r)}}function q_(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function bk(n,e){return{x:q_(n.x,e.x),y:q_(n.y,e.y)}}function Nk(n,e){let t=.5;const r=nn(n),s=nn(e);return s>r?t=Hl(e.min,e.max-r,n.min):r>s&&(t=Hl(n.min,n.max-s,e.min)),Zr(0,1,t)}function Dk(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Bp=.35;function Vk(n=Bp){return n===!1?n=0:n===!0&&(n=Bp),{x:K_(n,"left","right"),y:K_(n,"top","bottom")}}function K_(n,e,t){return{min:G_(n,e),max:G_(n,t)}}function G_(n,e){return typeof n=="number"?n:n[e]||0}const Lk=new WeakMap;class Mk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(fu(_).point)},u=(_,E)=>{const{drag:x,dragPropagation:N,onDragStart:D}=this.getProps();if(x&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KC(x),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ln(F=>{let $=this.getAxisMotionValue(F).get()||0;if(vr.test($)){const{projection:W}=this.visualElement;if(W&&W.layout){const Q=W.layout.layoutBox[F];Q&&($=nn(Q)*(parseFloat($)/100))}}this.originPoint[F]=$}),D&&Ze.postRender(()=>D(_,E)),jp(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},h=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:x,dragDirectionLock:N,onDirectionLock:D,onDrag:b}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:F}=E;if(N&&this.currentDirection===null){this.currentDirection=Ok(F),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),b&&b(_,E)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ln(_=>{var E;return this.getAnimationState(_)==="paused"&&((E=this.getAxisMotionValue(_).animation)==null?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new NT(e,{onSessionStart:a,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:bT(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,s=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Ze.postRender(()=>h(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Wc(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=Rk(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&Qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=kk(r.layoutBox,e):this.constraints=!1,this.elastic=Vk(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ln(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Dk(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Qo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=FR(r,s.root,this.visualElement.getTransformPagePoint());let u=bk(s.layout.layoutBox,a);if(t){const h=t(LR(u));this.hasMutatedConstraints=!!h,h&&(u=gT(h))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Ln(g=>{if(!Wc(g,t,this.currentDirection))return;let _=f&&f[g]||{};u&&(_={min:0,max:0});const E=s?200:1e6,x=s?40:1e7,N={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,N)});return Promise.all(p).then(h)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return jp(this.visualElement,e),r.start(Jm(e,r,0,t,this.visualElement,!1))}stopAnimation(){Ln(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ln(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ln(t=>{const{drag:r}=this.getProps();if(!Wc(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[t];a.set(e[t]-rt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Qo(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ln(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=Nk({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ln(u=>{if(!Wc(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(rt(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;Lk.set(this.visualElement,this);const e=this.visualElement.current,t=Dl(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Qo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ze.read(r);const u=Ql(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ln(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=Bp,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function Wc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Ok(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Fk extends Zi{constructor(e){super(e),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new Mk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Q_=n=>(e,t)=>{n&&Ze.postRender(()=>n(e,t))};class jk extends Zi{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(e){this.session=new NT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Q_(e),onStart:Q_(t),onMove:r,onEnd:(a,u)=>{delete this.session,s&&Ze.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=Dl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Y_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Sl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=Y_(n,e.target.x),r=Y_(n,e.target.y);return`${t}% ${r}%`}},Uk={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=qi.parse(n);if(s.length>5)return r;const a=qi.createTransformer(n),u=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const p=rt(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};let rp=!1;class Bk extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;uR(zk),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),rp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,rp=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Ze.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;rp=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function VT(n){const[e,t]=nR(),r=O.useContext(dE);return A.jsx(Bk,{...n,layoutGroup:r,switchLayoutGroup:O.useContext(pT),isPresent:e,safeToRemove:t})}const zk={borderRadius:{...Sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sl,borderTopRightRadius:Sl,borderBottomLeftRadius:Sl,borderBottomRightRadius:Sl,boxShadow:Uk};function $k(n,e,t){const r=Qt(n)?n:sa(n);return r.start(Jm("",r,e,t)),r.animation}const Hk=(n,e)=>n.depth-e.depth;class Wk{constructor(){this.children=[],this.isDirty=!1}add(e){Sm(this.children,e),this.isDirty=!0}remove(e){Im(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Hk),this.isDirty=!1,this.children.forEach(e)}}function qk(n,e){const t=mn.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Wi(r),n(a-e))};return Ze.setup(r,!0),()=>Wi(r)}const LT=["TopLeft","TopRight","BottomLeft","BottomRight"],Kk=LT.length,X_=n=>typeof n=="string"?parseFloat(n):n,J_=n=>typeof n=="number"||Se.test(n);function Gk(n,e,t,r,s,a){s?(n.opacity=rt(0,t.opacity??1,Qk(r)),n.opacityExit=rt(e.opacity??1,0,Yk(r))):a&&(n.opacity=rt(e.opacity??1,t.opacity??1,r));for(let u=0;u<Kk;u++){const h=`border${LT[u]}Radius`;let f=Z_(e,h),p=Z_(t,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||J_(f)===J_(p)?(n[h]=Math.max(rt(X_(f),X_(p),r),0),(vr.test(p)||vr.test(f))&&(n[h]+="%")):n[h]=p}(e.rotate||t.rotate)&&(n.rotate=rt(e.rotate||0,t.rotate||0,r))}function Z_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Qk=MT(0,.5,SE),Yk=MT(.5,.95,Fn);function MT(n,e,t){return r=>r<n?0:r>e?1:t(Hl(n,e,r))}function ew(n,e){n.min=e.min,n.max=e.max}function Vn(n,e){ew(n.x,e.x),ew(n.y,e.y)}function tw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function nw(n,e,t,r,s){return n-=e,n=_h(n,1/t,r),s!==void 0&&(n=_h(n,1/s,r)),n}function Xk(n,e=0,t=1,r=.5,s,a=n,u=n){if(vr.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=rt(a.min,a.max,r);n===a&&(h-=e),n.min=nw(n.min,e,t,h,s),n.max=nw(n.max,e,t,h,s)}function rw(n,e,[t,r,s],a,u){Xk(n,e[t],e[r],e[s],e.scale,a,u)}const Jk=["x","scaleX","originX"],Zk=["y","scaleY","originY"];function iw(n,e,t,r){rw(n.x,e,Jk,t?t.x:void 0,r?r.x:void 0),rw(n.y,e,Zk,t?t.y:void 0,r?r.y:void 0)}function sw(n){return n.translate===0&&n.scale===1}function OT(n){return sw(n.x)&&sw(n.y)}function ow(n,e){return n.min===e.min&&n.max===e.max}function eb(n,e){return ow(n.x,e.x)&&ow(n.y,e.y)}function aw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function FT(n,e){return aw(n.x,e.x)&&aw(n.y,e.y)}function lw(n){return nn(n.x)/nn(n.y)}function uw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class tb{constructor(){this.members=[]}add(e){Sm(this.members,e),e.scheduleRender()}remove(e){if(Im(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nb(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:x,skewY:N}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),x&&(r+=`skewX(${x}deg) `),N&&(r+=`skewY(${N}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const ip=["","X","Y","Z"],rb=1e3;let ib=0;function sp(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function jT(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=IT(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ze,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&jT(r)}function UT({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},h=e==null?void 0:e()){this.id=ib++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ab),this.nodes.forEach(hb),this.nodes.forEach(db),this.nodes.forEach(lb)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wk)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Pm),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=tT(u)&&!ZC(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,_=0;const E=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{_=window.innerWidth}),n(u,()=>{const x=window.innerWidth;x!==_&&(_=x,this.root.updateBlockedByResize=!0,g&&g(),g=qk(E,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(dw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||yb,{onLayoutAnimationStart:D,onLayoutAnimationComplete:b}=p.getProps(),F=!this.targetLayout||!FT(this.targetLayout,x),$=!_&&E;if(this.options.layoutRoot||this.resumeFrom||$||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const W={...Um(N,"layout"),onPlay:D,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W),this.setAnimationOrigin(g,$)}else _||dw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fb),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cb),this.nodes.forEach(sb),this.nodes.forEach(ob)):this.nodes.forEach(hw),this.clearAllSnapshots();const h=mn.now();Ot.delta=Zr(0,1e3/60,h-Ot.timestamp),Ot.timestamp=h,Ot.isProcessing=!0,Kf.update.process(Ot),Kf.preRender.process(Ot),Kf.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ub),this.sharedNodes.forEach(pb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nn(this.snapshot.measuredBox.x)&&!nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!OT(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ns(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),vb(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return ht();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(_b))){const{scroll:g}=this.root;g&&(Yo(h.x,g.offset.x),Yo(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=ht();if(Vn(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Vn(h,u),Yo(h.x,_.offset.x),Yo(h.y,_.offset.y))}return h}applyTransform(u,h=!1){const f=ht();Vn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Xo(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ns(g.latestValues)&&Xo(f,g.latestValues)}return Ns(this.latestValues)&&Xo(f,this.latestValues),f}removeTransform(u){const h=ht();Vn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ns(p.latestValues))continue;Lp(p.latestValues)&&p.updateSnapshot();const g=ht(),_=p.measurePageBox();Vn(g,_),iw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ns(this.latestValues)&&iw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Ll(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),vT(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Ll(this.relativeTargetOrigin,this.target,x.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lp(this.parent.latestValues)||yT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Vn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;OR(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=ht());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tw(this.prevProjectionDelta.x,this.projectionDelta.x),tw(this.prevProjectionDelta.y,this.projectionDelta.y)),Vl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!uw(this.projectionDelta.x,this.prevProjectionDelta.x)||!uw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jo(),this.projectionDelta=Jo(),this.projectionDeltaWithTransform=Jo()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=Jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=ht(),x=f?f.source:void 0,N=this.layout?this.layout.source:void 0,D=x!==N,b=this.getStack(),F=!b||b.members.length<=1,$=!!(D&&!F&&this.options.crossfade===!0&&!this.path.some(gb));this.animationProgress=0;let W;this.mixTargetDelta=Q=>{const ee=Q/1e3;fw(_.x,u.x,ee),fw(_.y,u.y,ee),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ll(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mb(this.relativeTarget,this.relativeTargetOrigin,E,ee),W&&eb(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=ht()),Vn(W,this.relativeTarget)),D&&(this.animationValues=g,Gk(g,p,this.latestValues,ee,$,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{rh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sa(0)),this.currentAnimation=$k(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&BT(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ht();const _=nn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=nn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Vn(h,f),Xo(h,g),Vl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new tb),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&sp("z",u,p,this.animationValues);for(let g=0;g<ip.length;g++)sp(`rotate${ip[g]}`,u,p,this.animationValues),sp(`skew${ip[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=nh(h==null?void 0:h.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=nh(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ns(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=nb(this.projectionDeltaWithTransform,this.treeScale,g);f&&(_=f(g,_)),u.transform=_;const{x:E,y:x}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const N in Gl){if(g[N]===void 0)continue;const{correct:D,applyTo:b,isCSSVariable:F}=Gl[N],$=_==="none"?g[N]:D(g[N],p);if(b){const W=b.length;for(let Q=0;Q<W;Q++)u[b[Q]]=$}else F?this.options.visualElement.renderState.vars[N]=$:u[N]=$}this.options.layoutId&&(u.pointerEvents=p===this?nh(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(cw),this.root.sharedNodes.clear()}}}function sb(n){n.updateLayout()}function ob(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,u=e.source!==n.layout.source;a==="size"?Ln(_=>{const E=u?e.measuredBox[_]:e.layoutBox[_],x=nn(E);E.min=r[_].min,E.max=E.min+x}):BT(a,e.layoutBox,r)&&Ln(_=>{const E=u?e.measuredBox[_]:e.layoutBox[_],x=nn(r[_]);E.max=E.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+x)});const h=Jo();Vl(h,r,e.layoutBox);const f=Jo();u?Vl(f,n.applyTransform(s,!0),e.measuredBox):Vl(f,r,e.layoutBox);const p=!OT(h);let g=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:x}=_;if(E&&x){const N=ht();Ll(N,e.layoutBox,E.layoutBox);const D=ht();Ll(D,r,x.layoutBox),FT(N,D)||(g=!0),_.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=N,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function ab(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function lb(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function ub(n){n.clearSnapshot()}function cw(n){n.clearMeasurements()}function hw(n){n.isLayoutDirty=!1}function cb(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function dw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function hb(n){n.resolveTargetDelta()}function db(n){n.calcProjection()}function fb(n){n.resetSkewAndRotation()}function pb(n){n.removeLeadSnapshot()}function fw(n,e,t){n.translate=rt(e.translate,0,t),n.scale=rt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function pw(n,e,t,r){n.min=rt(e.min,t.min,r),n.max=rt(e.max,t.max,r)}function mb(n,e,t,r){pw(n.x,e.x,t.x,r),pw(n.y,e.y,t.y,r)}function gb(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const yb={duration:.45,ease:[.4,0,.1,1]},mw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),gw=mw("applewebkit/")&&!mw("chrome/")?Math.round:Fn;function yw(n){n.min=gw(n.min),n.max=gw(n.max)}function vb(n){yw(n.x),yw(n.y)}function BT(n,e,t){return n==="position"||n==="preserve-aspect"&&!Ik(lw(e),lw(t),.2)}function _b(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const wb=UT({attachResizeListener:(n,e)=>Ql(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),op={current:void 0},zT=UT({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!op.current){const n=new wb({});n.mount(window),n.setOptions({layoutScroll:!0}),op.current=n}return op.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Eb={pan:{Feature:jk},drag:{Feature:Fk,ProjectionNode:zT,MeasureLayout:VT}};function vw(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&Ze.postRender(()=>a(e,fu(e)))}class Tb extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=GC(e,(t,r)=>(vw(this.node,r,"Start"),s=>vw(this.node,s,"End"))))}unmount(){}}class Sb extends Zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cu(Ql(this.node.current,"focus",()=>this.onFocus()),Ql(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _w(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&Ze.postRender(()=>a(e,fu(e)))}class Ib extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=JC(e,(t,r)=>(_w(this.node,r,"Start"),(s,{success:a})=>_w(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zp=new WeakMap,ap=new WeakMap,xb=n=>{const e=zp.get(n.target);e&&e(n)},Ab=n=>{n.forEach(xb)};function Pb({root:n,...e}){const t=n||document;ap.has(t)||ap.set(t,{});const r=ap.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Ab,{root:n,...e})),r[s]}function Cb(n,e,t){const r=Pb(e);return zp.set(n,t),r.observe(n),()=>{zp.delete(n),r.unobserve(n)}}const Rb={some:0,all:1};class kb extends Zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Rb[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return Cb(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(bb(e,t))&&this.startObserver()}unmount(){}}function bb({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Nb={inView:{Feature:kb},tap:{Feature:Ib},focus:{Feature:Sb},hover:{Feature:Tb}},Db={layout:{ProjectionNode:zT,MeasureLayout:VT}},Vb={...vk,...Nb,...Eb,...Db},mr=VR(Vb,KR);function ww(){return A.jsxs("div",{className:"bg-stone-50",children:[A.jsx("section",{className:"min-h-[60vh] md:min-h-[80vh] flex items-center bg-gradient-to-br from-orange-50 to-amber-100 p-6",children:A.jsxs("div",{className:"container mx-auto text-center",children:[A.jsx(mr.h1,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-5xl md:text-7xl font-bold text-stone-800 mb-4 leading-tight",children:"Your Path to Inner Balance Begins Here."}),A.jsx(mr.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.5},className:"text-lg md:text-xl text-stone-600 max-w-3xl mx-auto mb-10",children:"Rise Up integrates timeless wisdom with modern tools to help you find clarity, strength, and peace."}),A.jsx(mr.a,{href:"/login",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.7,delay:1},children:A.jsx("button",{className:"bg-amber-600 text-white font-bold py-4 px-12 rounded-full hover:bg-amber-700 transition-transform duration-300 transform hover:scale-105 shadow-xl text-lg",children:"Start Your Journey"})})]})}),A.jsx("section",{id:"about-us",className:"py-20 bg-stone-100",children:A.jsxs("div",{className:"container mx-auto px-6 flex flex-col md:flex-row items-center gap-12",children:[A.jsx(mr.div,{className:"md:w-1/2",initial:{opacity:0,x:-60},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:A.jsx("img",{src:"https://placehold.co/600x400/FFF7ED/6D4C41?text=Inner+Peace",alt:"A serene landscape representing inner peace",className:"rounded-2xl shadow-2xl w-full"})}),A.jsxs(mr.div,{className:"md:w-1/2 text-center md:text-left",initial:{opacity:0,x:60},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.3},children:[A.jsx("h2",{className:"text-4xl font-bold text-stone-800 mb-4",children:"Our Philosophy"}),A.jsxs("p",{className:"text-stone-600 text-lg mb-6 leading-relaxed",children:["Modern Western culture promotes a life of constant seekingchasing fleeting pleasures and external validation. This path of endless consumption drains your vital energy, leading to anxiety and burnout. We believe there is a better way.",A.jsx("br",{}),A.jsx("br",{}),A.jsx("span",{className:"font-bold text-amber-700",children:"Rise Up"})," is founded on the timeless Indian tradition of ",A.jsx("span",{className:"font-bold",children:"Brahmacharya"}),": the mastery and conservation of energy. By turning inward and cultivating self-discipline, you can leave the path of distraction and build a foundation of unshakable inner peace and strength. This is the true path to lasting well-being."]})]})]})}),A.jsx("footer",{className:"bg-stone-800 text-white py-10",children:A.jsx("div",{className:"container mx-auto text-center text-stone-400",children:A.jsx("p",{children:" 2025 Rise Up. Find your strength within."})})})]})}const Lb=()=>{};var Ew={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Mb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},HT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,x=p&63;f||(x=64,u||(E=64)),r.push(t[g],t[_],t[E],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($T(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Mb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new Ob;const E=a<<2|h>>4;if(r.push(E),p!==64){const x=h<<4&240|p>>2;if(r.push(x),_!==64){const N=p<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fb=function(n){const e=$T(n);return HT.encodeByteArray(e,!0)},wh=function(n){return Fb(n).replace(/\./g,"")},WT=function(n){try{return HT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=()=>jb().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof Ew>"u")return;const n=Ew.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&WT(n[1]);return e&&JSON.parse(e)},Kh=()=>{try{return Lb()||Ub()||Bb()||zb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qT=n=>{var e,t;return(t=(e=Kh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},$b=n=>{const e=qT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},KT=()=>{var n;return(n=Kh())==null?void 0:n.config},GT=n=>{var e;return(e=Kh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wh(JSON.stringify(t)),wh(JSON.stringify(u)),""].join(".")}const Ml={};function qb(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?n.emulator.push(e):n.prod.push(e);return n}function Kb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Tw=!1;function YT(n,e){if(typeof window>"u"||typeof document>"u"||!wa(window.location.host)||Ml[n]===e||Ml[n]||Tw)return;Ml[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=qb().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Tw=!0,u()},E}function g(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=Kb(r),x=t("text"),N=document.getElementById(x)||document.createElement("span"),D=t("learnmore"),b=document.getElementById(D)||document.createElement("a"),F=t("preprendIcon"),$=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const W=E.element;h(W),g(b,D);const Q=p();f($,F),W.append($,N,b,Q),document.body.appendChild(W)}a?(N.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function Qb(){var e;const n=(e=Kh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function eN(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tN(){try{return typeof indexedDB=="object"}catch{return!1}}function nN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="FirebaseError";class oi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=rN,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?iN(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new oi(s,h,r)}}function iN(n,e){return n.replace(sN,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const sN=/\{\$([^}]+)}/g;function oN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Us(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Sw(a)&&Sw(u)){if(!Us(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Sw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Al(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function aN(n,e){const t=new lN(n,e);return t.subscribe.bind(t)}class lN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");uN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=lp),s.error===void 0&&(s.error=lp),s.complete===void 0&&(s.complete=lp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n){return n&&n._delegate?n._delegate:n}class Bs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Hb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dN(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hN(n){return n===Ds?void 0:n}function dN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const pN={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},mN=ke.INFO,gN={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},yN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=gN[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=mN,this._logHandler=yN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const vN=(n,e)=>e.some(t=>n instanceof t);let Iw,xw;function _N(){return Iw||(Iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wN(){return xw||(xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XT=new WeakMap,$p=new WeakMap,JT=new WeakMap,up=new WeakMap,eg=new WeakMap;function EN(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ui(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&XT.set(t,n)}).catch(()=>{}),eg.set(e,n),e}function TN(n){if($p.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});$p.set(n,e)}let Hp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $p.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SN(n){Hp=n(Hp)}function IN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(cp(this),e,...t);return JT.set(r,e.sort?e.sort():[e]),Ui(r)}:wN().includes(n)?function(...e){return n.apply(cp(this),e),Ui(XT.get(this))}:function(...e){return Ui(n.apply(cp(this),e))}}function xN(n){return typeof n=="function"?IN(n):(n instanceof IDBTransaction&&TN(n),vN(n,_N())?new Proxy(n,Hp):n)}function Ui(n){if(n instanceof IDBRequest)return EN(n);if(up.has(n))return up.get(n);const e=xN(n);return e!==n&&(up.set(n,e),eg.set(e,n)),e}const cp=n=>eg.get(n);function AN(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=Ui(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ui(u.result),f.oldVersion,f.newVersion,Ui(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const PN=["get","getKey","getAll","getAllKeys","count"],CN=["put","add","delete","clear"],hp=new Map;function Aw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=CN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||PN.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return hp.set(e,a),a}SN(n=>({...n,get:(e,t,r)=>Aw(e,t)||n.get(e,t,r),has:(e,t)=>!!Aw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function kN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wp="@firebase/app",Pw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new Zm("@firebase/app"),bN="@firebase/app-compat",NN="@firebase/analytics-compat",DN="@firebase/analytics",VN="@firebase/app-check-compat",LN="@firebase/app-check",MN="@firebase/auth",ON="@firebase/auth-compat",FN="@firebase/database",jN="@firebase/data-connect",UN="@firebase/database-compat",BN="@firebase/functions",zN="@firebase/functions-compat",$N="@firebase/installations",HN="@firebase/installations-compat",WN="@firebase/messaging",qN="@firebase/messaging-compat",KN="@firebase/performance",GN="@firebase/performance-compat",QN="@firebase/remote-config",YN="@firebase/remote-config-compat",XN="@firebase/storage",JN="@firebase/storage-compat",ZN="@firebase/firestore",eD="@firebase/ai",tD="@firebase/firestore-compat",nD="firebase",rD="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",iD={[Wp]:"fire-core",[bN]:"fire-core-compat",[DN]:"fire-analytics",[NN]:"fire-analytics-compat",[LN]:"fire-app-check",[VN]:"fire-app-check-compat",[MN]:"fire-auth",[ON]:"fire-auth-compat",[FN]:"fire-rtdb",[jN]:"fire-data-connect",[UN]:"fire-rtdb-compat",[BN]:"fire-fn",[zN]:"fire-fn-compat",[$N]:"fire-iid",[HN]:"fire-iid-compat",[WN]:"fire-fcm",[qN]:"fire-fcm-compat",[KN]:"fire-perf",[GN]:"fire-perf-compat",[QN]:"fire-rc",[YN]:"fire-rc-compat",[XN]:"fire-gcs",[JN]:"fire-gcs-compat",[ZN]:"fire-fst",[tD]:"fire-fst-compat",[eD]:"fire-vertex","fire-js":"fire-js",[nD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,sD=new Map,Kp=new Map;function Cw(n,e){try{n.container.addComponent(e)}catch(t){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function aa(n){const e=n.name;if(Kp.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,n);for(const t of Eh.values())Cw(t,n);for(const t of sD.values())Cw(t,n);return!0}function tg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new pu("app","Firebase",oD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=rD;function ZT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:qp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Bi.create("bad-app-name",{appName:String(s)});if(t||(t=KT()),!t)throw Bi.create("no-options");const a=Eh.get(s);if(a){if(Us(t,a.options)&&Us(r,a.config))return a;throw Bi.create("duplicate-app",{appName:s})}const u=new fN(s);for(const f of Kp.values())u.addComponent(f);const h=new aD(t,r,u);return Eh.set(s,h),h}function eS(n=qp){const e=Eh.get(n);if(!e&&n===qp&&KT())return ZT();if(!e)throw Bi.create("no-app",{appName:n});return e}function zi(n,e,t){let r=iD[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(u.join(" "));return}aa(new Bs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="firebase-heartbeat-database",uD=1,Yl="firebase-heartbeat-store";let dp=null;function tS(){return dp||(dp=AN(lD,uD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),dp}async function cD(n){try{const t=(await tS()).transaction(Yl),r=await t.objectStore(Yl).get(nS(n));return await t.done,r}catch(e){if(e instanceof oi)ti.warn(e.message);else{const t=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(t.message)}}}async function Rw(n,e){try{const r=(await tS()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(e,nS(n)),await r.done}catch(t){if(t instanceof oi)ti.warn(t.message);else{const r=Bi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ti.warn(r.message)}}}function nS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=1024,dD=30;class fD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=kw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>dD){const u=gD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ti.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kw(),{heartbeatsToSend:r,unsentEntries:s}=pD(this._heartbeatsCache.heartbeats),a=wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ti.warn(t),""}}}function kw(){return new Date().toISOString().substring(0,10)}function pD(n,e=hD){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),bw(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),bw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tN()?nN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bw(n){return wh(JSON.stringify({version:2,heartbeats:n})).length}function gD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n){aa(new Bs("platform-logger",e=>new RN(e),"PRIVATE")),aa(new Bs("heartbeat",e=>new fD(e),"PRIVATE")),zi(Wp,Pw,n),zi(Wp,Pw,"esm2020"),zi("fire-js","")}yD("");var vD="firebase",_D="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(vD,_D,"app");function rS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wD=rS,iS=new pu("auth","Firebase",rS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Zm("@firebase/auth");function ED(n,...e){Th.logLevel<=ke.WARN&&Th.warn(`Auth (${Ea}): ${n}`,...e)}function ih(n,...e){Th.logLevel<=ke.ERROR&&Th.error(`Auth (${Ea}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw ng(n,...e)}function _r(n,...e){return ng(n,...e)}function sS(n,e,t){const r={...wD(),[e]:t};return new pu("auth","Firebase",r).create(e,{appName:n.name})}function Xr(n){return sS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ng(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iS.create(n,...e)}function we(n,e,...t){if(!n)throw ng(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ih(e),new Error(e)}function ni(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function TD(){return Nw()==="http:"||Nw()==="https:"}function Nw(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TD()||Xb()||"connection"in navigator)?navigator.onLine:!0}function ID(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ni(t>e,"Short delay should be less than long delay!"),this.isMobile=Gb()||Jb()}get(){return SD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n,e){ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PD=new gu(3e4,6e4);function es(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ai(n,e,t,r,s={}){return aS(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=mu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return Yb()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&wa(n.emulatorConfig.host)&&(p.credentials="include"),oS.fetch()(await lS(n,n.config.apiHost,t,h),p)})}async function aS(n,e,t){n._canInitEmulator=!1;const r={...xD,...e};try{const s=new RD(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw qc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw qc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw qc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw sS(n,g,p);nr(n,g)}}catch(s){if(s instanceof oi)throw s;nr(n,"network-request-failed",{message:String(s)})}}async function yu(n,e,t,r,s={}){const a=await ai(n,e,t,r,s);return"mfaPendingCredential"in a&&nr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function lS(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?rg(n.config,s):`${n.config.apiScheme}://${s}`;return AD.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function CD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),PD.get())})}}function qc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=_r(n,e,r);return s.customData._tokenResponse=t,s}function Dw(n){return n!==void 0&&n.enterprise!==void 0}class kD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return CD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bD(n,e){return ai(n,"GET","/v2/recaptchaConfig",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(n,e){return ai(n,"POST","/v1/accounts:delete",e)}async function Sh(n,e){return ai(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DD(n,e=!1){const t=rn(n),r=await t.getIdToken(e),s=ig(r);we(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ol(fp(s.auth_time)),issuedAtTime:Ol(fp(s.iat)),expirationTime:Ol(fp(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function fp(n){return Number(n)*1e3}function ig(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const s=WT(t);return s?JSON.parse(s):(ih("Failed to decode base64 JWT payload"),null)}catch(s){return ih("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Vw(n){const e=ig(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof oi&&VD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function VD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n){var _;const e=n.auth,t=await n.getIdToken(),r=await la(n,Sh(e,{idToken:t}));we(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=(_=s.providerUserInfo)!=null&&_.length?uS(s.providerUserInfo):[],u=OD(n.providerData,a),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function MD(n){const e=rn(n);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OD(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function uS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(n,e){const t=await aS(n,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await lS(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&wa(n.emulatorConfig.host)&&(f.credentials="include"),oS.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jD(n,e){return ai(n,"POST","/v2/accounts:revokeToken",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Vw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await FD(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new ta;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tr{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await la(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DD(this,e)}reload(){return MD(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await la(this,ND(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:x,providerData:N,stsTokenManager:D}=t;we(_&&D,e,"internal-error");const b=ta.fromJSON(this.name,D);we(typeof _=="string",e,"internal-error"),Di(r,e.name),Di(s,e.name),we(typeof E=="boolean",e,"internal-error"),we(typeof x=="boolean",e,"internal-error"),Di(a,e.name),Di(u,e.name),Di(h,e.name),Di(f,e.name),Di(p,e.name),Di(g,e.name);const F=new tr({uid:_,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:b,createdAt:p,lastLoginAt:g});return N&&Array.isArray(N)&&(F.providerData=N.map($=>({...$}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new ta;s.updateFromServerResponse(t);const a=new tr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ih(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];we(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?uS(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new ta;h.updateFromIdToken(r);const f=new tr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Map;function Qr(n){ni(n instanceof Function,"Expected a class definition");let e=Lw.get(n);return e?(ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Lw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cS.type="NONE";const Mw=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(n,e,t){return`firebase:${n}:${e}:${t}`}class na{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=sh(this.userKey,s.apiKey,a),this.fullPersistenceKey=sh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sh(this.auth,{idToken:e}).catch(()=>{});return t?tr._fromGetAccountInfoResponse(this.auth,t,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new na(Qr(Mw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Qr(Mw);const u=sh(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const g=await p._get(u);if(g){let _;if(typeof g=="string"){const E=await Sh(e,{idToken:g}).catch(()=>{});if(!E)break;_=await tr._fromGetAccountInfoResponse(e,E,g)}else _=tr._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new na(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new na(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(yS(e))return"Webos";if(dS(e))return"Safari";if((e.includes("chrome/")||fS(e))&&!e.includes("edge/"))return"Chrome";if(mS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hS(n=Yt()){return/firefox\//i.test(n)}function dS(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fS(n=Yt()){return/crios\//i.test(n)}function pS(n=Yt()){return/iemobile/i.test(n)}function mS(n=Yt()){return/android/i.test(n)}function gS(n=Yt()){return/blackberry/i.test(n)}function yS(n=Yt()){return/webos/i.test(n)}function sg(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UD(n=Yt()){var e;return sg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function BD(){return Zb()&&document.documentMode===10}function vS(n=Yt()){return sg(n)||mS(n)||yS(n)||gS(n)||/windows phone/i.test(n)||pS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(n,e=[]){let t;switch(n){case"Browser":t=Ow(Yt());break;case"Worker":t=`${Ow(Yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(n,e={}){return ai(n,"GET","/v2/passwordPolicy",es(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=6;class WD{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??HD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fw(this),this.idTokenSubscription=new Fw(this),this.beforeStateQueue=new zD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sh(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(r=f.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ID()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Xr(this));const t=e?rn(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $D(this),t=new WD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await jD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[Qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&ED(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gs(n){return rn(n)}class Fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=aN(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KD(n){Gh=n}function wS(n){return Gh.loadJS(n)}function GD(){return Gh.recaptchaEnterpriseScript}function QD(){return Gh.gapiScript}function YD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XD{constructor(){this.enterprise=new JD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class JD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ZD="recaptcha-enterprise",ES="NO_RECAPTCHA";class eV{constructor(e){this.type=ZD,this.auth=Gs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{bD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new kD(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;Dw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(ES)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XD().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&Dw(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=GD();f.length!==0&&(f+=h),wS(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function jw(n,e,t,r=!1,s=!1){const a=new eV(n);let u;if(s)u=ES;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Yp(n,e,t,r,s){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await jw(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await jw(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(n,e){const t=tg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Us(a,e??{}))return s;nr(s,"already-initialized")}return t.initialize({options:e})}function nV(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rV(n,e,t){const r=Gs(n);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=TS(e),{host:u,port:h}=iV(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Us(p,r.config.emulator)&&Us(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,wa(u)?(QT(`${a}//${u}${f}`),YT("Auth",!0)):sV()}function TS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iV(n){const e=TS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Uw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Uw(u)}}}function Uw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}async function oV(n,e){return ai(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(n,e){return yu(n,"POST","/v1/accounts:signInWithPassword",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(n,e){return yu(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}async function uV(n,e){return yu(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends og{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Xl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Xl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,t,"signInWithPassword",aV);case"emailLink":return lV(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,r,"signUpPassword",oV);case"emailLink":return uV(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n,e){return yu(n,"POST","/v1/accounts:signInWithIdp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="http://localhost";class zs extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const u=new zs(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:cV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dV(n){const e=xl(Al(n)).link,t=e?xl(Al(e)).deep_link_id:null,r=xl(Al(n)).deep_link_id;return(r?xl(Al(r)).link:null)||r||t||e||n}class ag{constructor(e){const t=xl(Al(e)),r=t.apiKey??null,s=t.oobCode??null,a=hV(t.mode??null);we(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=dV(e);try{return new ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,t){return Xl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ag.parseLink(t);return we(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends SS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends vu{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends vu{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends vu{constructor(){super("twitter.com")}static credential(e,t){return zs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(n,e){return yu(n,"POST","/v1/accounts:signUp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await tr._fromIdTokenResponse(e,r,s),u=Bw(r);return new $s({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Bw(r);return new $s({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Bw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends oi{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new xh(e,t,r,s)}}function IS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(n,a,e,r):a})}async function pV(n,e,t=!1){const r=await la(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return $s._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(n,e,t=!1){const{auth:r}=n;if(Mn(r.app))return Promise.reject(Xr(r));const s="reauthenticate";try{const a=await la(n,IS(r,s,e,n),t);we(a.idToken,r,"internal-error");const u=ig(a.idToken);we(u,r,"internal-error");const{sub:h}=u;return we(n.uid===h,r,"user-mismatch"),$s._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(n,e,t=!1){if(Mn(n.app))return Promise.reject(Xr(n));const r="signIn",s=await IS(n,r,e),a=await $s._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function gV(n,e){return xS(Gs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(n){const e=Gs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yV(n,e,t){if(Mn(n.app))return Promise.reject(Xr(n));const r=Gs(n),u=await Yp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fV).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&AS(n),f}),h=await $s._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function vV(n,e,t){return Mn(n.app)?Promise.reject(Xr(n)):gV(rn(n),Ta.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AS(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(n,e){return ai(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=rn(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await la(r,_V(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function EV(n,e,t,r){return rn(n).onIdTokenChanged(e,t,r)}function TV(n,e,t){return rn(n).beforeAuthStateChanged(e,t)}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=1e3,IV=10;class CS extends PS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);BD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IV):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},SV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CS.type="LOCAL";const xV=CS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends PS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RS.type="SESSION";const kS=RS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await AV(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=lg("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function CV(n){wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function RV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function bV(){return bS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebaseLocalStorageDb",NV=1,Ph="firebaseLocalStorage",DS="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(n,e){return n.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function DV(){const n=indexedDB.deleteDatabase(NS);return new _u(n).toPromise()}function Xp(){const n=indexedDB.open(NS,NV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ph,{keyPath:DS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),await DV(),e(await Xp()))})})}async function zw(n,e,t){const r=Yh(n,!0).put({[DS]:e,value:t});return new _u(r).toPromise()}async function VV(n,e){const t=Yh(n,!1).get(e),r=await new _u(t).toPromise();return r===void 0?null:r.value}function $w(n,e){const t=Yh(n,!0).delete(e);return new _u(t).toPromise()}const LV=800,MV=3;class VS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>MV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(bV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await RV(),!this.activeServiceWorker)return;this.sender=new PV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await zw(e,Ah,"1"),await $w(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>zw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>VV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$w(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Yh(s,!1).getAll();return new _u(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VS.type="LOCAL";const OV=VS;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(n,e){return e?Qr(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends og{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jV(n){return xS(n.auth,new ug(n),n.bypassAuthState)}function UV(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),mV(t,new ug(n),n.bypassAuthState)}async function BV(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),pV(t,new ug(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jV;case"linkViaPopup":case"linkViaRedirect":return BV;case"reauthViaPopup":case"reauthViaRedirect":return UV;default:nr(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new gu(2e3,1e4);class Zo extends LS{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zV.get())};e()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="pendingRedirect",oh=new Map;class HV extends LS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await WV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WV(n,e){const t=GV(e),r=KV(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function qV(n,e){oh.set(n._key(),e)}function KV(n){return Qr(n._redirectPersistence)}function GV(n){return sh($V,n.config.apiKey,n.name)}async function QV(n,e,t=!1){if(Mn(n.app))return Promise.reject(Xr(n));const r=Gs(n),s=FV(r,e),u=await new HV(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=600*1e3;class XV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!MS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hw(e))}saveEventToCache(e){this.cachedEventUids.add(Hw(e)),this.lastProcessedEventTime=Date.now()}}function Hw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(n,e={}){return ai(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t2=/^https?/;async function n2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZV(n);for(const t of e)try{if(r2(t))return}catch{}nr(n,"unauthorized-domain")}function r2(n){const e=Gp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!t2.test(t))return!1;if(e2.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new gu(3e4,6e4);function Ww(){const n=wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function s2(n){return new Promise((e,t)=>{var s,a,u;function r(){Ww(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ww(),t(_r(n,"network-request-failed"))},timeout:i2.get()})}if((a=(s=wr().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=wr().gapi)!=null&&u.load)r();else{const h=YD("iframefcb");return wr()[h]=()=>{gapi.load?r():t(_r(n,"network-request-failed"))},wS(`${QD()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw ah=null,e})}let ah=null;function o2(n){return ah=ah||s2(n),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new gu(5e3,15e3),l2="__/auth/iframe",u2="emulator/auth/iframe",c2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d2(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rg(e,u2):`https://${n.config.authDomain}/${l2}`,r={apiKey:e.apiKey,appName:n.name,v:Ea},s=h2.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${mu(r).slice(1)}`}async function f2(n){const e=await o2(n),t=wr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:d2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=_r(n,"network-request-failed"),h=wr().setTimeout(()=>{a(u)},a2.get());function f(){wr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m2=500,g2=600,y2="_blank",v2="http://localhost";class qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _2(n,e,t,r=m2,s=g2){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...p2,width:r.toString(),height:s.toString(),top:a,left:u},p=Yt().toLowerCase();t&&(h=fS(p)?y2:t),hS(p)&&(e=e||v2,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[x,N])=>`${E}${x}=${N},`,"");if(UD(p)&&h!=="_self")return w2(e||"",h),new qw(null);const _=window.open(e||"",h,g);we(_,n,"popup-blocked");try{_.focus()}catch{}return new qw(_)}function w2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="__/auth/handler",T2="emulator/auth/handler",S2=encodeURIComponent("fac");async function Kw(n,e,t,r,s,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ea,eventId:s};if(e instanceof SS){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",oN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof vu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),p=f?`#${S2}=${encodeURIComponent(f)}`:"";return`${I2(n)}?${mu(h).slice(1)}${p}`}function I2({config:n}){return n.emulator?rg(n,T2):`https://${n.authDomain}/${E2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="webStorageSupport";class x2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kS,this._completeRedirectFn=QV,this._overrideRedirectResult=qV}async _openPopup(e,t,r,s){var u;ni((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await Kw(e,t,r,Gp(),s);return _2(e,a,lg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Kw(e,t,r,Gp(),s);return CV(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ni(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await f2(e),r=new XV(e);return t.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pp,{type:pp},s=>{var u;const a=(u=s==null?void 0:s[0])==null?void 0:u[pp];a!==void 0&&t(!!a),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=n2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vS()||dS()||sg()}}const A2=x2;var Gw="@firebase/auth",Qw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R2(n){aa(new Bs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_S(n)},p=new qD(r,s,a,f);return nV(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),aa(new Bs("auth-internal",e=>{const t=Gs(e.getProvider("auth").getImmediate());return(r=>new P2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(Gw,Qw,C2(n)),zi(Gw,Qw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=300,b2=GT("authIdTokenMaxAge")||k2;let Yw=null;const N2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>b2)return;const s=t==null?void 0:t.token;Yw!==s&&(Yw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function D2(n=eS()){const e=tg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=tV(n,{popupRedirectResolver:A2,persistence:[OV,xV,kS]}),r=GT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=N2(a.toString());TV(t,u,()=>u(t.currentUser)),EV(t,h=>u(h))}}const s=qT("auth");return s&&rV(t,`http://${s}`),t}function V2(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}KD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=_r("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",V2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R2("Browser");var Xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,OS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function P(){}P.prototype=I.prototype,V.D=I.prototype,V.prototype=new P,V.prototype.constructor=V,V.C=function(k,L,U){for(var R=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)R[$e-2]=arguments[$e];return I.prototype[L].apply(k,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,I,P){P||(P=0);var k=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)k[L]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(L=0;16>L;++L)k[L]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=V.g[0],P=V.g[1],L=V.g[2];var U=V.g[3],R=I+(U^P&(L^U))+k[0]+3614090360&4294967295;I=P+(R<<7&4294967295|R>>>25),R=U+(L^I&(P^L))+k[1]+3905402710&4294967295,U=I+(R<<12&4294967295|R>>>20),R=L+(P^U&(I^P))+k[2]+606105819&4294967295,L=U+(R<<17&4294967295|R>>>15),R=P+(I^L&(U^I))+k[3]+3250441966&4294967295,P=L+(R<<22&4294967295|R>>>10),R=I+(U^P&(L^U))+k[4]+4118548399&4294967295,I=P+(R<<7&4294967295|R>>>25),R=U+(L^I&(P^L))+k[5]+1200080426&4294967295,U=I+(R<<12&4294967295|R>>>20),R=L+(P^U&(I^P))+k[6]+2821735955&4294967295,L=U+(R<<17&4294967295|R>>>15),R=P+(I^L&(U^I))+k[7]+4249261313&4294967295,P=L+(R<<22&4294967295|R>>>10),R=I+(U^P&(L^U))+k[8]+1770035416&4294967295,I=P+(R<<7&4294967295|R>>>25),R=U+(L^I&(P^L))+k[9]+2336552879&4294967295,U=I+(R<<12&4294967295|R>>>20),R=L+(P^U&(I^P))+k[10]+4294925233&4294967295,L=U+(R<<17&4294967295|R>>>15),R=P+(I^L&(U^I))+k[11]+2304563134&4294967295,P=L+(R<<22&4294967295|R>>>10),R=I+(U^P&(L^U))+k[12]+1804603682&4294967295,I=P+(R<<7&4294967295|R>>>25),R=U+(L^I&(P^L))+k[13]+4254626195&4294967295,U=I+(R<<12&4294967295|R>>>20),R=L+(P^U&(I^P))+k[14]+2792965006&4294967295,L=U+(R<<17&4294967295|R>>>15),R=P+(I^L&(U^I))+k[15]+1236535329&4294967295,P=L+(R<<22&4294967295|R>>>10),R=I+(L^U&(P^L))+k[1]+4129170786&4294967295,I=P+(R<<5&4294967295|R>>>27),R=U+(P^L&(I^P))+k[6]+3225465664&4294967295,U=I+(R<<9&4294967295|R>>>23),R=L+(I^P&(U^I))+k[11]+643717713&4294967295,L=U+(R<<14&4294967295|R>>>18),R=P+(U^I&(L^U))+k[0]+3921069994&4294967295,P=L+(R<<20&4294967295|R>>>12),R=I+(L^U&(P^L))+k[5]+3593408605&4294967295,I=P+(R<<5&4294967295|R>>>27),R=U+(P^L&(I^P))+k[10]+38016083&4294967295,U=I+(R<<9&4294967295|R>>>23),R=L+(I^P&(U^I))+k[15]+3634488961&4294967295,L=U+(R<<14&4294967295|R>>>18),R=P+(U^I&(L^U))+k[4]+3889429448&4294967295,P=L+(R<<20&4294967295|R>>>12),R=I+(L^U&(P^L))+k[9]+568446438&4294967295,I=P+(R<<5&4294967295|R>>>27),R=U+(P^L&(I^P))+k[14]+3275163606&4294967295,U=I+(R<<9&4294967295|R>>>23),R=L+(I^P&(U^I))+k[3]+4107603335&4294967295,L=U+(R<<14&4294967295|R>>>18),R=P+(U^I&(L^U))+k[8]+1163531501&4294967295,P=L+(R<<20&4294967295|R>>>12),R=I+(L^U&(P^L))+k[13]+2850285829&4294967295,I=P+(R<<5&4294967295|R>>>27),R=U+(P^L&(I^P))+k[2]+4243563512&4294967295,U=I+(R<<9&4294967295|R>>>23),R=L+(I^P&(U^I))+k[7]+1735328473&4294967295,L=U+(R<<14&4294967295|R>>>18),R=P+(U^I&(L^U))+k[12]+2368359562&4294967295,P=L+(R<<20&4294967295|R>>>12),R=I+(P^L^U)+k[5]+4294588738&4294967295,I=P+(R<<4&4294967295|R>>>28),R=U+(I^P^L)+k[8]+2272392833&4294967295,U=I+(R<<11&4294967295|R>>>21),R=L+(U^I^P)+k[11]+1839030562&4294967295,L=U+(R<<16&4294967295|R>>>16),R=P+(L^U^I)+k[14]+4259657740&4294967295,P=L+(R<<23&4294967295|R>>>9),R=I+(P^L^U)+k[1]+2763975236&4294967295,I=P+(R<<4&4294967295|R>>>28),R=U+(I^P^L)+k[4]+1272893353&4294967295,U=I+(R<<11&4294967295|R>>>21),R=L+(U^I^P)+k[7]+4139469664&4294967295,L=U+(R<<16&4294967295|R>>>16),R=P+(L^U^I)+k[10]+3200236656&4294967295,P=L+(R<<23&4294967295|R>>>9),R=I+(P^L^U)+k[13]+681279174&4294967295,I=P+(R<<4&4294967295|R>>>28),R=U+(I^P^L)+k[0]+3936430074&4294967295,U=I+(R<<11&4294967295|R>>>21),R=L+(U^I^P)+k[3]+3572445317&4294967295,L=U+(R<<16&4294967295|R>>>16),R=P+(L^U^I)+k[6]+76029189&4294967295,P=L+(R<<23&4294967295|R>>>9),R=I+(P^L^U)+k[9]+3654602809&4294967295,I=P+(R<<4&4294967295|R>>>28),R=U+(I^P^L)+k[12]+3873151461&4294967295,U=I+(R<<11&4294967295|R>>>21),R=L+(U^I^P)+k[15]+530742520&4294967295,L=U+(R<<16&4294967295|R>>>16),R=P+(L^U^I)+k[2]+3299628645&4294967295,P=L+(R<<23&4294967295|R>>>9),R=I+(L^(P|~U))+k[0]+4096336452&4294967295,I=P+(R<<6&4294967295|R>>>26),R=U+(P^(I|~L))+k[7]+1126891415&4294967295,U=I+(R<<10&4294967295|R>>>22),R=L+(I^(U|~P))+k[14]+2878612391&4294967295,L=U+(R<<15&4294967295|R>>>17),R=P+(U^(L|~I))+k[5]+4237533241&4294967295,P=L+(R<<21&4294967295|R>>>11),R=I+(L^(P|~U))+k[12]+1700485571&4294967295,I=P+(R<<6&4294967295|R>>>26),R=U+(P^(I|~L))+k[3]+2399980690&4294967295,U=I+(R<<10&4294967295|R>>>22),R=L+(I^(U|~P))+k[10]+4293915773&4294967295,L=U+(R<<15&4294967295|R>>>17),R=P+(U^(L|~I))+k[1]+2240044497&4294967295,P=L+(R<<21&4294967295|R>>>11),R=I+(L^(P|~U))+k[8]+1873313359&4294967295,I=P+(R<<6&4294967295|R>>>26),R=U+(P^(I|~L))+k[15]+4264355552&4294967295,U=I+(R<<10&4294967295|R>>>22),R=L+(I^(U|~P))+k[6]+2734768916&4294967295,L=U+(R<<15&4294967295|R>>>17),R=P+(U^(L|~I))+k[13]+1309151649&4294967295,P=L+(R<<21&4294967295|R>>>11),R=I+(L^(P|~U))+k[4]+4149444226&4294967295,I=P+(R<<6&4294967295|R>>>26),R=U+(P^(I|~L))+k[11]+3174756917&4294967295,U=I+(R<<10&4294967295|R>>>22),R=L+(I^(U|~P))+k[2]+718787259&4294967295,L=U+(R<<15&4294967295|R>>>17),R=P+(U^(L|~I))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+U&4294967295}r.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var P=I-this.blockSize,k=this.B,L=this.h,U=0;U<I;){if(L==0)for(;U<=P;)s(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<I;)if(k[L++]=V.charCodeAt(U++),L==this.blockSize){s(this,k),L=0;break}}else for(;U<I;)if(k[L++]=V[U++],L==this.blockSize){s(this,k),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var P=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=P&255,P/=256;for(this.u(V),V=Array(16),I=P=0;4>I;++I)for(var k=0;32>k;k+=8)V[P++]=this.g[I]>>>k&255;return V};function a(V,I){var P=h;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=I(V)}function u(V,I){this.h=I;for(var P=[],k=!0,L=V.length-1;0<=L;L--){var U=V[L]|0;k&&U==I||(P[L]=U,k=!1)}this.g=P}var h={};function f(V){return-128<=V&&128>V?a(V,function(I){return new u([I|0],0>I?-1:0)}):new u([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return b(p(-V));for(var I=[],P=1,k=0;V>=P;k++)I[k]=V/P|0,P*=4294967296;return new u(I,0)}function g(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return b(g(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(I,8)),k=_,L=0;L<V.length;L+=8){var U=Math.min(8,V.length-L),R=parseInt(V.substring(L,L+U),I);8>U?(U=p(Math.pow(I,U)),k=k.j(U).add(p(R))):(k=k.j(P),k=k.add(p(R)))}return k}var _=f(0),E=f(1),x=f(16777216);n=u.prototype,n.m=function(){if(D(this))return-b(this).m();for(var V=0,I=1,P=0;P<this.g.length;P++){var k=this.i(P);V+=(0<=k?k:4294967296+k)*I,I*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(D(this))return"-"+b(this).toString(V);for(var I=p(Math.pow(V,6)),P=this,k="";;){var L=Q(P,I).g;P=F(P,L.j(I));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(V);if(P=L,N(P))return U+k;for(;6>U.length;)U="0"+U;k=U+k}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function D(V){return V.h==-1}n.l=function(V){return V=F(this,V),D(V)?-1:N(V)?0:1};function b(V){for(var I=V.g.length,P=[],k=0;k<I;k++)P[k]=~V.g[k];return new u(P,~V.h).add(E)}n.abs=function(){return D(this)?b(this):this},n.add=function(V){for(var I=Math.max(this.g.length,V.g.length),P=[],k=0,L=0;L<=I;L++){var U=k+(this.i(L)&65535)+(V.i(L)&65535),R=(U>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);k=R>>>16,U&=65535,R&=65535,P[L]=R<<16|U}return new u(P,P[P.length-1]&-2147483648?-1:0)};function F(V,I){return V.add(b(I))}n.j=function(V){if(N(this)||N(V))return _;if(D(this))return D(V)?b(this).j(b(V)):b(b(this).j(V));if(D(V))return b(this.j(b(V)));if(0>this.l(x)&&0>V.l(x))return p(this.m()*V.m());for(var I=this.g.length+V.g.length,P=[],k=0;k<2*I;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<V.g.length;L++){var U=this.i(k)>>>16,R=this.i(k)&65535,$e=V.i(L)>>>16,ot=V.i(L)&65535;P[2*k+2*L]+=R*ot,$(P,2*k+2*L),P[2*k+2*L+1]+=U*ot,$(P,2*k+2*L+1),P[2*k+2*L+1]+=R*$e,$(P,2*k+2*L+1),P[2*k+2*L+2]+=U*$e,$(P,2*k+2*L+2)}for(k=0;k<I;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=I;k<2*I;k++)P[k]=0;return new u(P,0)};function $(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function W(V,I){this.g=V,this.h=I}function Q(V,I){if(N(I))throw Error("division by zero");if(N(V))return new W(_,_);if(D(V))return I=Q(b(V),I),new W(b(I.g),b(I.h));if(D(I))return I=Q(V,b(I)),new W(b(I.g),I.h);if(30<V.g.length){if(D(V)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var P=E,k=I;0>=k.l(V);)P=ee(P),k=ee(k);var L=oe(P,1),U=oe(k,1);for(k=oe(k,2),P=oe(P,2);!N(k);){var R=U.add(k);0>=R.l(V)&&(L=L.add(P),U=R),k=oe(k,1),P=oe(P,1)}return I=F(V,L.j(I)),new W(L,I)}for(L=_;0<=V.l(I);){for(P=Math.max(1,Math.floor(V.m()/I.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),U=p(P),R=U.j(I);D(R)||0<R.l(V);)P-=k,U=p(P),R=U.j(I);N(U)&&(U=E),L=L.add(U),V=F(V,R)}return new W(L,V)}n.A=function(V){return Q(this,V).h},n.and=function(V){for(var I=Math.max(this.g.length,V.g.length),P=[],k=0;k<I;k++)P[k]=this.i(k)&V.i(k);return new u(P,this.h&V.h)},n.or=function(V){for(var I=Math.max(this.g.length,V.g.length),P=[],k=0;k<I;k++)P[k]=this.i(k)|V.i(k);return new u(P,this.h|V.h)},n.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),P=[],k=0;k<I;k++)P[k]=this.i(k)^V.i(k);return new u(P,this.h^V.h)};function ee(V){for(var I=V.g.length+1,P=[],k=0;k<I;k++)P[k]=V.i(k)<<1|V.i(k-1)>>>31;return new u(P,V.h)}function oe(V,I){var P=I>>5;I%=32;for(var k=V.g.length-P,L=[],U=0;U<k;U++)L[U]=0<I?V.i(U+P)>>>I|V.i(U+P+1)<<32-I:V.i(U+P);return new u(L,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,$i=u}).apply(typeof Xw<"u"?Xw:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FS,Pl,jS,lh,Jp,US,BS,zS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in w))break e;w=w[z]}c=c[c.length-1],S=w[c],y=y(S),y!=S&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,S=!1,z={next:function(){if(!S&&w<c.length){var G=w++;return{value:y(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function x(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,z,G){for(var se=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)se[ze-2]=arguments[ze];return y.prototype[z].apply(S,se)}}function D(c){const y=c.length;if(0<y){const w=Array(y);for(let S=0;S<y;S++)w[S]=c[S];return w}return[]}function b(c,y){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const z=c.length||0,G=S.length||0;c.length=z+G;for(let se=0;se<G;se++)c[z+se]=S[se]}else c.push(S)}}class F{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var ee=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function oe(c,y,w){for(const S in c)y.call(w,c[S],S,c)}function V(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function I(c){const y={};for(const w in c)y[w]=c[w];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let w,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(w in S)c[w]=S[w];for(let G=0;G<P.length;G++)w=P[G],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function L(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function U(c){h.setTimeout(()=>{throw c},0)}function R(){var c=he;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class $e{constructor(){this.h=this.g=null}add(y,w){const S=ot.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new F(()=>new vt,c=>c.reset());class vt{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,re=!1,he=new $e,ae=()=>{const c=h.Promise.resolve(void 0);Te=()=>{c.then(B)}};var B=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(w){U(w)}var y=ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}re=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function Ce(c,y){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{Q(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,ge);var Ve={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function We(c,y,w,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=z,this.key=++Ue,this.da=this.fa=!1}function Pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kr(c){this.src=c,this.g={},this.h=0}kr.prototype.add=function(c,y,w,S,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=li(c,y,S,z);return-1<se?(y=c[se],w||(y.fa=!1)):(y=new We(y,this.src,G,!!S,z),y.fa=w,c.push(y)),y};function Xs(c,y){var w=y.type;if(w in c.g){var S=c.g[w],z=Array.prototype.indexOf.call(S,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(S,z,1),G&&(Pt(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function li(c,y,w,S){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==y&&G.capture==!!w&&G.ha==S)return z}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),Js={};function Pa(c,y,w,S,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Pa(c,y[G],w,S,z);return null}return w=ka(w),c&&c[je]?c.K(y,w,p(S)?!!S.capture:!1,z):Ca(c,y,w,!1,S,z)}function Ca(c,y,w,S,z,G){if(!y)throw Error("Invalid event type");var se=p(z)?!!z.capture:!!z,ze=eo(c);if(ze||(c[rs]=ze=new kr(c)),w=ze.add(y,w,S,se,G),w.proxy)return w;if(S=Au(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)Pe||(z=se),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(Nr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Au(){function c(w){return y.call(c.src,c.listener,w)}const y=Ra;return c}function Zs(c,y,w,S,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)Zs(c,y[G],w,S,z);else S=p(S)?!!S.capture:!!S,w=ka(w),c&&c[je]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],w=li(G,w,S,z),-1<w&&(Pt(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=eo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=li(y,w,S,z)),(w=-1<c?y[c]:null)&&br(w))}function br(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[je])Xs(y.i,c);else{var w=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(w,S,c.capture):y.detachEvent?y.detachEvent(Nr(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=eo(y))?(Xs(w,c),w.h==0&&(w.src=null,y[rs]=null)):Pt(c)}}}function Nr(c){return c in Js?Js[c]:Js[c]="on"+c}function Ra(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var w=c.listener,S=c.ha||c.src;c.fa&&br(c),c=w.call(S,y)}return c}function eo(c){return c=c[rs],c instanceof kr?c:null}var to="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(c){return typeof c=="function"?c:(c[to]||(c[to]=function(y){return c.handleEvent(y)}),c[to])}function _t(){X.call(this),this.i=new kr(this),this.M=this,this.F=null}N(_t,X),_t.prototype[je]=!0,_t.prototype.removeEventListener=function(c,y,w,S){Zs(this,c,y,w,S)};function wt(c,y){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ge(y,c);else if(y instanceof ge)y.target=y.target||c;else{var z=y;y=new ge(S,c),k(y,z)}if(z=!0,w)for(var G=w.length-1;0<=G;G--){var se=y.g=w[G];z=Dr(se,S,!0,y)&&z}if(se=y.g=c,z=Dr(se,S,!0,y)&&z,z=Dr(se,S,!1,y)&&z,w)for(G=0;G<w.length;G++)se=y.g=w[G],z=Dr(se,S,!1,y)&&z}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],S=0;S<w.length;S++)Pt(w[S]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,w,S){return this.i.add(String(c),y,!1,w,S)},_t.prototype.L=function(c,y,w,S){return this.i.add(String(c),y,!0,w,S)};function Dr(c,y,w,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var se=y[G];if(se&&!se.da&&se.capture==w){var ze=se.listener,Et=se.ha||se.src;se.fa&&Xs(c.i,se),z=ze.call(Et,S)!==!1&&z}}return z&&!S.defaultPrevented}function ba(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function ui(c){c.g=ba(()=>{c.g=null,c.i&&(c.i=!1,ui(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class is extends X{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){X.call(this),this.h=c,this.g={}}N(ss,X);var Na=[];function Da(c){oe(c.g,function(y,w){this.g.hasOwnProperty(w)&&br(y)},c),c.g={}}ss.prototype.N=function(){ss.aa.N.call(this),Da(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Va=h.JSON.stringify,La=h.JSON.parse,Ma=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function os(){}os.prototype.h=null;function no(c){return c.h||(c.h=c.i())}function ro(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){ge.call(this,"d")}N(rr,ge);function io(){ge.call(this,"c")}N(io,ge);var ir={},Oa=null;function as(){return Oa=Oa||new _t}ir.La="serverreachability";function Fa(c){ge.call(this,ir.La,c)}N(Fa,ge);function Vr(c){const y=as();wt(y,new Fa(y))}ir.STAT_EVENT="statevent";function ja(c,y){ge.call(this,ir.STAT_EVENT,c),this.stat=y}N(ja,ge);function ut(c){const y=as();wt(y,new ja(y,c))}ir.Ma="timingevent";function so(c,y){ge.call(this,ir.Ma,c),this.size=y}N(so,ge);function jn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ls(){this.g=!0}ls.prototype.xa=function(){this.g=!1};function us(c,y,w,S,z,G){c.info(function(){if(c.g)if(G)for(var se="",ze=G.split("&"),Et=0;Et<ze.length;Et++){var Le=ze[Et].split("=");if(1<Le.length){var Ct=Le[0];Le=Le[1];var ft=Ct.split("_");se=2<=ft.length&&ft[1]=="type"?se+(Ct+"="+Le+"&"):se+(Ct+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+w+`
`+se})}function oo(c,y,w,S,z,G,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+w+`
`+G+" "+se})}function Un(c,y,w,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+fd(c,w)+(S?" "+S:"")})}function Ua(c,y){c.info(function(){return"TIMEOUT: "+y})}ls.prototype.info=function(){};function fd(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return Va(w)}catch{return y}}var ao={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function cs(){}N(cs,os),cs.prototype.g=function(){return new XMLHttpRequest},cs.prototype.i=function(){return{}},Bn=new cs;function zn(c,y,w,S){this.j=c,this.i=y,this.l=w,this.R=S||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cu}function Cu(){this.i=null,this.g="",this.h=!1}var Ba={},lo={};function uo(c,y,w){c.L=1,c.v=pi(yn(y)),c.m=w,c.P=!0,za(c,null)}function za(c,y){c.F=Date.now(),qe(c),c.A=yn(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),gi(w.i,"t",S),c.C=0,w=c.j.J,c.h=new Cu,c.g=qu(c.j,w?y:null,!c.m),0<c.O&&(c.M=new is(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Na[0]=z.toString()),z=Na);for(var G=0;G<z.length;G++){var se=Pa(w,z[G],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vr(),us(c.i,c.u,c.A,c.l,c.R,c.m)}zn.prototype.ca=function(c){c=c.target;const y=this.M;y&&on(c)==3?y.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const ft=on(this.g);var y=this.g.Ba();const Pn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Ga(this.g)))){this.J||ft!=4||y==7||(y==8||0>=Pn?Vr(3):Vr(2)),hs(this);var w=this.g.Z();this.X=w;t:if(Ru(this)){var S=Ga(this.g);c="";var z=S.length,G=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),ci(this);var se="";break t}this.h.i=new h.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(G&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=w==200,oo(this.i,this.u,this.A,this.l,this.R,ft,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Et=this.g;if((ze=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ze)){var Le=ze;break t}}Le=null}if(w=Le)Un(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$a(this,w);else{this.o=!1,this.s=3,ut(12),xn(this),ci(this);break e}}if(this.P){w=!0;let _n;for(;!this.J&&this.C<se.length;)if(_n=pd(this,se),_n==lo){ft==4&&(this.s=4,ut(14),w=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Ba){this.s=4,ut(15),Un(this.i,this.l,se,"[Invalid Chunk]"),w=!1;break}else Un(this.i,this.l,_n,null),$a(this,_n);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||se.length!=0||this.h.h||(this.s=1,ut(16),w=!1),this.o=this.o&&w,!w)Un(this.i,this.l,se,"[Invalid Chunked Response]"),xn(this),ci(this);else if(0<se.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ya(Ct),Ct.M=!0,ut(11))}}else Un(this.i,this.l,se,null),$a(this,se);ft==4&&xn(this),this.o&&!this.J&&(ft==4?Eo(this.j,this):(this.o=!1,qe(this)))}else go(this.g),w==400&&0<se.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),xn(this),ci(this)}}}catch{}finally{}};function Ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pd(c,y){var w=c.C,S=y.indexOf(`
`,w);return S==-1?lo:(w=Number(y.substring(w,S)),isNaN(w)?Ba:(S+=1,S+w>y.length?lo:(y=y.slice(S,S+w),c.C=S+w,y)))}zn.prototype.cancel=function(){this.J=!0,xn(this)};function qe(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=jn(E(c.ba,c),y)}function hs(c){c.B&&(h.clearTimeout(c.B),c.B=null)}zn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ua(this.i,this.A),this.L!=2&&(Vr(),ut(17)),xn(this),this.s=2,ci(this)):ku(this,this.S-c)};function ci(c){c.j.G==0||c.J||Eo(c.j,c)}function xn(c){hs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Da(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function $a(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Xt(w.h,c))){if(!c.K&&Xt(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)wo(w),Kn(w);else break e;_o(w),ut(18)}}else w.za=z[1],0<w.za-w.T&&37500>z[2]&&w.F&&w.v==0&&!w.C&&(w.C=jn(E(w.Za,w),6e3));if(1>=Nu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else jr(w,11)}else if((c.K||w.g==c)&&wo(w),!$(y))for(z=w.Da.g.parse(y),y=0;y<z.length;y++){let Le=z[y];if(w.T=Le[0],Le=Le[1],w.G==2)if(Le[0]=="c"){w.K=Le[1],w.ia=Le[2];const Ct=Le[3];Ct!=null&&(w.la=Ct,w.j.info("VER="+w.la));const ft=Le[4];ft!=null&&(w.Aa=ft,w.j.info("SVER="+w.Aa));const Pn=Le[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(S=1.5*Pn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const _n=c.g;if(_n){const vs=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var G=S.h;G.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ha(G,G.h),G.h=null))}if(S.D){const So=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(S.ya=So,He(S.I,S.D,So))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var se=c;if(S.qa=Wu(S,S.J?S.ia:null,S.W),se.K){Du(S.h,se);var ze=se,Et=S.L;Et&&(ze.I=Et),ze.B&&(hs(ze),qe(ze)),S.g=se}else ys(S);0<w.i.length&&lr(w)}else Le[0]!="stop"&&Le[0]!="close"||jr(w,7);else w.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?jr(w,7):Vt(w):Le[0]!="noop"&&w.l&&w.l.ta(Le),w.v=0)}}Vr(4)}catch{}}var bu=class{constructor(c,y){this.g=c,this.map=y}};function ds(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Nu(c){return c.h?1:c.g?c.g.size:0}function Xt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ha(c,y){c.g?c.g.add(y):c.h=y}function Du(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ds.prototype.cancel=function(){if(this.i=Vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return D(c.i)}function co(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,S=0;S<w;S++)y.push(c[S]);return y}y=[],w=0;for(S in c)y[w++]=c[S];return y}function ho(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const S in c)y[w++]=S;return y}}}function hi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=ho(c),S=co(c),z=S.length,G=0;G<z;G++)y.call(void 0,S[G],w&&w[G],c)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function md(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),z=null;if(0<=S){var G=c[w].substring(0,S);z=c[w].substring(S+1)}else G=c[w];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Lr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lr){this.h=c.h,ps(this,c.j),this.o=c.o,this.g=c.g,di(this,c.s),this.l=c.l;var y=c.i,w=new sr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),fi(this,w),this.m=c.m}else c&&(y=String(c).match(fs))?(this.h=!1,ps(this,y[1]||"",!0),this.o=De(y[2]||""),this.g=De(y[3]||"",!0),di(this,y[4]),this.l=De(y[5]||"",!0),fi(this,y[6]||"",!0),this.m=De(y[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}Lr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(mi(y,fo,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(mi(y,fo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(mi(w,w.charAt(0)=="/"?Ou:Mu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",mi(w,Wa)),c.join("")};function yn(c){return new Lr(c)}function ps(c,y,w){c.j=w?De(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function di(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function fi(c,y,w){y instanceof sr?(c.i=y,or(c.i,c.h)):(w||(y=mi(y,Fu)),c.i=new sr(y,c.h))}function He(c,y,w){c.i.set(y,w)}function pi(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mi(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Lu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fo=/[#\/\?@]/g,Mu=/[#\?:]/g,Ou=/[#\?]/g,Fu=/[#\?@]/g,Wa=/#/g;function sr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&md(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=sr.prototype,n.add=function(c,y){Dt(this),this.i=null,c=An(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function $n(c,y){Dt(c),y=An(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Hn(c,y){return Dt(c),y=An(c,y),c.g.has(y)}n.forEach=function(c,y){Dt(this),this.g.forEach(function(w,S){w.forEach(function(z){c.call(y,z,S,this)},this)},this)},n.na=function(){Dt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let S=0;S<y.length;S++){const z=c[S];for(let G=0;G<z.length;G++)w.push(y[S])}return w},n.V=function(c){Dt(this);let y=[];if(typeof c=="string")Hn(this,c)&&(y=y.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},n.set=function(c,y){return Dt(this),this.i=null,c=An(this,c),Hn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function gi(c,y,w){$n(c,y),0<w.length&&(c.i=null,c.g.set(An(c,y),D(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var S=y[w];const G=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var z=G;se[S]!==""&&(z+="="+encodeURIComponent(String(se[S]))),c.push(z)}}return this.i=c.join("&")};function An(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function or(c,y){y&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(w,S){var z=S.toLowerCase();S!=z&&($n(this,S),gi(this,z,w))},c)),c.j=y}function gd(c,y){const w=new ls;if(h.Image){const S=new Image;S.onload=x(sn,w,"TestLoadImage: loaded",!0,y,S),S.onerror=x(sn,w,"TestLoadImage: error",!1,y,S),S.onabort=x(sn,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(sn,w,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ju(c,y){const w=new ls,S=new AbortController,z=setTimeout(()=>{S.abort(),sn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?sn(w,"TestPingServer: ok",!0,y):sn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),sn(w,"TestPingServer: error",!1,y)})}function sn(c,y,w,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(w)}catch{}}function yd(){this.g=new Ma}function Uu(c,y,w){const S=w||"";try{hi(c,function(z,G){let se=z;p(z)&&(se=Va(z)),y.push(S+G+"="+encodeURIComponent(se))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function Mr(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Mr,os),Mr.prototype.g=function(){return new ms(this.l,this.j)},Mr.prototype.i=function(c){return function(){return c}}({});function ms(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ms,_t),n=ms.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,qn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Wn(this):qn(this),this.readyState==3&&Bu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},n.Qa=function(c){this.g&&(this.response=c,Wn(this))},n.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qn(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Or(c){let y="";return oe(c,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function yi(c,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Or(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):He(c,y,w))}function Xe(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Xe,_t);var vd=/^https?$/i,qa=["POST","PUT"];n=Xe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?no(this.o):no(Bn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){gs(this,G);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)w.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())w.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(qa,y,void 0))||S||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of w)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){gs(this,G)}};function gs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,po(c),vn(c)}function po(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},n.bb=function(){Ka(this)};function Ka(c){if(c.h&&typeof u<"u"&&(!c.v[1]||on(c)!=4||c.Z()!=2)){if(c.u&&on(c)==4)ba(c.Ea,0,c);else if(wt(c,"readystatechange"),on(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=se===0){var z=String(c.D).match(fs)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),S=!vd.test(z?z.toLowerCase():"")}w=S}if(w)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var G=2<on(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",po(c)}}finally{vn(c)}}}}function vn(c,y){if(c.g){mo(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||wt(c,"ready");try{w.onreadystatechange=S}catch{}}}function mo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function on(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),La(y)}};function Ga(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function go(c){const y={};c=(c.g&&2<=on(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if($(c[S]))continue;var w=L(c[S]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=y[z]||[];y[z]=G,G.push(w)}V(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Qa(c){this.Aa=0,this.i=[],this.j=new ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,c),this.cb=ar("retryDelaySeedMs",1e4,c),this.Wa=ar("forwardChannelMaxRetries",2,c),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ds(c&&c.concurrentRequestLimit),this.Da=new yd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qa.prototype,n.la=8,n.G=1,n.connect=function(c,y,w,S){ut(0),this.W=c,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=Wu(this,null,this.W),lr(this)};function Vt(c){if(yo(c),c.G==3){var y=c.U++,w=yn(c.I);if(He(w,"SID",c.K),He(w,"RID",y),He(w,"TYPE","terminate"),Fr(c,w),y=new zn(c,c.j,y),y.L=2,y.v=pi(yn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qe(y)}Hu(c)}function Kn(c){c.g&&(Ya(c),c.g.cancel(),c.g=null)}function yo(c){Kn(c),c.u&&(h.clearTimeout(c.u),c.u=null),wo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function lr(c){if(!gn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Te||ae(),re||(Te(),re=!0),he.add(y,c),c.B=0}}function _d(c,y){return Nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=jn(E(c.Ga,c,y),$u(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new zn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=I(G),k(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=vi(this,z,y),w=yn(this.I),He(w,"RID",c),He(w,"CVER",22),this.D&&He(w,"X-HTTP-Session-Id",this.D),Fr(this,w),G&&(this.O?y="headers="+encodeURIComponent(String(Or(G)))+"&"+y:this.m&&yi(w,this.m,G)),Ha(this.h,z),this.Ua&&He(w,"TYPE","init"),this.P?(He(w,"$req",y),He(w,"SID","null"),z.T=!0,uo(z,w,null)):uo(z,w,y),this.G=2}}else this.G==3&&(c?vo(this,c):this.i.length==0||gn(this.h)||vo(this))};function vo(c,y){var w;y?w=y.l:w=c.U++;const S=yn(c.I);He(S,"SID",c.K),He(S,"RID",w),He(S,"AID",c.T),Fr(c,S),c.m&&c.o&&yi(S,c.m,c.o),w=new zn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=vi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ha(c.h,w),uo(w,S,y)}function Fr(c,y){c.H&&oe(c.H,function(w,S){He(y,S,w)}),c.l&&hi({},function(w,S){He(y,S,w)})}function vi(c,y,w){w=Math.min(c.i.length,w);var S=c.l?E(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const se=["count="+w];G==-1?0<w?(G=z[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let ze=!0;for(let Et=0;Et<w;Et++){let Le=z[Et].g;const Ct=z[Et].map;if(Le-=G,0>Le)G=Math.max(0,z[Et].g-100),ze=!1;else try{Uu(Ct,se,"req"+Le+"_")}catch{S&&S(Ct)}}if(ze){S=se.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,S}function ys(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Te||ae(),re||(Te(),re=!0),he.add(y,c),c.v=0}}function _o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=jn(E(c.Fa,c),$u(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=jn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Kn(this),zu(this))};function Ya(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=yn(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),Fr(c,y),c.m&&c.o&&yi(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=pi(yn(y)),w.m=null,w.P=!0,za(w,c)}n.Za=function(){this.C!=null&&(this.C=null,Kn(this),_o(this),ut(19))};function wo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Eo(c,y){var w=null;if(c.g==y){wo(c),Ya(c),c.g=null;var S=2}else if(Xt(c.h,y))w=y.D,Du(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=as(),wt(S,new so(S,w)),lr(c)}else ys(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&_d(c,y)||S==2&&_o(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),z){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function $u(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function jr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),S=c.Xa;const z=!S;S=new Lr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ps(S,"https"),pi(S),z?gd(S.toString(),w):ju(S.toString(),w)}else ut(2);c.G=0,c.l&&c.l.sa(y),Hu(c),yo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const y=Vu(c.h);(y.length!=0||c.i.length!=0)&&(b(c.ka,y),b(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Wu(c,y,w){var S=w instanceof Lr?yn(w):new Lr(w);if(S.g!="")y&&(S.g=y+"."+S.g),di(S,S.s);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new Lr(null);S&&ps(G,S),y&&(G.g=y),z&&di(G,z),w&&(G.l=w),S=G}return w=c.D,y=c.ya,w&&y&&He(S,w,y),He(S,"VER",c.la),Fr(c,S),S}function qu(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Xe(new Mr({eb:w})):new Xe(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xa(){}n=Xa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function To(){}To.prototype.g=function(c,y){return new Jt(c,y)};function Jt(c,y){_t.call(this),this.g=new Qa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!$(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ur(this)}N(Jt,_t),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Vt(this.g)},Jt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Va(c),c=w);y.i.push(new bu(y.Ya++,c)),y.G==3&&lr(y)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Jt.aa.N.call(this)};function Ku(c){rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(Ku,rr);function Gu(){io.call(this),this.status=1}N(Gu,io);function ur(c){this.g=c}N(ur,Xa),ur.prototype.ua=function(){wt(this.g,"a")},ur.prototype.ta=function(c){wt(this.g,new Ku(c))},ur.prototype.sa=function(c){wt(this.g,new Gu)},ur.prototype.ra=function(){wt(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,zS=function(){return new To},BS=function(){return as()},US=ir,Jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,lh=ao,Pu.COMPLETE="complete",jS=Pu,ro.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Pl=ro,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,FS=Xe}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const Jw="@firebase/firestore",Zw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Zm("@firebase/firestore");function Ho(){return Hs.logLevel}function ue(n,...e){if(Hs.logLevel<=ke.DEBUG){const t=e.map(cg);Hs.debug(`Firestore (${Sa}): ${n}`,...t)}}function ri(n,...e){if(Hs.logLevel<=ke.ERROR){const t=e.map(cg);Hs.error(`Firestore (${Sa}): ${n}`,...t)}}function ua(n,...e){if(Hs.logLevel<=ke.WARN){const t=e.map(cg);Hs.warn(`Firestore (${Sa}): ${n}`,...t)}}function cg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,$S(n,r,t)}function $S(n,e,t){let r=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ri(r),new Error(r)}function Be(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||$S(e,s,r)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class M2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class O2{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new HS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class F2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new F2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new e0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=B2(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function be(n,e){return n<e?-1:n>e?1:0}function Zp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return mp(s)===mp(a)?be(s,a):mp(s)?1:-1}return be(n.length,e.length)}const z2=55296,$2=57343;function mp(n){const e=n.charCodeAt(0);return e>=z2&&e<=$2}function ca(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="__name__";class pr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=pr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return be(e.length,t.length)}static compareSegments(e,t){const r=pr.isNumericId(e),s=pr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?pr.extractNumericId(e).compare(pr.extractNumericId(t)):Zp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $i.fromString(e.substring(4,e.length-2))}}class nt extends pr{construct(e,t,r){return new nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const H2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends pr{construct(e,t,r){return new Ut(e,t,r)}static isValidIdentifier(e){return H2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t0}static keyField(){return new Ut([t0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(nt.fromString(e))}static fromName(e){return new _e(nt.fromString(e).popFirst(5))}static empty(){return new _e(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n,e,t){if(!t)throw new me(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function q2(n,e,t,r){if(e===!0&&r===!0)throw new me(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function n0(n){if(!_e.isDocumentKey(n))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function dg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Ws(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dg(n);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n,e){const t={typeString:n};return e&&(t.value=e),t}function wu(n,e){if(!WS(n))throw new me(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new me(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=-62135596800,i0=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*i0);return new Ye(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<r0)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i0}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:yt("string",Ye._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ye(0,0))}static max(){return new xe(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function K2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(r===1e9?new Ye(t+1,0):new Ye(t,r));return new Ki(s,_e.empty(),e)}function G2(n){return new Ki(n.readTime,n.key,Jl)}class Ki{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ki(xe.min(),_e.empty(),Jl)}static max(){return new Ki(xe.max(),_e.empty(),Jl)}}function Q2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==Y2)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,r)=>{t(e)})}static reject(e){return new Y((t,r)=>{r(e)})}static waitFor(e){return new Y((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next(s=>s?Y.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Y((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{u[p]=g,++h,h===a&&r(u)},g=>s(g))}})}static doWhile(e,t){return new Y((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function J2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=-1;function Jh(n){return n==null}function Ch(n){return n===0&&1/n==-1/0}function Z2(n){return typeof n=="number"&&Number.isInteger(n)&&!Ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="";function eL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=s0(e)),e=tL(n.get(t),e);return s0(e)}function tL(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case qS:t+="";break;default:t+=a}}return t}function s0(n){return n+qS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ts(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ft.RED,this.left=s??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ft(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new a0(this.data.getIterator())}getIteratorFrom(e){return new a0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class a0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new At(Ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new GS("Invalid base64 string: "+a):a}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const nL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=nL.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qi(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="server_timestamp",YS="__type__",XS="__previous_value__",JS="__local_write_time__";function pg(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[YS])==null?void 0:r.stringValue)===QS}function Zh(n){const e=n.mapValue.fields[XS];return pg(e)?Zh(e):e}function Zl(n){const e=Gi(n.mapValue.fields[JS].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t,r,s,a,u,h,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Rh="(default)";class eu{constructor(e,t){this.projectId=e,this.database=t||Rh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="__type__",iL="__max__",Qc={mapValue:{}},eI="__vector__",kh="value";function Yi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pg(n)?4:oL(n)?9007199254740991:sL(n)?10:11:Ee(28295,{value:n})}function Pr(n,e){if(n===e)return!0;const t=Yi(n);if(t!==Yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zl(n).isEqual(Zl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Gi(s.timestampValue),h=Gi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Qi(s.bytesValue).isEqual(Qi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return dt(s.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return dt(s.integerValue)===dt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=dt(s.doubleValue),h=dt(a.doubleValue);return u===h?Ch(u)===Ch(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ca(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(o0(u)!==o0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Pr(u[f],h[f])))return!1;return!0}(n,e);default:return Ee(52216,{left:n})}}function tu(n,e){return(n.values||[]).find(t=>Pr(t,e))!==void 0}function ha(n,e){if(n===e)return 0;const t=Yi(n),r=Yi(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=dt(a.integerValue||a.doubleValue),f=dt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return l0(n.timestampValue,e.timestampValue);case 4:return l0(Zl(n),Zl(e));case 5:return Zp(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Qi(a),f=Qi(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=be(h[p],f[p]);if(g!==0)return g}return be(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=be(dt(a.latitude),dt(u.latitude));return h!==0?h:be(dt(a.longitude),dt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return u0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var E,x,N,D;const h=a.fields||{},f=u.fields||{},p=(E=h[kh])==null?void 0:E.arrayValue,g=(x=f[kh])==null?void 0:x.arrayValue,_=be(((N=p==null?void 0:p.values)==null?void 0:N.length)||0,((D=g==null?void 0:g.values)==null?void 0:D.length)||0);return _!==0?_:u0(p,g)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Qc.mapValue&&u===Qc.mapValue)return 0;if(a===Qc.mapValue)return 1;if(u===Qc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=Zp(f[_],g[_]);if(E!==0)return E;const x=ha(h[f[_]],p[g[_]]);if(x!==0)return x}return be(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function l0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);const t=Gi(n),r=Gi(e),s=be(t.seconds,r.seconds);return s!==0?s:be(t.nanos,r.nanos)}function u0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ha(t[s],r[s]);if(a)return a}return be(t.length,r.length)}function da(n){return em(n)}function em(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Gi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=em(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${em(t.fields[u])}`;return s+"}"}(n.mapValue):Ee(61005,{value:n})}function uh(n){switch(Yi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(n);return e?16+uh(e):16;case 5:return 2*n.stringValue.length;case 6:return Qi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+uh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return ts(r.fields,(a,u)=>{s+=a.length+uh(u)}),s}(n.mapValue);default:throw Ee(13486,{value:n})}}function tm(n){return!!n&&"integerValue"in n}function mg(n){return!!n&&"arrayValue"in n}function c0(n){return!!n&&"nullValue"in n}function h0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ch(n){return!!n&&"mapValue"in n}function sL(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[ZS])==null?void 0:r.stringValue)===eI}function Fl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ts(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fl(n.arrayValue.values[t]);return e}return{...n}}function oL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(t)}setAll(e){let t=Ut.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Fl(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];ch(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ts(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new pn(Fl(this.value))}}function tI(n){const e=[];return ts(n.fields,(t,r)=>{const s=new Ut([t]);if(ch(r)){const a=tI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Gt(e,0,xe.min(),xe.min(),xe.min(),pn.empty(),0)}static newFoundDocument(e,t,r,s){return new Gt(e,1,t,xe.min(),r,s,0)}static newNoDocument(e,t){return new Gt(e,2,t,xe.min(),xe.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,xe.min(),xe.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.position=e,this.inclusive=t}}function d0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=ha(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function f0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function aL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{}class It extends nI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uL(e,t,r):t==="array-contains"?new dL(e,r):t==="in"?new fL(e,r):t==="not-in"?new pL(e,r):t==="array-contains-any"?new mL(e,r):new It(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new cL(e,r):new hL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ha(t,this.value)):t!==null&&Yi(this.value)===Yi(t)&&this.matchesComparison(ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends nI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Cr(e,t)}matches(e){return rI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rI(n){return n.op==="and"}function iI(n){return lL(n)&&rI(n)}function lL(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function nm(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+da(n.value);if(iI(n))return n.filters.map(e=>nm(e)).join(",");{const e=n.filters.map(t=>nm(t)).join(",");return`${n.op}(${e})`}}function sI(n,e){return n instanceof It?function(r,s){return s instanceof It&&r.op===s.op&&r.field.isEqual(s.field)&&Pr(r.value,s.value)}(n,e):n instanceof Cr?function(r,s){return s instanceof Cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&sI(u,s.filters[h]),!0):!1}(n,e):void Ee(19439)}function oI(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${da(t.value)}`}(n):n instanceof Cr?function(t){return t.op.toString()+" {"+t.getFilters().map(oI).join(" ,")+"}"}(n):"Filter"}class uL extends It{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class cL extends It{constructor(e,t){super(e,"in",t),this.keys=aI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hL extends It{constructor(e,t){super(e,"not-in",t),this.keys=aI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aI(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class dL extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mg(t)&&tu(t.arrayValue,this.value)}}class fL extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&tu(this.value.arrayValue,t)}}class pL extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!tu(this.value.arrayValue,t)}}class mL extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function p0(n,e=null,t=[],r=[],s=null,a=null,u=null){return new gL(n,e,t,r,s,a,u)}function gg(n){const e=Ae(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>da(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>da(r)).join(",")),e.Te=t}return e.Te}function yg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!f0(n.startAt,e.startAt)&&f0(n.endAt,e.endAt)}function rm(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yL(n,e,t,r,s,a,u,h){return new ed(n,e,t,r,s,a,u,h)}function vg(n){return new ed(n)}function m0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vL(n){return n.collectionGroup!==null}function jl(n){const e=Ae(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new At(Ut.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Nh(a,r))}),t.has(Ut.keyField().canonicalString())||e.Ie.push(new Nh(Ut.keyField(),r))}return e.Ie}function Er(n){const e=Ae(n);return e.Ee||(e.Ee=_L(e,jl(n))),e.Ee}function _L(n,e){if(n.limitType==="F")return p0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Nh(s.field,a)});const t=n.endAt?new bh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bh(n.startAt.position,n.startAt.inclusive):null;return p0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function im(n,e,t){return new ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function td(n,e){return yg(Er(n),Er(e))&&n.limitType===e.limitType}function lI(n){return`${gg(Er(n))}|lt:${n.limitType}`}function Wo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>oI(s)).join(", ")}]`),Jh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>da(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>da(s)).join(",")),`Target(${r})`}(Er(n))}; limitType=${n.limitType})`}function nd(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of jl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=d0(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,jl(r),s)||r.endAt&&!function(u,h,f){const p=d0(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,jl(r),s))}(n,e)}function wL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uI(n){return(e,t)=>{let r=!1;for(const s of jl(n)){const a=EL(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function EL(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?ha(f,p):Ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return KS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new st(_e.comparator);function ii(){return TL}const cI=new st(_e.comparator);function Cl(...n){let e=cI;for(const t of n)e=e.insert(t.key,t);return e}function hI(n){let e=cI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ms(){return Ul()}function dI(){return Ul()}function Ul(){return new Qs(n=>n.toString(),(n,e)=>n.isEqual(e))}const SL=new st(_e.comparator),IL=new At(_e.comparator);function Ne(...n){let e=IL;for(const t of n)e=e.add(t);return e}const xL=new At(be);function AL(){return xL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function fI(n){return{integerValue:""+n}}function PL(n,e){return Z2(e)?fI(e):_g(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function CL(n,e,t){return n instanceof Dh?function(s,a){const u={fields:{[YS]:{stringValue:QS},[JS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&pg(a)&&(a=Zh(a)),a&&(u.fields[XS]=a),{mapValue:u}}(t,e):n instanceof nu?mI(n,e):n instanceof ru?gI(n,e):function(s,a){const u=pI(s,a),h=g0(u)+g0(s.Ae);return tm(u)&&tm(s.Ae)?fI(h):_g(s.serializer,h)}(n,e)}function RL(n,e,t){return n instanceof nu?mI(n,e):n instanceof ru?gI(n,e):t}function pI(n,e){return n instanceof Vh?function(r){return tm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Dh extends rd{}class nu extends rd{constructor(e){super(),this.elements=e}}function mI(n,e){const t=yI(e);for(const r of n.elements)t.some(s=>Pr(s,r))||t.push(r);return{arrayValue:{values:t}}}class ru extends rd{constructor(e){super(),this.elements=e}}function gI(n,e){let t=yI(e);for(const r of n.elements)t=t.filter(s=>!Pr(s,r));return{arrayValue:{values:t}}}class Vh extends rd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function g0(n){return dt(n.integerValue||n.doubleValue)}function yI(n){return mg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kL(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof nu&&s instanceof nu||r instanceof ru&&s instanceof ru?ca(r.elements,s.elements,Pr):r instanceof Vh&&s instanceof Vh?Pr(r.Ae,s.Ae):r instanceof Dh&&s instanceof Dh}(n.transform,e.transform)}class bL{constructor(e,t){this.version=e,this.transformResults=t}}class Tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class id{}function vI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wI(n.key,Tr.none()):new Eu(n.key,n.data,Tr.none());{const t=n.data,r=pn.empty();let s=new At(Ut.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new ns(n.key,r,new Sn(s.toArray()),Tr.none())}}function NL(n,e,t){n instanceof Eu?function(s,a,u){const h=s.value.clone(),f=v0(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ns?function(s,a,u){if(!hh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=v0(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(_I(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Bl(n,e,t,r){return n instanceof Eu?function(a,u,h,f){if(!hh(a.precondition,u))return h;const p=a.value.clone(),g=_0(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof ns?function(a,u,h,f){if(!hh(a.precondition,u))return h;const p=_0(a.fieldTransforms,f,u),g=u.data;return g.setAll(_I(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,u,h){return hh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function DL(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=pI(r.transform,s||null);a!=null&&(t===null&&(t=pn.empty()),t.set(r.field,a))}return t||null}function y0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ca(r,s,(a,u)=>kL(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Eu extends id{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ns extends id{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _I(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function v0(n,e,t){const r=new Map;Be(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,RL(u,h,t[s]))}return r}function _0(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,CL(a,u,e))}return r}class wI extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VL extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&NL(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dI();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=vI(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(t,r)=>y0(t,r))&&ca(this.baseMutations,e.baseMutations,(t,r)=>y0(t,r))}}class wg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return SL}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new wg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Me;function FL(n){switch(n){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function EI(n){if(n===void 0)return ri("GRPC error has no .code"),Z.UNKNOWN;switch(n){case mt.OK:return Z.OK;case mt.CANCELLED:return Z.CANCELLED;case mt.UNKNOWN:return Z.UNKNOWN;case mt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case mt.INTERNAL:return Z.INTERNAL;case mt.UNAVAILABLE:return Z.UNAVAILABLE;case mt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case mt.NOT_FOUND:return Z.NOT_FOUND;case mt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case mt.ABORTED:return Z.ABORTED;case mt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case mt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:n})}}(Me=mt||(mt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new $i([4294967295,4294967295],0);function w0(n){const e=jL().encode(n),t=new OS;return t.update(e),new Uint8Array(t.digest())}function E0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $i([t,r],0),new $i([s,a],0)]}class Eg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rl(`Invalid padding: ${t}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=$i.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply($i.fromNumber(r)));return s.compare(UL)===1&&(s=new $i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=w0(e),[r,s]=E0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Eg(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.ge===0)return;const t=w0(e),[r,s]=E0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sd(xe.min(),s,new st(be),ii(),Ne())}}class Tu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Tu(r,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class TI{constructor(e,t){this.targetId=e,this.Ce=t}}class SI{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class T0{constructor(){this.ve=0,this.Fe=S0(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),r=Ne();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ee(38017,{changeType:a})}}),new Tu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=S0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BL{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.Je=Yc(),this.He=Yc(),this.Ye=new st(be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(rm(a))if(r===0){const u=new _e(a.path);this.et(t,u,Gt.newNoDocument(u,xe.min()))}else Be(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=Qi(r).toUint8Array()}catch(f){if(f instanceof GS)return ua("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Eg(u,s,a)}catch(f){return ua(f instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((a,u)=>{const h=this.ot(u);if(h){if(a.current&&rm(h.target)){const f=new _e(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Gt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}});let r=Ne();this.He.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const s=new sd(e,t,this.Ye,this.je,r);return this.je=ii(),this.Je=Yc(),this.He=Yc(),this.Ye=new st(be),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new T0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new At(be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new At(be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T0),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yc(){return new st(_e.comparator)}function S0(){return new st(_e.comparator)}const zL={asc:"ASCENDING",desc:"DESCENDING"},$L={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HL={and:"AND",or:"OR"};class WL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sm(n,e){return n.useProto3Json||Jh(e)?e:{value:e}}function Lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function II(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qL(n,e){return Lh(n,e.toTimestamp())}function Sr(n){return Be(!!n,49232),xe.fromTimestamp(function(t){const r=Gi(t);return new Ye(r.seconds,r.nanos)}(n))}function Tg(n,e){return om(n,e).canonicalString()}function om(n,e){const t=function(s){return new nt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xI(n){const e=nt.fromString(n);return Be(kI(e),10190,{key:e.toString()}),e}function am(n,e){return Tg(n.databaseId,e.path)}function gp(n,e){const t=xI(e);if(t.get(1)!==n.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(PI(t))}function AI(n,e){return Tg(n.databaseId,e)}function KL(n){const e=xI(n);return e.length===4?nt.emptyPath():PI(e)}function lm(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PI(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function I0(n,e,t){return{name:am(n,e),fields:t.value.mapValue.fields}}function GL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Be(g===void 0||typeof g=="string",58123),Bt.fromBase64String(g||"")):(Be(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Bt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const g=p.code===void 0?Z.UNKNOWN:EI(p.code);return new me(g,p.message||"")}(u);t=new SI(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gp(n,r.document.name),a=Sr(r.document.updateTime),u=r.document.createTime?Sr(r.document.createTime):xe.min(),h=new pn({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(s,a,u,h),p=r.targetIds||[],g=r.removedTargetIds||[];t=new dh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gp(n,r.document),a=r.readTime?Sr(r.readTime):xe.min(),u=Gt.newNoDocument(s,a),h=r.removedTargetIds||[];t=new dh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gp(n,r.document),a=r.removedTargetIds||[];t=new dh([],a,s,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new OL(s,a),h=r.targetId;t=new TI(h,u)}}return t}function QL(n,e){let t;if(e instanceof Eu)t={update:I0(n,e.key,e.value)};else if(e instanceof wI)t={delete:am(n,e.key)};else if(e instanceof ns)t={update:I0(n,e.key,e.data),updateMask:iM(e.fieldMask)};else{if(!(e instanceof VL))return Ee(16599,{Vt:e.type});t={verify:am(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof Dh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ee(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:qL(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee(27497)}(n,e.precondition)),t}function YL(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?Sr(s.updateTime):Sr(a);return u.isEqual(xe.min())&&(u=Sr(a)),new bL(u,s.transformResults||[])}(t,e))):[]}function XL(n,e){return{documents:[AI(n,e.path)]}}function JL(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AI(n,s);const a=function(p){if(p.length!==0)return RI(Cr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:qo(E.field),direction:tM(E.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=sm(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:s}}function ZL(n){let e=KL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Be(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const E=CI(_);return E instanceof Cr&&iI(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(E=>function(N){return new Nh(Ko(N.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Jh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,x=_.values||[];return new bh(x,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,x=_.values||[];return new bh(x,E)}(t.endAt)),yL(e,s,u,a,h,"F",f,p)}function eM(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ko(t.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ko(t.unaryFilter.field);return It.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ko(t.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ko(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return It.create(Ko(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cr.create(t.compositeFilter.filters.map(r=>CI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(n):Ee(30097,{filter:n})}function tM(n){return zL[n]}function nM(n){return $L[n]}function rM(n){return HL[n]}function qo(n){return{fieldPath:n.canonicalString()}}function Ko(n){return Ut.fromServerFormat(n.fieldPath)}function RI(n){return n instanceof It?function(t){if(t.op==="=="){if(h0(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NAN"}};if(c0(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h0(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NAN"}};if(c0(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(t.field),op:nM(t.op),value:t.value}}}(n):n instanceof Cr?function(t){const r=t.getFilters().map(s=>RI(s));return r.length===1?r[0]:{compositeFilter:{op:rM(t.op),filters:r}}}(n):Ee(54877,{filter:n})}function iM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,r,s,a=xe.min(),u=xe.min(),h=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.yt=e}}function oM(n){const e=ZL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.Cn=new lM}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Ki.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class lM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new At(nt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bI=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(bI,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fa(0)}static cr(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LruGarbageCollector",uM=1048576;function P0([n,e],[t,r]){const s=be(n,t);return s===0?be(e,r):s}class cM{constructor(e){this.Ir=e,this.buffer=new At(P0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();P0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(A0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xa(t)?ue(A0,"Ignoring IndexedDB error during garbage collection: ",t):await Ia(t)}await this.Vr(3e5)})}}class dM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Xh.ce);const r=new cM(t);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(x0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x0):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,u,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Ho()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function fM(n,e){return new dM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.changes=new Qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Bl(r.mutation,s,Sn.empty(),Ye.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){const s=Ms();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Cl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=ii();const u=Ul(),h=function(){return Ul()}();return t.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof ns)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Bl(g.mutation,p,g.mutation.getFieldMask(),Ye.now())):u.set(p.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),t.forEach((p,g)=>h.set(p,new mM(g,u.get(p)??null))),h))}recalculateAndSaveOverlays(e,t){const r=Ul();let s=new st((u,h)=>u-h),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Sn.empty();g=h.applyToLocalView(p,g),r.set(f,g);const _=(s.get(h.batchId)||Ne()).add(f);s=s.insert(h.batchId,_)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,_=dI();g.forEach(E=>{if(!a.has(E)){const x=vI(t.get(E),r.get(E));x!==null&&_.set(E,x),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Y.resolve(Ms());let h=Jl,f=a;return u.next(p=>Y.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ne())).next(g=>({batchId:h,changes:hI(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let s=Cl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Cl();return this.indexManager.getCollectionParents(e,a).next(h=>Y.forEach(h,f=>{const p=function(_,E){return new ed(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Gt.newInvalidDocument(g)))});let h=Cl();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Bl(g.mutation,p,Sn.empty(),Ye.now()),nd(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Sr(s.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(s){return{name:s.name,query:oM(s.bundledQuery),readTime:Sr(s.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.overlays=new st(_e.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ms();return Y.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),Y.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const s=Ms(),a=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new st((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Ms(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Ms(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return Y.resolve(h)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new ML(t,r));let a=this.qr.get(t);a===void 0&&(a=Ne(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.Qr=new At(Nt.$r),this.Ur=new At(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Nt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Nt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new _e(new nt([])),r=new Nt(t,e),s=new Nt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new nt([])),r=new Nt(t,e),s=new Nt(t,e+1);let a=Ne();return this.Ur.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Nt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||be(e.Yr,t.Yr)}static Kr(e,t){return be(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new At(Nt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new LL(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new Nt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?fg:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Nt(t,0),s=new Nt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],u=>{const h=this.Xr(u.Yr);a.push(h)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new At(be);return t.forEach(s=>{const a=new Nt(s,0),u=new Nt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],h=>{r=r.add(h.Yr)})}),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const u=new Nt(new _e(a),0);let h=new At(be);return this.Zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Yr)),!0)},u),Y.resolve(this.ti(h))}ti(e){const t=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(t.mutations,s=>{const a=new Nt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Nt(t,0),s=this.Zr.firstAfterOrEqual(r);return Y.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.ri=e,this.docs=function(){return new st(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=ii();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Gt.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ii();const u=t.path,h=new _e(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Q2(G2(g),r)<=0||(s.has(g.key)||nd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ee(9500)}ii(e,t){return Y.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TM(this)}getSize(e){return Y.resolve(this.size)}}class TM extends pM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.persistence=e,this.si=new Qs(t=>gg(t),yg),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Sg,this.targetCount=0,this.ai=fa.ur()}forEachTarget(e,t){return this.si.forEach((r,s)=>t(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new fa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Y.waitFor(a).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new _M,this.referenceDelegate=e(this),this.Pi=new SM(this),this.indexManager=new aM,this.remoteDocumentCache=function(s){return new EM(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new sM(t),this.Ii=new yM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new wM(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const s=new IM(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,t){return Y.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class IM extends X2{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Ri=new Sg,this.Vi=null}static mi(e){return new Ig(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,r=>{const s=_e.fromPath(r);return this.gi(e,s).next(a=>{a||t.removeEntry(s,xe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Mh{constructor(e,t){this.persistence=e,this.pi=new Qs(r=>eL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=fM(this,t)}static mi(e,t){return new Mh(e,t)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return Y.forEach(this.pi,(r,s)=>this.br(e,r,s).next(a=>a?Y.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,u=>this.br(e,u,t).next(h=>{h||(r++,a.removeEntry(u,xe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uh(e.data.value)),t}br(e,t,r){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Y.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Ne(),s=Ne();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new xg(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return eN()?8:J2(Yt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new xM;return this.Ss(e,t,u).next(h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)})}).next(()=>a.result)}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ho()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Ho()<=ke.DEBUG&&ue("QueryEngine","Query:",Wo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ho()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(t))):Y.resolve())}ys(e,t){if(m0(t))return Y.resolve(null);let r=Er(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=im(t,null,"F"),r=Er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ne(...a);return this.ps.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.Ds(t,h);return this.Cs(t,p,u,f.readTime)?this.ys(e,im(t,null,"F")):this.vs(e,p,t,f)}))})))}ws(e,t,r,s){return m0(t)||s.isEqual(xe.min())?Y.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,s)?Y.resolve(null):(Ho()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wo(t)),this.vs(e,u,t,K2(s,Jl)).next(h=>h))})}Ds(e,t){let r=new At(uI(e));return t.forEach((s,a)=>{nd(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return Ho()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Wo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ki.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",PM=3e8;class CM{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new st(be),this.xs=new Qs(a=>gg(a),yg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function RM(n,e,t,r){return new CM(n,e,t,r)}async function DI(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Ne();for(const p of s){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ls:p,removedBatchIds:u,addedBatchIds:h}))})})}function kM(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(h,f,p,g){const _=p.batch,E=_.keys();let x=Y.resolve();return E.forEach(N=>{x=x.next(()=>g.getEntry(f,N)).next(D=>{const b=p.docVersions.get(N);Be(b!==null,48541),D.version.compareTo(b)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),g.addEntry(D)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ne();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function VI(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function bM(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const h=[];e.targetChanges.forEach((g,_)=>{const E=s.get(_);if(!E)return;h.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Pi.addMatchingKeys(a,g.addedDocuments,_)));let x=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(Bt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),s=s.insert(_,x),function(D,b,F){return D.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=PM?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(E,x,g)&&h.push(t.Pi.updateTargetData(a,x))});let f=ii(),p=Ne();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(NM(a,u,e.documentUpdates).next(g=>{f=g.ks,p=g.qs})),!r.isEqual(xe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next(_=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return Y.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ms=s,a))}function NM(n,e,t){let r=Ne(),s=Ne();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ii();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue(Ag,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{ks:u,qs:s}})}function DM(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VM(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Pi.getTargetData(r,e).next(a=>a?(s=a,Y.resolve(s)):t.Pi.allocateTargetId(r).next(u=>(s=new ji(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function um(n,e,t){const r=Ae(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!xa(u))throw u;ue(Ag,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function C0(n,e,t){const r=Ae(n);let s=xe.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const _=Ae(f),E=_.xs.get(g);return E!==void 0?Y.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,g)}(r,u,Er(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:xe.min(),t?a:Ne())).next(h=>(LM(r,wL(e),h),{documents:h,Qs:a})))}function LM(n,e,t){let r=n.Os.get(e)||xe.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class R0{constructor(){this.activeTargetIds=AL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MM{constructor(){this.Mo=new R0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class b0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(k0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function cm(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="RestConnection",FM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const u=cm(),h=this.zo(e,t.toUriEncodedString());ue(yp,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(h),g=wa(p);return this.Jo(e,h,f,r,g).then(_=>(ue(yp,`Received RPC '${e}' ${u}: `,_),_),_=>{throw ua(yp,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Ho(e,t,r,s,a,u){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}zo(e,t){const r=FM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class BM extends jM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const u=cm();return new Promise((h,f)=>{const p=new FS;p.setWithCredentials(!0),p.listenOnce(jS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const _=p.getResponseJson();ue(qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case lh.TIMEOUT:ue(qt,`RPC '${e}' ${u} timed out`),f(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const E=p.getStatus();if(ue(qt,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const N=x==null?void 0:x.error;if(N&&N.status&&N.message){const D=function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf($)>=0?$:Z.UNKNOWN}(N.status);f(new me(D,N.message))}else f(new me(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(qt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(s);ue(qt,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",g,r,15)})}T_(e,t,r){const s=cm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=zS(),h=BS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ue(qt,`Creating RPC '${e}' stream ${s}: ${g}`,f);const _=u.createWebChannel(g,f);this.I_(_);let E=!1,x=!1;const N=new UM({Yo:b=>{x?ue(qt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(E||(ue(qt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),ue(qt,`RPC '${e}' stream ${s} sending:`,b),_.send(b))},Zo:()=>_.close()}),D=(b,F,$)=>{b.listen(F,W=>{try{$(W)}catch(Q){setTimeout(()=>{throw Q},0)}})};return D(_,Pl.EventType.OPEN,()=>{x||(ue(qt,`RPC '${e}' stream ${s} transport opened.`),N.o_())}),D(_,Pl.EventType.CLOSE,()=>{x||(x=!0,ue(qt,`RPC '${e}' stream ${s} transport closed`),N.a_(),this.E_(_))}),D(_,Pl.EventType.ERROR,b=>{x||(x=!0,ua(qt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),N.a_(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),D(_,Pl.EventType.MESSAGE,b=>{var F;if(!x){const $=b.data[0];Be(!!$,16349);const W=$,Q=(W==null?void 0:W.error)||((F=W[0])==null?void 0:F.error);if(Q){ue(qt,`RPC '${e}' stream ${s} received error:`,Q);const ee=Q.status;let oe=function(P){const k=mt[P];if(k!==void 0)return EI(k)}(ee),V=Q.message;oe===void 0&&(oe=Z.INTERNAL,V="Unknown error status: "+ee+" with message "+Q.message),x=!0,N.a_(new me(oe,V)),_.close()}else ue(qt,`RPC '${e}' stream ${s} received:`,$),N.u_($)}}),D(h,US.STAT_EVENT,b=>{b.stat===Jp.PROXY?ue(qt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Jp.NOPROXY&&ue(qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){return new WL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="PersistentStream";class MI{constructor(e,t,r,s,a,u,h,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===t&&this.G_(r,s)},r=>{e(()=>{const s=new me(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(N0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ue(N0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zM extends MI{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=GL(this.serializer,e),r=function(a){if(!("targetChange"in a))return xe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?Sr(u.readTime):xe.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=lm(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=rm(f)?{documents:XL(a,f)}:{query:JL(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=II(a,u.resumeToken);const p=sm(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(xe.min())>0){h.readTime=Lh(a,u.snapshotVersion.toTimestamp());const p=sm(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=eM(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=lm(this.serializer),t.removeTarget=e,this.q_(t)}}class $M extends MI{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=YL(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=lm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>QL(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{}class WM extends HM{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,om(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(Z.UNKNOWN,a.toString())})}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Ho(e,om(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Z.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class KM{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{Ys(this)&&(ue(qs,"Restarting streams for network reachability change."),await async function(f){const p=Ae(f);p.Ea.add(4),await Su(p),p.Ra.set("Unknown"),p.Ea.delete(4),await ad(p)}(this))})}),this.Ra=new qM(r,s)}}async function ad(n){if(Ys(n))for(const e of n.da)await e(!0)}async function Su(n){for(const e of n.da)await e(!1)}function OI(n,e){const t=Ae(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),kg(t)?Rg(t):Aa(t).O_()&&Cg(t,e))}function Pg(n,e){const t=Ae(n),r=Aa(t);t.Ia.delete(e),r.O_()&&FI(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ys(t)&&t.Ra.set("Unknown"))}function Cg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Aa(n).Y_(e)}function FI(n,e){n.Va.Ue(e),Aa(n).Z_(e)}function Rg(n){n.Va=new BL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Aa(n).start(),n.Ra.ua()}function kg(n){return Ys(n)&&!Aa(n).x_()&&n.Ia.size>0}function Ys(n){return Ae(n).Ea.size===0}function jI(n){n.Va=void 0}async function GM(n){n.Ra.set("Online")}async function QM(n){n.Ia.forEach((e,t)=>{Cg(n,e)})}async function YM(n,e){jI(n),kg(n)?(n.Ra.ha(e),Rg(n)):n.Ra.set("Unknown")}async function XM(n,e,t){if(n.Ra.set("Online"),e instanceof SI&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))}(n,e)}catch(r){ue(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(n,r)}else if(e instanceof dh?n.Va.Ze(e):e instanceof TI?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const r=await VI(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Bt.EMPTY_BYTE_STRING,g.snapshotVersion)),FI(a,f);const _=new ji(g.target,f,p,g.sequenceNumber);Cg(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ue(qs,"Failed to raise snapshot:",r),await Oh(n,r)}}async function Oh(n,e,t){if(!xa(e))throw e;n.Ea.add(1),await Su(n),n.Ra.set("Offline"),t||(t=()=>VI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(qs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ad(n)})}function UI(n,e){return e().catch(t=>Oh(n,t,e))}async function ld(n){const e=Ae(n),t=Xi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fg;for(;JM(e);)try{const s=await DM(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,ZM(e,s)}catch(s){await Oh(e,s)}BI(e)&&zI(e)}function JM(n){return Ys(n)&&n.Ta.length<10}function ZM(n,e){n.Ta.push(e);const t=Xi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function BI(n){return Ys(n)&&!Xi(n).x_()&&n.Ta.length>0}function zI(n){Xi(n).start()}async function eO(n){Xi(n).ra()}async function tO(n){const e=Xi(n);for(const t of n.Ta)e.ea(t.mutations)}async function nO(n,e,t){const r=n.Ta.shift(),s=wg.from(r,e,t);await UI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ld(n)}async function rO(n,e){e&&Xi(n).X_&&await async function(r,s){if(function(u){return FL(u)&&u!==Z.ABORTED}(s.code)){const a=r.Ta.shift();Xi(r).B_(),await UI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await ld(r)}}(n,e),BI(n)&&zI(n)}async function D0(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ue(qs,"RemoteStore received new credentials");const r=Ys(t);t.Ea.add(3),await Su(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ad(t)}async function iO(n,e){const t=Ae(n);e?(t.Ea.delete(2),await ad(t)):e||(t.Ea.add(2),await Su(t),t.Ra.set("Unknown"))}function Aa(n){return n.ma||(n.ma=function(t,r,s){const a=Ae(t);return a.sa(),new zM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:GM.bind(null,n),t_:QM.bind(null,n),r_:YM.bind(null,n),H_:XM.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),kg(n)?Rg(n):n.Ra.set("Unknown")):(await n.ma.stop(),jI(n))})),n.ma}function Xi(n){return n.fa||(n.fa=function(t,r,s){const a=Ae(t);return a.sa(),new $M(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:eO.bind(null,n),r_:rO.bind(null,n),ta:tO.bind(null,n),na:nO.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await ld(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(qs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new bg(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(n,e){if(ri("AsyncQueue",`${e}: ${n}`),xa(n))return new me(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{static emptySet(e){return new ia(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Cl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.ga=new st(_e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class pa{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new pa(e,t,ia.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class oO{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ae(t),a=s.queries;s.queries=L0(),a.forEach((u,h)=>{for(const f of h.Sa)f.onError(r)})})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function L0(){return new Qs(n=>lI(n),td)}async function aO(n,e){const t=Ae(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new sO,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Ng(u,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Dg(t)}async function lO(n,e){const t=Ae(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function uO(n,e){const t=Ae(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(s)&&(r=!0);u.wa=s}}r&&Dg(t)}function cO(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function Dg(n){n.Ca.forEach(e=>{e.next()})}var hm,M0;(M0=hm||(hm={})).Ma="default",M0.Cache="cache";class hO{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.key=e}}class HI{constructor(e){this.key=e}}class dO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=uI(e),this.tu=new ia(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new V0,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const E=s.get(g),x=nd(this.query,_)?_:null,N=!!E&&this.mutatedKeys.has(E.key),D=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;E&&x?E.data.isEqual(x.data)?N!==D&&(r.track({type:3,doc:x}),b=!0):this.su(E,x)||(r.track({type:2,doc:x}),b=!0,(f&&this.eu(x,f)>0||p&&this.eu(x,p)<0)&&(h=!0)):!E&&x?(r.track({type:0,doc:x}),b=!0):E&&!x&&(r.track({type:1,doc:E}),b=!0,(f||p)&&(h=!0)),b&&(x?(u=u.add(x),a=D?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((g,_)=>function(x,N){const D=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:b})}};return D(x)-D(N)}(g.type,_.type)||this.eu(g.doc,_.doc)),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new pa(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new HI(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new $I(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vg="SyncEngine";class fO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pO{constructor(e){this.key=e,this.hu=!1}}class mO{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Qs(h=>lI(h),td),this.Iu=new Map,this.Eu=new Set,this.du=new st(_e.comparator),this.Au=new Map,this.Ru=new Sg,this.Vu={},this.mu=new Map,this.fu=fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gO(n,e,t=!0){const r=YI(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await WI(r,e,t,!0),s}async function yO(n,e){const t=YI(n);await WI(t,e,!0,!1)}async function WI(n,e,t,r){const s=await VM(n.localStore,Er(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await vO(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&OI(n.remoteStore,s),h}async function vO(n,e,t,r,s){n.pu=(_,E,x)=>async function(D,b,F,$){let W=b.view.ru(F);W.Cs&&(W=await C0(D.localStore,b.query,!1).then(({documents:V})=>b.view.ru(V,W)));const Q=$&&$.targetChanges.get(b.targetId),ee=$&&$.targetMismatches.get(b.targetId)!=null,oe=b.view.applyChanges(W,D.isPrimaryClient,Q,ee);return F0(D,b.targetId,oe.au),oe.snapshot}(n,_,E,x);const a=await C0(n.localStore,e,!0),u=new dO(e,a.Qs),h=u.ru(a.documents),f=Tu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);F0(n,t,p.au);const g=new fO(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function _O(n,e,t){const r=Ae(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(u=>!td(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await um(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Pg(r.remoteStore,s.targetId),dm(r,s.targetId)}).catch(Ia)):(dm(r,s.targetId),await um(r.localStore,s.targetId,!0))}async function wO(n,e){const t=Ae(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Pg(t.remoteStore,r.targetId))}async function EO(n,e,t){const r=CO(n);try{const s=await function(u,h){const f=Ae(u),p=Ye.now(),g=h.reduce((x,N)=>x.add(N.key),Ne());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let N=ii(),D=Ne();return f.Ns.getEntries(x,g).next(b=>{N=b,N.forEach((F,$)=>{$.isValidDocument()||(D=D.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,N)).next(b=>{_=b;const F=[];for(const $ of h){const W=DL($,_.get($.key).overlayedDocument);W!=null&&F.push(new ns($.key,W,tI(W.value.mapValue),Tr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,F,h)}).next(b=>{E=b;const F=b.applyToLocalDocumentSet(_,D);return f.documentOverlayCache.saveOverlays(x,b.batchId,F)})}).then(()=>({batchId:E.batchId,changes:hI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new st(be)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p}(r,s.batchId,t),await Iu(r,s.changes),await ld(r.remoteStore)}catch(s){const a=Ng(s,"Failed to persist write");t.reject(a)}}async function qI(n,e){const t=Ae(n);try{const r=await bM(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Au.get(a);u&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Be(u.hu,14607):s.removedDocuments.size>0&&(Be(u.hu,42227),u.hu=!1))}),await Iu(t,r,e)}catch(r){await Ia(r)}}function O0(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach((a,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Ae(u);f.onlineState=h;let p=!1;f.queries.forEach((g,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)}),p&&Dg(f)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TO(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new st(_e.comparator);u=u.insert(a,Gt.newNoDocument(a,xe.min()));const h=Ne().add(a),f=new sd(xe.min(),new Map,new st(be),u,h);await qI(r,f),r.du=r.du.remove(a),r.Au.delete(e),Lg(r)}else await um(r.localStore,e,!1).then(()=>dm(r,e,t)).catch(Ia)}async function SO(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await kM(t.localStore,e);GI(t,r,null),KI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(t,s)}catch(s){await Ia(s)}}async function IO(n,e,t){const r=Ae(n);try{const s=await function(u,h){const f=Ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(Be(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);GI(r,e,t),KI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Iu(r,s)}catch(s){await Ia(s)}}function KI(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function GI(n,e,t){const r=Ae(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function dm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||QI(n,r)})}function QI(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Pg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Lg(n))}function F0(n,e,t){for(const r of t)r instanceof $I?(n.Ru.addReference(r.key,e),xO(n,r)):r instanceof HI?(ue(Vg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||QI(n,r.key)):Ee(19791,{wu:r})}function xO(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ue(Vg,"New document in limbo: "+t),n.Eu.add(r),Lg(n))}function Lg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(nt.fromString(e)),r=n.fu.next();n.Au.set(r,new pO(t)),n.du=n.du.insert(t,r),OI(n.remoteStore,new ji(Er(vg(t.path)),r,"TargetPurposeLimboResolution",Xh.ce))}}async function Iu(n,e,t){const r=Ae(n),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((h,f)=>{u.push(r.pu(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=xg.As(f.targetId,p);a.push(_)}}))}),await Promise.all(u),r.Pu.H_(s),await async function(f,p){const g=Ae(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Y.forEach(p,E=>Y.forEach(E.Es,x=>g.persistence.referenceDelegate.addReference(_,E.targetId,x)).next(()=>Y.forEach(E.ds,x=>g.persistence.referenceDelegate.removeReference(_,E.targetId,x)))))}catch(_){if(!xa(_))throw _;ue(Ag,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const x=g.Ms.get(E),N=x.snapshotVersion,D=x.withLastLimboFreeSnapshotVersion(N);g.Ms=g.Ms.insert(E,D)}}}(r.localStore,a))}async function AO(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ue(Vg,"User change. New user:",e.toKey());const r=await DI(t.localStore,e);t.currentUser=e,function(a,u){a.mu.forEach(h=>{h.forEach(f=>{f.reject(new me(Z.CANCELLED,u))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(t,r.Ls)}}function PO(n,e){const t=Ae(n),r=t.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let s=Ne();const a=t.Iu.get(e);if(!a)return s;for(const u of a){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function YI(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TO.bind(null,e),e.Pu.H_=uO.bind(null,e.eventManager),e.Pu.yu=cO.bind(null,e.eventManager),e}function CO(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IO.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return RM(this.persistence,new AM,e.initialUser,this.serializer)}Cu(e){return new NI(Ig.mi,this.serializer)}Du(e){return new MM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class RO extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hM(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new NI(r=>Mh.mi(r,t),this.serializer)}}class fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AO.bind(null,this.syncEngine),await iO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oO}()}createDatastore(e){const t=od(e.databaseInfo.databaseId),r=function(a){return new BM(a)}(e.databaseInfo);return function(a,u,h,f){return new WM(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new KM(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>O0(this.syncEngine,t,0),function(){return b0.v()?new b0:new OM}())}createSyncEngine(e,t){return function(s,a,u,h,f,p,g){const _=new mO(s,a,u,h,f,p);return g&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ae(s);ue(qs,"RemoteStore shutting down."),a.Ea.add(5),await Su(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="FirestoreClient";class bO{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ue(Ji,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ue(Ji,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ng(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _p(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Ji,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await DI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function j0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await NO(n);ue(Ji,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>D0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>D0(e.remoteStore,s)),n._onlineComponents=e}async function NO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Ji,"Using user provided OfflineComponentProvider");try{await _p(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ua("Error using user provided cache. Falling back to memory cache: "+t),await _p(n,new Fh)}}else ue(Ji,"Using default OfflineComponentProvider"),await _p(n,new RO(void 0));return n._offlineComponents}async function XI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Ji,"Using user provided OnlineComponentProvider"),await j0(n,n._uninitializedComponentsProvider._online)):(ue(Ji,"Using default OnlineComponentProvider"),await j0(n,new fm))),n._onlineComponents}function DO(n){return XI(n).then(e=>e.syncEngine)}async function VO(n){const e=await XI(n),t=e.eventManager;return t.onListen=gO.bind(null,e.syncEngine),t.onUnlisten=_O.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wO.bind(null,e.syncEngine),t}function LO(n,e,t={}){const r=new Hi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const g=new kO({next:E=>{g.Nu(),u.enqueueAndForget(()=>lO(a,_));const x=E.docs.has(h);!x&&E.fromCache?p.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&f&&f.source==="server"?p.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new hO(vg(h.path),g,{includeMetadataChanges:!0,qa:!0});return aO(a,_)}(await VO(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="firestore.googleapis.com",B0=!0;class z0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZI,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uM)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mg{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L2;switch(r.type){case"firstParty":return new j2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=U0.get(t);r&&(ue("ComponentProvider","Removing Datastore"),U0.delete(t),r.terminate())}(this),Promise.resolve()}}function MO(n,e,t,r={}){var p;n=Ws(n,Mg);const s=wa(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(QT(`https://${h}`),YT("Firestore",!0)),a.host!==ZI&&a.host!==h&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:s,emulatorOptions:r};if(!Us(f,u)&&(n._setSettings(f),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=Kt.MOCK_USER;else{g=Wb(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Kt(E)}n._authCredentials=new M2(new HS(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Og(this.firestore,e,this._query)}}class xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(wu(t,xt._jsonSchema))return new xt(e,r||null,new _e(nt.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:yt("string",xt._jsonSchemaVersion),referencePath:yt("string")};class iu extends Og{constructor(e,t,r){super(e,t,vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new _e(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function jh(n,e,...t){if(n=rn(n),arguments.length===1&&(e=hg.newId()),W2("doc","path",e),n instanceof Mg){const r=nt.fromString(e,...t);return n0(r),new xt(n,null,new _e(r))}{if(!(n instanceof xt||n instanceof iu))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return n0(r),new xt(n.firestore,n instanceof iu?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="AsyncQueue";class H0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LI(this,"async_queue_retry"),this._c=()=>{const r=vp();r&&ue($0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=vp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=vp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xa(e))throw e;ue($0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",W0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=bg.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Ee(47125,{Pc:W0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function W0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ud extends Mg{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new H0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function OO(n,e){const t=typeof n=="object"?n:eS(),r=typeof n=="string"?n:Rh,s=tg(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=$b("firestore");a&&MO(s,...a)}return s}function ex(n){if(n._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FO(n),n._firestoreClient}function FO(n){var r,s,a;const e=n._freezeSettings(),t=function(h,f,p,g){return new rL(h,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,JI(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new bO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Bt.fromBase64String(e))}catch(t){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new On(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:yt("string",On._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(wu(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:yt("string",Ir._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new xr(e.vectorValues);throw new me(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:yt("string",xr._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class UO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eu(e,this.data,t,this.fieldTransforms)}}class tx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class jg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nx(this.Ac)&&jO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||od(e)}Cc(e,t,r,s=!1){return new jg({Ac:e,methodName:t,Dc:r,path:Ut.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rx(n){const e=n._freezeSettings(),t=od(n._databaseId);return new BO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zO(n,e,t,r,s,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);Ug("Data must be an object, but it was:",u,r);const h=ix(r,u);let f,p;if(a.merge)f=new Sn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=pm(e,_,t);if(!u.contains(E))throw new me(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);ox(g,E)||g.push(E)}f=new Sn(g),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new UO(new pn(h),f,p)}class hd extends Fg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hd}}function $O(n,e,t,r){const s=n.Cc(1,e,t);Ug("Data must be an object, but it was:",s,r);const a=[],u=pn.empty();ts(r,(f,p)=>{const g=Bg(e,f,t);p=rn(p);const _=s.yc(g);if(p instanceof hd)a.push(g);else{const E=dd(p,_);E!=null&&(a.push(g),u.set(g,E))}});const h=new Sn(a);return new tx(u,h,s.fieldTransforms)}function HO(n,e,t,r,s,a){const u=n.Cc(1,e,t),h=[pm(e,r,t)],f=[s];if(a.length%2!=0)throw new me(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(pm(e,a[E])),f.push(a[E+1]);const p=[],g=pn.empty();for(let E=h.length-1;E>=0;--E)if(!ox(p,h[E])){const x=h[E];let N=f[E];N=rn(N);const D=u.yc(x);if(N instanceof hd)p.push(x);else{const b=dd(N,D);b!=null&&(p.push(x),g.set(x,b))}}const _=new Sn(p);return new tx(g,_,u.fieldTransforms)}function dd(n,e){if(sx(n=rn(n)))return Ug("Unsupported field value:",e,n),ix(n,e);if(n instanceof Fg)return function(r,s){if(!nx(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=dd(h,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ye.fromDate(r);return{timestampValue:Lh(s.serializer,a)}}if(r instanceof Ye){const a=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(s.serializer,a)}}if(r instanceof Ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:II(s.serializer,r._byteString)};if(r instanceof xt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Tg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xr)return function(u,h){return{mapValue:{fields:{[ZS]:{stringValue:eI},[kh]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return _g(h.serializer,p)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${dg(r)}`)}(n,e)}function ix(n,e){const t={};return KS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(n,(r,s)=>{const a=dd(s,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function sx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof Ir||n instanceof On||n instanceof xt||n instanceof Fg||n instanceof xr)}function Ug(n,e,t){if(!sx(t)||!WS(t)){const r=dg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function pm(n,e,t){if((e=rn(e))instanceof cd)return e._internalPath;if(typeof e=="string")return Bg(n,e);throw Uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const WO=new RegExp("[~\\*/\\[\\]]");function Bg(n,e,t){if(e.search(WO)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cd(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Uh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new me(Z.INVALID_ARGUMENT,h+n+f)}function ox(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qO extends ax{data(){return super.data()}}function lx(n,e){return typeof e=="string"?Bg(n,e):e instanceof cd?e._internalPath:e._delegate._internalPath}class KO{convertValue(e,t="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ts(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var r,s,a;const t=(a=(s=(r=e.fields)==null?void 0:r[kh].arrayValue)==null?void 0:s.values)==null?void 0:a.map(u=>dt(u.doubleValue));return new xr(t)}convertGeoPoint(e){return new Ir(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const t=Gi(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nt.fromString(e);Be(kI(r),9688,{name:e});const s=new eu(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(t)||ri(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class js extends ax{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=js._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:yt("string",js._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class fh extends js{data(e={}){return super.data(e)}}class zl{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new kl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fh(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new fh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new kl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new fh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new kl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:QO(h.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n){n=Ws(n,xt);const e=Ws(n.firestore,ud);return LO(ex(e),n._key).then(t=>ZO(e,n,t))}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:yt("string",zl._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class YO extends KO{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function XO(n,e,t){n=Ws(n,xt);const r=Ws(n.firestore,ud),s=GO(n.converter,e);return cx(r,[zO(rx(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Tr.none())])}function JO(n,e,t,...r){n=Ws(n,xt);const s=Ws(n.firestore,ud),a=rx(s);let u;return u=typeof(e=rn(e))=="string"||e instanceof cd?HO(a,"updateDoc",n._key,e,t,r):$O(a,"updateDoc",n._key,e),cx(s,[u.toMutation(n._key,Tr.exists(!0))])}function cx(n,e){return function(r,s){const a=new Hi;return r.asyncQueue.enqueueAndForget(async()=>EO(await DO(r),s,a)),a.promise}(ex(n),e)}function ZO(n,e,t){const r=t.docs.get(e._key),s=new YO(n);return new js(n,s,e._key,r,new kl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Sa=s})(Ea),aa(new Bs("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new ud(new O2(r.getProvider("auth-internal")),new U2(u,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(p.options.projectId,g)}(u,s),u);return a={useFetchStreams:t,...a},h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),zi(Jw,Zw,e),zi(Jw,Zw,"esm2020")})();const e4={apiKey:"AIzaSyBXmPZkTXaiKTN1k3mYFz9yVpPUhjavbAg",authDomain:"rise-up-1a912.firebaseapp.com",databaseURL:"https://rise-up-1a912-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"rise-up-1a912",storageBucket:"rise-up-1a912.firebasestorage.app",messagingSenderId:"420527456671",appId:"1:420527456671:web:9d1d772ed8e56ba59b7daa",measurementId:"G-D9V7V2ZZSB"},hx=ZT(e4),q0=D2(hx),Bh=OO(hx);function t4({onLogin:n}){const[e,t]=O.useState("signup"),[r,s]=O.useState(""),[a,u]=O.useState(""),[h,f]=O.useState(""),[p,g]=O.useState(""),[_,E]=O.useState(""),[x,N]=O.useState(!1),D=lu(),b=async F=>{var $;if(F.preventDefault(),E(""),e==="signup"){if(!r||!a||!h||!p){E("Please fill in all fields.");return}}else if(!h||!p){E("Please enter email and password.");return}N(!0);try{if(e==="signup"){const W=await yV(q0,h,p);await wV(W.user,{displayName:r});const Q=parseInt(a,10),ee=Q<18?"12-18":Q<=25?"18-25":"25+",oe={id:W.user.uid,name:W.user.displayName,email:W.user.email,age:Q,ageGroup:ee,createdAt:new Date().toISOString(),plan:[],streak:0,taskHistory:{}};n(oe),D("/questionnaire")}else{const Q=(await vV(q0,h,p)).user,ee=await ux(jh(Bh,"users",Q.uid));let oe;ee.exists()?oe=ee.data():oe={id:Q.uid,name:Q.displayName||"",email:Q.email,age:"",ageGroup:"",createdAt:(($=Q.metadata)==null?void 0:$.creationTime)||"",plan:[],streak:0,taskHistory:{}},n(oe),D("/dashboard")}}catch(W){console.error(W),E(W.message)}finally{N(!1)}};return A.jsx(mr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.7},className:"min-h-[calc(100vh-68px)] flex items-center justify-center bg-stone-100 p-6",children:A.jsxs(mr.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,delay:.2},className:"w-full max-w-md p-8 space-y-6 bg-white rounded-2xl shadow-xl",children:[A.jsx(mr.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-3xl font-bold text-center text-stone-800",children:e==="signup"?"Create Your Sanctuary":"Welcome Back"}),A.jsxs(mr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5},className:"flex justify-center gap-4 mb-2",children:[A.jsx("button",{className:`px-4 py-2 rounded-lg font-semibold ${e==="signup"?"bg-amber-600 text-white":"bg-stone-200 text-stone-700"}`,onClick:()=>t("signup"),disabled:x,children:"Sign Up"}),A.jsx("button",{className:`px-4 py-2 rounded-lg font-semibold ${e==="login"?"bg-amber-600 text-white":"bg-stone-200 text-stone-700"}`,onClick:()=>t("login"),disabled:x,children:"Login"})]}),A.jsxs(mr.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6},className:"space-y-6",onSubmit:b,children:[e==="signup"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-stone-700 font-semibold mb-2",htmlFor:"name",children:"Name"}),A.jsx("input",{id:"name",type:"text",value:r,onChange:F=>s(F.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-600",disabled:x,required:e==="signup"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-stone-700 font-semibold mb-2",htmlFor:"age",children:"Age"}),A.jsx("input",{id:"age",type:"number",min:"12",max:"99",value:a,onChange:F=>u(F.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-600",disabled:x,required:e==="signup"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-stone-700 font-semibold mb-2",htmlFor:"email",children:"Email"}),A.jsx("input",{id:"email",type:"email",value:h,onChange:F=>f(F.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-600",disabled:x,required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-stone-700 font-semibold mb-2",htmlFor:"password",children:"Password"}),A.jsx("input",{id:"password",type:"password",value:p,onChange:F=>g(F.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-600",disabled:x,required:!0})]}),_&&A.jsx("p",{className:"text-red-500 text-sm text-center",children:_}),A.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 font-bold text-white bg-amber-600 rounded-lg hover:bg-amber-700 transition duration-300 disabled:bg-stone-400",children:x?e==="signup"?"Creating Account...":"Logging In...":e==="signup"?"Sign Up":"Login"})]})]})})}const n4={"12-18":[{q:"When you think about school or exams, how does your body feel?",o:["Calm and ready","A little tense","Overwhelmingly stressed"]},{q:"How often do you compare your life, body, or achievements to what you see on social media?",o:["Rarely, I do my own thing","Sometimes, it gets to me","Often, it makes me feel inadequate"]},{q:"If you have free time with no distractions, what's your first instinct?",o:["Enjoy the quiet","Feel a bit bored","Immediately look for my phone"]},{q:"When you look in the mirror, what is the first thought that usually comes to mind?",o:["Acceptance or positivity","I focus on my flaws","I try to avoid looking"]},{q:"How easy is it for you to say 'no' to friends when they ask you to do something you're not comfortable with?",o:["Easy, I state my boundaries","It's a bit difficult","Very hard, I usually give in"]},{q:"Think about the last time you felt really passionate or excited about something. How long ago was that?",o:["Recently","A few months ago","I can't remember"]},{q:"How do you handle disagreements with your parents or guardians?",o:["We talk it through","We argue a lot","I just keep quiet to avoid conflict"]},{q:"Do you have at least one person you feel you can talk to about absolutely anything without being judged?",o:["Yes, definitely","I think so","No, not really"]},{q:"How much pressure do you feel about planning your future career or studies?",o:["A healthy amount","It's often on my mind","It's a source of constant anxiety"]},{q:"How would you describe your sleep on a typical weeknight?",o:["Deep and restful","It's okay, but I'm often tired","Restless or I stay up very late"]}],"18-25":[{q:"How often do you feel like you're 'behind' in life compared to your peers?",o:["Almost never","Sometimes","Constantly"]},{q:"When you think about your finances, what's the primary emotion?",o:["In control","Slightly worried","A lot of stress and anxiety"]},{q:"How would you describe your social life after finishing school/college?",o:["Fulfilling and active","It's okay, but harder to maintain","I often feel lonely or isolated"]},{q:"What role does your job or career play in your sense of identity?",o:["It's just one part of me","It's very important to who I am","I feel lost or defined by my job"]},{q:"How do you feel when a romantic relationship ends or doesn't work out?",o:["I learn from it and move on","It takes me a long time to recover","It feels like a personal failure"]},{q:"How often do you feel completely exhausted or 'burnt out' by the end of the week?",o:["Rarely","Fairly often","Almost every week"]},{q:"Do you feel a clear sense of purpose or direction in your life right now?",o:["Yes, I know my path","I have some ideas, but I'm unsure","No, I feel completely lost"]},{q:"How do you react to being alone on a weekend evening?",o:["I enjoy the personal time","I feel a bit of FOMO (fear of missing out)","I feel sad or anxious"]},{q:"How much time do you spend on activities that are purely for your own joy and have no 'productive' goal?",o:["A good amount of time","Very little","Almost none"]},{q:"How do you handle making big life decisions (e.g., moving, job changes)?",o:["With careful planning","With a lot of second-guessing","I tend to avoid making them"]}],"25+":[{q:"How would you describe the balance between your work responsibilities and your personal life?",o:["Well-balanced","It's a constant juggle","My work completely takes over"]},{q:"In your primary relationship (if any), how often do you feel truly heard and understood?",o:["Most of the time","Sometimes","Rarely or I'm not in one"]},{q:"When you think about your physical health, what's your general feeling?",o:["Vibrant and energetic","I have some concerns","I often feel tired or have aches"]},{q:"How often do you feel 'stuck' in your current life routine?",o:["Almost never, I embrace change","Occasionally, but it passes","Very often, I feel trapped"]},{q:"What is your relationship with financial pressures like loans, bills, or supporting a family?",o:["It's manageable","It's a significant source of stress","It's overwhelming"]},{q:"How much 'you' time do you get in a typical week that is completely free of obligations to others?",o:["A few hours, consistently","Maybe an hour if I'm lucky","Practically none"]},{q:"When you look at your life goals, how do you feel about your progress?",o:["Content with my journey","I feel I should have achieved more","Disappointed or regretful"]},{q:"How do you cope with major life stressors, like a sick family member or a job loss?",o:["I seek support and tackle it","I struggle but get through","I feel like shutting down"]},{q:"How has your circle of close, supportive friends changed in the last five years?",o:["It's strong and consistent","It has shrunk significantly","I find it hard to maintain friendships"]},{q:"Do you feel like your life has a deeper meaning beyond your daily tasks and responsibilities?",o:["Yes, I feel connected to a purpose","I'm searching for it","No, it feels like a grind"]}]};function su({text:n="Loading..."}){return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-stone-50",children:[A.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-amber-500"}),A.jsx("p",{className:"text-lg text-stone-600 mt-4",children:n})]})}function r4({userData:n,onPlanGenerated:e}){const[t,r]=O.useState(Array(10).fill(null)),[s,a]=O.useState(""),[u,h]=O.useState(!1),[f,p]=O.useState(""),g=n==null?void 0:n.ageGroup,_=n4[g]||[],E="AIzaSyB0ZUhbSUZCLhotF6U4eAv6JFunWqOrSJw",x=(D,b)=>{const F=[...t];F[D]=b,r(F)},N=async()=>{var b,F,$,W;if(t.includes(null)||!s){p("Please answer all questions and describe your challenge.");return}p(""),h(!0);const D=`
A user aged ${n.age} is seeking guidance.
Their main challenge is: "${s}".
Based on their answers below and their primary challenge, create a 14-day transformative plan rooted in principles of self-discipline, mindfulness, and traditional Indian wisdom (like Brahmacharya).
The tone should be gentle, supportive, and encouraging.
Each day must have exactly 5 actionable tasks. The tasks should start very light and gradually increase in difficulty or commitment.

User's Questionnaire Answers:
${_.map((Q,ee)=>`${ee+1}. ${Q.q} - Answer: ${t[ee]}`).join(`
`)}

IMPORTANT: Your entire response must be ONLY the raw JSON array, starting with '[' and ending with ']'. Do not include any other text, explanations, or markdown formatting.
For example: [{"day": "Day 1", "tasks": ["Task 1", "Task 2", "Task 3", "Task 4", "Task 5"]}, ...]
`;try{const ee={contents:[{role:"user",parts:[{text:D}]}]},oe=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${E}`,V=await fetch(oe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)});if(!V.ok)throw new Error(`API call failed with status: ${V.status}`);const I=await V.json();if(I.candidates&&((W=($=(F=(b=I.candidates[0])==null?void 0:b.content)==null?void 0:F.parts)==null?void 0:$[0])!=null&&W.text)){let P=I.candidates[0].content.parts[0].text;const k=P.indexOf("["),L=P.lastIndexOf("]");if(k!==-1&&L!==-1){const U=P.substring(k,L+1);try{const R=JSON.parse(U);await XO(jh(Bh,"users",n.id),{...n,questionnaire:{answers:t,problem:s,ageGroup:g,age:n.age,timestamp:new Date().toISOString()},plan:R}),e(R)}catch(R){throw console.error("JSON Parsing Error:",R,"--- Original Text:",P),new Error("Failed to parse the generated plan.")}}else throw console.error("Invalid response format from API:",P),new Error("Could not find a valid plan in the API response.")}else throw console.error("Malformed API response:",I),new Error("The response from the API was empty or malformed.")}catch(Q){console.error("Error generating plan:",Q),p("Sorry, we couldn't create your plan right now. Please try again later.")}finally{h(!1)}};return g?u?A.jsx(su,{text:"Crafting your personalized journey..."}):A.jsxs("div",{className:"container mx-auto max-w-3xl p-6 md:py-12",children:[A.jsx("h2",{className:"text-3xl font-bold text-stone-800 mb-2",children:"A Few Steps to Begin"}),A.jsx("p",{className:"text-stone-600 mb-8",children:"Your honest answers will help us create a path just for you."}),A.jsxs("div",{className:"space-y-8",children:[_.map((D,b)=>A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[A.jsxs("p",{className:"font-semibold text-lg mb-4 text-stone-700",children:[b+1,". ",D.q]}),A.jsx("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-2 md:space-y-0",children:D.o.map(F=>A.jsx("button",{onClick:()=>x(b,F),className:`flex-1 p-3 rounded-lg border-2 transition ${t[b]===F?"bg-amber-600 text-white border-amber-600":"bg-stone-100 hover:bg-stone-200 border-transparent"}`,children:F},F))})]},b)),A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[A.jsx("label",{className:"font-semibold text-lg mb-4 block text-stone-700",children:"Lastly, in your own words, what is the main challenge you are facing right now?"}),A.jsx("textarea",{value:s,onChange:D=>a(D.target.value),className:"w-full p-3 mt-2 text-stone-700 bg-stone-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",rows:"4",placeholder:"e.g., I feel lost about my career, I struggle with focus..."})]}),f&&A.jsx("p",{className:"text-red-500 text-center",children:f}),A.jsx("button",{onClick:N,className:"w-full py-4 font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 transition duration-300 shadow-lg",children:"Create My 14-Day Plan"})]})]}):A.jsx(su,{text:"Loading your profile..."})}function i4({userData:n}){const e=lu(),[t,r]=O.useState(n),[s,a]=O.useState((n==null?void 0:n.streak)||0),[u,h]=O.useState(0),[f,p]=O.useState([]),[g,_]=O.useState(null),[E,x]=O.useState(""),[N,D]=O.useState(""),[b,F]=O.useState(!1),[$,W]=O.useState(!0),Q="AIzaSyB0ZUhbSUZCLhotF6U4eAv6JFunWqOrSJw";O.useEffect(()=>{async function k(){if(!(n!=null&&n.id)){e("/login");return}try{const L=await ux(jh(Bh,"users",n.id));if(L.exists()){const U=L.data();r(U),a(U.streak||0),p(U.completedTasks||[]),W(!1)}else e("/questionnaire")}catch(L){console.error("Error fetching user data from Firestore:",L),e("/login")}}k()},[n==null?void 0:n.id,e]),O.useEffect(()=>{if(t){if(!t.plan||t.plan.length===0){e("/questionnaire");return}h(ee())}},[t,e]);const ee=O.useCallback(()=>{if(!t||!t.createdAt)return 0;const k=new Date(t.createdAt),U=Math.abs(new Date-k),R=Math.floor(U/(1e3*60*60*24));return R<14?R:13},[t]),oe=async k=>{const L=f.includes(k)?f.filter(U=>U!==k):[...f,k];p(L);try{await JO(jh(Bh,"users",t.id),{completedTasks:L})}catch(U){console.error("Error saving completed tasks:",U)}if(L.length===5){const U=new Date().toDateString();g!==U&&(a(R=>R+1),_(U))}},V=async()=>{var L,U,R,$e;if(!E.trim()||!Q)return;F(!0),D("");const k=`Act as a compassionate, wise friend. A user has shared this journal entry. Do not give medical advice. Reflect their feelings back to them gently, identify one core emotion or theme, and offer one simple, actionable suggestion based on mindfulness or self-care. Keep the entire response to under 60 words. Journal Entry: "${E}"`;try{const vt={contents:[{role:"user",parts:[{text:k}]}]},Te=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Q}`,re=await fetch(Te,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(vt)});if(!re.ok)throw new Error("API call failed");const he=await re.json();he.candidates&&(($e=(R=(U=(L=he.candidates[0])==null?void 0:L.content)==null?void 0:U.parts)==null?void 0:R[0])!=null&&$e.text)?D(he.candidates[0].content.parts[0].text):D("Could not get an insight at this moment. Please try again.")}catch(ot){console.error("Journal Analysis Error:",ot),D("Sorry, an error occurred while generating your insight.")}finally{F(!1)}};if($)return A.jsx(su,{text:"Loading your dashboard..."});if(!t||!t.plan||t.plan.length===0)return null;const I=t.plan[u];if(!I)return A.jsx(su,{text:"Finalizing your plan..."});const P=f.length/5*100;return A.jsxs("div",{className:"container mx-auto max-w-4xl p-6 md:py-12 space-y-8",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-3xl font-bold text-stone-800",children:["Welcome, ",t.name]}),A.jsx("p",{className:"text-stone-600",children:"This is your path for today. One step at a time."})]}),A.jsxs("div",{className:"text-center bg-white p-4 rounded-xl shadow-md",children:[A.jsx("div",{className:"text-4xl font-bold text-amber-600",children:s}),A.jsx("div",{className:"text-sm text-stone-500",children:"Day Streak"})]})]}),A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl",children:[A.jsxs("h3",{className:"text-2xl font-bold text-center text-stone-800 mb-6",children:[I.day,": Today's Focus"]}),A.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2.5 mb-6",children:A.jsx("div",{className:"bg-green-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${P}%`}})}),A.jsx("div",{className:"space-y-4",children:I.tasks.map((k,L)=>A.jsxs("div",{onClick:()=>oe(k),className:`flex items-center p-4 rounded-lg cursor-pointer transition ${f.includes(k)?"bg-green-100":"bg-stone-50 hover:bg-stone-100"}`,children:[A.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-4 flex-shrink-0 ${f.includes(k)?"bg-green-500 border-green-500":"border-stone-300"}`,children:f.includes(k)&&A.jsx("span",{className:"text-white font-bold",children:""})}),A.jsx("p",{className:`flex-1 ${f.includes(k)?"line-through text-stone-500":"text-stone-700"}`,children:k})]},L))})]}),A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl",children:[A.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-4",children:"Daily Journal"}),A.jsx("textarea",{value:E,onChange:k=>x(k.target.value),className:"w-full p-3 text-stone-700 bg-stone-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",rows:"5",placeholder:"How are you feeling today? What's on your mind?"}),A.jsx("button",{onClick:V,disabled:b||!E,className:"mt-4 w-full py-3 font-bold text-white bg-amber-600 rounded-lg hover:bg-amber-700 transition disabled:bg-stone-400",children:b?"Analyzing...":"Get Gentle Insights "}),N&&A.jsx("div",{className:"mt-4 p-4 bg-amber-50 border-l-4 border-amber-500 text-amber-800 rounded-r-lg",children:A.jsx("p",{className:"italic",children:N})})]})]})}function s4(){const[n,e]=O.useState(!1),t=O.useRef(null),r=()=>{n?(t.current.pause(),t.current.currentTime=0):t.current.play(),e(!n)};return A.jsxs("div",{className:"min-h-[calc(100vh-68px)] flex flex-col items-center justify-center bg-gradient-to-br from-cyan-50 to-blue-100 p-6 text-center",children:[A.jsx("h2",{className:"text-4xl font-bold text-stone-800 mb-4",children:"Find Your Center"}),A.jsx("p",{className:"text-lg text-stone-600 mb-8 max-w-md",children:"Close your eyes, breathe deeply, and let the sound guide you to stillness."}),A.jsx("button",{onClick:r,className:"w-48 h-48 rounded-full bg-white shadow-2xl flex items-center justify-center transition-transform duration-300 transform hover:scale-105",children:A.jsx("div",{className:`w-40 h-40 rounded-full bg-amber-500 flex items-center justify-center text-white font-bold text-3xl transition-all duration-300 ${n?"animate-pulse bg-amber-600":""}`,children:n?"||":"OM"})}),A.jsx("audio",{ref:t,src:"/omchanting.mp3",onEnded:()=>e(!1),preload:"auto"}),A.jsx("p",{className:"mt-8 text-stone-500",children:n?"Playing...":"Tap to begin"})]})}function o4(){const[n,e]=O.useState(!1),[t,r]=O.useState("Start"),s=O.useRef(null),a=O.useRef(0),u=["Inhale","Hold","Exhale","Hold"],h=()=>{e(!0),a.current=0;const g=()=>{r(u[a.current%4]),a.current++,s.current=setTimeout(g,4e3)};g()},f=()=>{e(!1),clearTimeout(s.current),r("Start")},p=()=>{n?f():h()};return O.useEffect(()=>()=>clearTimeout(s.current),[]),A.jsxs("div",{className:"min-h-[calc(100vh-68px)] flex flex-col items-center justify-center bg-gradient-to-br from-sky-100 to-teal-100 p-6 text-center",children:[A.jsx("h2",{className:"text-4xl font-bold text-stone-800 mb-4",children:"Box Breathing"}),A.jsx("p",{className:"text-lg text-stone-600 mb-8 max-w-md",children:"Follow the visual guide to calm your mind and regulate your breath. Each phase is 4 seconds."}),A.jsxs("div",{className:"relative w-64 h-64 flex items-center justify-center",children:[A.jsx("div",{className:"absolute w-full h-full bg-teal-300 rounded-full transition-transform duration-[4000ms] ease-in-out",style:{animation:n?"breathe 16s infinite ease-in-out":"none",transform:n?"scale(1)":"scale(0.5)"}}),A.jsx("div",{className:"relative z-10 w-40 h-40 bg-white rounded-full flex items-center justify-center shadow-xl",children:A.jsx("p",{className:"text-2xl font-bold text-teal-700",children:t})})]}),A.jsx("button",{onClick:p,className:"mt-12 bg-amber-600 text-white font-bold py-3 px-10 rounded-full hover:bg-amber-700 transition shadow-lg text-lg",children:n?"Stop":"Begin Exercise"}),A.jsx("style",{children:`
                @keyframes breathe {
                    0%, 100% { transform: scale(0.5); }
                    25% { transform: scale(1); }
                    50% { transform: scale(1); }
                    75% { transform: scale(0.5); }
                }
            `})]})}function a4(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,a]=O.useState(!1),[u,h]=O.useState(""),f="AIzaSyB0ZUhbSUZCLhotF6U4eAv6JFunWqOrSJw",p=async()=>{var _,E,x,N;if(!n.trim()||!f){h("Please enter some ingredients and ensure your API key is set.");return}h(""),a(!0),r("");const g=`You are an expert chef specializing in simple, healthy, Sattvic (yogic) cuisine. A user has the following ingredients: "${n}". Create a simple recipe for them. The recipe should be vegetarian, use minimal spices (no onion, no garlic), and be easy to prepare. Format the response with "Recipe Title:", "Ingredients:", and "Instructions:".`;try{const b={contents:[{role:"user",parts:[{text:g}]}]},F=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${f}`,$=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!$.ok)throw new Error("API call failed");const W=await $.json();W.candidates&&((N=(x=(E=(_=W.candidates[0])==null?void 0:_.content)==null?void 0:E.parts)==null?void 0:x[0])!=null&&N.text)?r(W.candidates[0].content.parts[0].text):h("Could not generate a recipe at this moment. Please try again.")}catch(D){console.error("Recipe Generation Error:",D),h("Sorry, an error occurred while generating your recipe.")}finally{a(!1)}};return A.jsxs("div",{className:"container mx-auto max-w-3xl p-6 md:py-12",children:[A.jsx("h2",{className:"text-4xl font-bold text-center text-stone-800 mb-4",children:"AI Sattvic Recipe Generator"}),A.jsx("p",{className:"text-center text-stone-600 max-w-2xl mx-auto mb-8",children:"Nourish your body and mind. Enter the ingredients you have, and our AI will create a simple, calming Sattvic recipe for you."}),A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[A.jsx("label",{className:"text-sm font-bold text-stone-600 block mb-2",children:"Your Ingredients (e.g., rice, lentils, spinach, tomato)"}),A.jsx("textarea",{value:n,onChange:g=>e(g.target.value),className:"w-full p-3 text-stone-700 bg-stone-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",rows:"3",placeholder:"List your ingredients here, separated by commas..."}),A.jsx("button",{onClick:p,disabled:s||!f,className:"mt-4 w-full py-3 font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 transition disabled:bg-stone-400",children:s?"Creating...":"Generate Recipe "}),u&&A.jsx("p",{className:"text-red-500 text-sm text-center mt-4",children:u})]}),t&&A.jsx("div",{className:"mt-8 bg-white p-8 rounded-2xl shadow-xl",children:t.split(`
`).map((g,_)=>{const E=g.replace(/^\s*[\*\-]\s?/,"").trim();return g.startsWith("Recipe Title:")?A.jsx("h3",{className:"text-2xl font-bold text-amber-700 mb-4",children:g.replace("Recipe Title:","").trim()},_):g.startsWith("Ingredients:")?A.jsx("h4",{className:"text-xl font-bold text-stone-800 mt-4 mb-2",children:g.trim()},_):g.startsWith("Instructions:")?A.jsx("h4",{className:"text-xl font-bold text-stone-800 mt-4 mb-2",children:g.trim()},_):E&&!g.startsWith("Recipe Title:")&&!g.startsWith("Ingredients:")&&!g.startsWith("Instructions:")?A.jsx("p",{className:"text-stone-700 my-1",children:E},_):null})})]})}const l4=[{id:1,text:"The 14-day plan helped me build a routine that I didn't know I needed. Feeling more focused and calm.",authorId:"user_abc"},{id:2,text:"It's comforting to know I'm not alone. Reading the stories here gives me strength.",authorId:"user_def"}];function u4(){const[n,e]=O.useState(l4),[t,r]=O.useState(""),s=a=>{if(a.preventDefault(),!t.trim())return;const u={id:Date.now(),text:t,authorId:k4()};e([u,...n]),r("")};return A.jsxs("div",{className:"container mx-auto max-w-4xl p-6 md:py-12",children:[A.jsx("h2",{className:"text-3xl font-bold text-stone-800 mb-2",children:"Shared Journeys"}),A.jsx("p",{className:"text-stone-600 mb-8",children:"Find strength in the stories of others. You are not alone."}),A.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl mb-8",children:A.jsxs("form",{onSubmit:s,children:[A.jsx("textarea",{value:t,onChange:a=>r(a.target.value),className:"w-full p-3 text-stone-700 bg-stone-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",rows:"4",placeholder:"Share how Rise Up has helped you, or offer words of encouragement..."}),A.jsx("button",{type:"submit",className:"w-full mt-4 py-3 font-bold text-white bg-amber-600 rounded-lg hover:bg-amber-700 transition",children:"Share Your Story"})]})}),A.jsx("div",{className:"space-y-6",children:n.map(a=>A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[A.jsxs("p",{className:"text-stone-700 italic",children:['`"',a.text,'"`']}),A.jsx("p",{className:"text-right text-sm text-stone-500 mt-4",children:"- Anonymous User"})]},a.id))})]})}const c4=[{id:11,title:"Reclaiming Your Energy: Why Indian Wisdom Surpasses Western Hustle Culture",excerpt:"Modern Western culture glorifies endless work and fleeting pleasures, leading to burnout and emptiness. Discover how the Indian path of Brahmacharya offers a sustainable way to build true inner strength and lasting peace.",content:`In today's world, we are constantly told to 'hustle,' to chase the next promotion, the next gadget, the next fleeting moment of happiness. This Western model of success drains our vital energy, leaving us anxious, exhausted, and spiritually empty. It encourages indulgence in sensory pleasures that provide temporary highs but ultimately weaken our resolve and distract us from our true purpose. The result is a society plagued by mental health issues, where people feel disconnected from themselves and their communities. 

The traditional Indian path offers a profound alternative. At its heart is Brahmacharya, the principle of conserving and mastering one's energy. This is not about suppression, but about intelligently redirecting our focus away from draining, negative habits and towards activities that build our inner strength. By practicing moderation, mindfulness (Dhyana), and a Sattvic lifestyle, we cultivate a powerful inner reserve of energy. This energy, or 'Ojas,' becomes the foundation for a calm mind, a healthy body, and a life filled with purpose and unshakable peace. It is time to leave the path of burnout and embrace the timeless wisdom that builds a truly resilient and fulfilled self.`},{id:1,title:"The Power of Mindfulness in Daily Life",excerpt:"Discover how five minutes of mindfulness can change your entire day, reducing stress and improving focus.",content:"Mindfulness is the practice of being present and fully engaged with whatever were doing at the moment  free from distraction or judgment, and aware of our thoughts and feelings without getting caught up in them. To practice it, you can start with simple breathing exercises. Sit in a quiet place, close your eyes, and focus on your breath. Feel the air entering your nostrils and filling your lungs. Acknowledge thoughts as they come and go without judgment. Doing this for just five minutes a day can lead to a profound sense of calm and clarity."},{id:2,title:"Brahmacharya: A Path to Higher Energy",excerpt:"Explore the true meaning of Brahmacharya as the conservation and right use of one's vital energy.",content:"Often misinterpreted as just physical celibacy, Brahmacharya is a vast concept about the responsible use of energy. It means not wasting energy on frivolous sensory pleasures, gossip, or negative emotions. By conserving this vital force (prana), one can redirect it towards higher goals, whether they are spiritual, creative, or intellectual. It encourages a life of moderation and purpose, leading to enhanced vitality, a clearer mind, and a stronger will."},{id:3,title:"Nourishing Your Mind: Foods for Mental Clarity",excerpt:"Learn about the Sattvic diet and how what you eat profoundly impacts your thoughts and emotions.",content:"According to ancient Indian wisdom, food is categorized into three types: Sattvic, Rajasic, and Tamasic. A Sattvic diet, consisting of fresh fruits, vegetables, whole grains, nuts, and seeds, is believed to promote a calm, clear, and peaceful mind. Rajasic foods (spicy, oily, stimulating) can lead to restlessness, while Tamasic foods (stale, processed, heavy) can cause lethargy and mental fog. By adopting a more Sattvic way of eating, you can directly improve your mental and emotional well-being."},{id:4,title:"Dinacharya: The Power of a Daily Routine",excerpt:"A consistent daily routine (Dinacharya) is the bedrock of a calm, stable, and focused mind.",content:"Ayurveda places great emphasis on Dinacharya, or a daily routine aligned with the cycles of nature. This includes waking up early (ideally before sunrise), practicing hygiene, meditation, exercise, and eating meals at consistent times. A stable routine helps to balance the body's energies (doshas), regulate our internal clock, and reduce stress. It creates a sense of order and predictability that calms the nervous system and provides a solid foundation for a productive and peaceful day."},{id:5,title:"Overcoming Peer Pressure with Self-Assurance",excerpt:"Develop the inner strength to stay true to your values, even when faced with external pressure.",content:"Peer pressure is a powerful force, especially during formative years. The key to overcoming it lies in building strong self-esteem and a clear sense of your own values. Know what is important to you and why. Practice saying 'no' in low-stakes situations to build your confidence. Remember that true friends will respect your decisions and boundaries. Your well-being is more important than fitting in."},{id:6,title:"Navigating the Quarter-Life Crisis",excerpt:"Feeling lost in your 20s is normal. Heres how to find your way through the uncertainty.",content:"The 'quarter-life crisis' is a period of intense soul-searching and stress regarding one's career, relationships, and life path. The first step is to acknowledge that this is a common and valid experience. Instead of comparing yourself to others, focus on self-exploration. Try new things, travel if you can, talk to people in different fields, and journal your thoughts and feelings. It's a time for exploration, not for having all the answers."},{id:7,title:"The Art of Mindful Communication in Relationships",excerpt:"Transform your relationships by learning to listen and speak with full presence and compassion.",content:"Mindful communication involves listening to understand, not just to reply. It means speaking with intention and kindness, and being aware of your own emotions and triggers during a conversation. Before speaking, take a breath. Listen without interrupting. Try to understand the other person's perspective, even if you don't agree. This practice can de-escalate conflicts and build deeper, more meaningful connections."},{id:8,title:"Digital Detox: Reclaiming Your Focus",excerpt:"Our brains aren't built for constant notifications. Learn how to take back control from your devices.",content:"Constant connectivity can lead to anxiety, poor focus, and a feeling of being perpetually drained. A digital detox can help reset your brain. Start small: schedule 'no-phone' hours each day. Turn off non-essential notifications. Designate a single time of day to check emails and social media. Use apps that monitor your screen time to become more aware of your habits. Reclaiming your attention is reclaiming your life."},{id:9,title:"Finding Purpose in Your Work-Life Juggle",excerpt:"Its easy to feel like you're just going through the motions. Heres how to reconnect with a sense of purpose.",content:"Purpose isn't always found in a grand mission; it can be cultivated in daily life. Reflect on what truly matters to you. How do your daily tasks, both at work and at home, align with these values? Find ways to help others, even in small ways. Practice gratitude for the role you play in the lives of those around you. Purpose is often about perspective and finding meaning in your current circumstances."},{id:10,title:"The Physical Impact of Unmanaged Stress",excerpt:"Stress isn't just 'in your head.' It has real, tangible effects on your physical health.",content:"Chronic stress keeps your body in a constant state of 'fight or flight,' leading to elevated cortisol levels. This can cause a host of physical problems, including high blood pressure, weakened immune system, digestive issues, and chronic fatigue. Managing stress through techniques like meditation, regular exercise, adequate sleep, and spending time in nature is not an indulgenceit's essential for your long-term physical health."}];function h4(){const[n,e]=O.useState(null),[t,r]=O.useState({}),[s,a]=O.useState(null),u="AIzaSyB0ZUhbSUZCLhotF6U4eAv6JFunWqOrSJw",h=p=>{e(n===p?null:p)},f=async(p,g)=>{var E,x,N,D;if(t[p]||!u)return;a(p);const _=`Summarize the following article into three concise bullet points. Focus on the key takeaways. Article: "${g}"`;try{const F={contents:[{role:"user",parts:[{text:_}]}]},$=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${u}`,W=await fetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(!W.ok)throw new Error("API call failed");const Q=await W.json();Q.candidates&&((D=(N=(x=(E=Q.candidates[0])==null?void 0:E.content)==null?void 0:x.parts)==null?void 0:N[0])!=null&&D.text)?r(ee=>({...ee,[p]:Q.candidates[0].content.parts[0].text})):r(ee=>({...ee,[p]:"Could not generate a summary."}))}catch(b){console.error("Article Summary Error:",b),r(F=>({...F,[p]:"Error generating summary."}))}finally{a(null)}};return A.jsxs("div",{className:"container mx-auto max-w-4xl p-6 md:py-12",children:[A.jsx("h2",{className:"text-3xl font-bold text-stone-800 mb-2",children:"Wisdom for the Path"}),A.jsx("p",{className:"text-stone-600 mb-8",children:"Read and reflect on articles designed to support your journey."}),A.jsx("div",{className:"space-y-6",children:c4.map(p=>A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg transition-all duration-300",children:[A.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:p.title}),A.jsx("p",{className:"text-stone-600 mb-4 whitespace-pre-wrap",children:n===p.id?p.content:p.excerpt}),t[p.id]&&A.jsxs("div",{className:"my-4 p-4 bg-blue-50 border-l-4 border-blue-500 text-blue-800 rounded-r-lg",children:[A.jsx("h4",{className:"font-bold mb-2",children:" AI Summary"}),A.jsx("ul",{className:"list-disc list-inside",children:t[p.id].split(`
`).map((g,_)=>g.trim()&&A.jsx("li",{children:g.replace(/[*\-]/g,"").trim()},_))})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("button",{onClick:()=>h(p.id),className:"font-semibold text-amber-600 hover:text-amber-700 transition",children:[n===p.id?"Read Less":"Read More"," "]}),A.jsx("button",{onClick:()=>f(p.id,p.content),disabled:s===p.id||t[p.id]||!u,className:"font-semibold text-blue-600 hover:text-blue-700 transition disabled:text-stone-400 disabled:cursor-not-allowed",children:s===p.id?"Summarizing...":t[p.id]?" Summarized":"Summarize with AI "})]})]},p.id))})]})}function d4({onBookAppointment:n}){const e=[{name:"Dr. Ananya Sharma",email:"divyeshtechs@gmail.com",specialization:"Mindfulness & Stress Management",bio:"Dr. Sharma integrates traditional meditation techniques with modern cognitive-behavioral therapy to help manage anxiety and stress.",avatar:"https://placehold.co/100x100/FFF7ED/6D4C41?text=AS"},{name:"Dr. Vikram Singh",email:"divyeshtechs@gmail.com",specialization:"Career & Life Path Counseling",bio:"With 15 years of experience, Dr. Singh specializes in helping young adults navigate career choices and find a fulfilling life path.",avatar:"https://placehold.co/100x100/E8F5E9/388E3C?text=VS"},{name:"Dr. Priya Desai",email:"divyeshtechs@gmail.com",specialization:"Relationship & Marital Harmony",bio:"Dr. Desai focuses on communication and understanding to help couples and individuals build stronger, healthier relationships.",avatar:"https://placehold.co/100x100/FCE4EC/C2185B?text=PD"},{name:"Dr. Rohan Joshi",email:"divyeshtechs@gmail.com",specialization:"Addiction & Habit Formation",bio:"Dr. Joshi provides compassionate support and evidence-based strategies for overcoming addiction and building positive habits.",avatar:"https://placehold.co/100x100/E3F2FD/1976D2?text=RJ"}];return A.jsxs("div",{className:"container mx-auto max-w-5xl p-6 md:py-12",children:[A.jsx("h2",{className:"text-4xl font-bold text-center text-stone-800 mb-4",children:"Consult Our Experts"}),A.jsx("p",{className:"text-center text-stone-600 max-w-2xl mx-auto mb-12",children:"Connect with experienced professionals who can provide guidance on your journey."}),A.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:e.map((t,r)=>A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 flex flex-col sm:flex-row items-center gap-6 hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[A.jsx("img",{src:t.avatar,alt:`Dr. ${t.name}`,className:"w-24 h-24 rounded-full flex-shrink-0 border-4 border-amber-100"}),A.jsxs("div",{className:"text-center sm:text-left",children:[A.jsx("h3",{className:"text-xl font-bold text-stone-800",children:t.name}),A.jsx("p",{className:"text-amber-700 font-semibold mb-2",children:t.specialization}),A.jsx("p",{className:"text-stone-600 text-sm mb-4",children:t.bio}),A.jsx("button",{onClick:()=>n(t),className:"bg-amber-600 text-white font-bold py-2 px-6 rounded-full hover:bg-amber-700 transition",children:"Book Appointment"})]})]},r))})]})}class xu{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const f4=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},jt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:f4()},zg=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},p4=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=zg(n);jt.publicKey=t.publicKey,jt.blockHeadless=t.blockHeadless,jt.storageProvider=t.storageProvider,jt.blockList=t.blockList,jt.limitRate=t.limitRate,jt.origin=t.origin||e},dx=async(n,e,t={})=>{const r=await fetch(jt.origin+n,{method:"POST",headers:t,body:e}),s=await r.text(),a=new xu(r.status,s);if(r.ok)return a;throw a},fx=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},m4=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},px=n=>n.webdriver||!n.languages||n.languages.length===0,mx=()=>new xu(451,"Unavailable For Headless Browser"),g4=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},y4=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},v4=(n,e)=>n instanceof FormData?n.get(e):n[e],gx=(n,e)=>{if(y4(n))return!1;g4(n.list,n.watchVariable);const t=v4(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},yx=()=>new xu(403,"Forbidden"),_4=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},w4=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},vx=async(n,e,t)=>{if(!e.throttle||!t)return!1;_4(e.throttle,e.id);const r=e.id||n;return await w4(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},_x=()=>new xu(429,"Too Many Requests"),E4=async(n,e,t,r)=>{const s=zg(r),a=s.publicKey||jt.publicKey,u=s.blockHeadless||jt.blockHeadless,h=s.storageProvider||jt.storageProvider,f={...jt.blockList,...s.blockList},p={...jt.limitRate,...s.limitRate};return u&&px(navigator)?Promise.reject(mx()):(fx(a,n,e),m4(t),t&&gx(f,t)?Promise.reject(yx()):await vx(location.pathname,p,h)?Promise.reject(_x()):dx("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},T4=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},S4=n=>typeof n=="string"?document.querySelector(n):n,I4=async(n,e,t,r)=>{const s=zg(r),a=s.publicKey||jt.publicKey,u=s.blockHeadless||jt.blockHeadless,h=jt.storageProvider||s.storageProvider,f={...jt.blockList,...s.blockList},p={...jt.limitRate,...s.limitRate};if(u&&px(navigator))return Promise.reject(mx());const g=S4(t);fx(a,n,e),T4(g);const _=new FormData(g);return gx(f,_)?Promise.reject(yx()):await vx(location.pathname,p,h)?Promise.reject(_x()):(_.append("lib_version","4.4.1"),_.append("service_id",n),_.append("template_id",e),_.append("user_id",a),dx("/api/v1.0/email/send-form",_))},x4={init:p4,send:E4,sendForm:I4,EmailJSResponseStatus:xu};function A4({doctor:n,setPage:e}){const[t,r]=O.useState(!1),[s,a]=O.useState(!1),u=h=>{h.preventDefault(),a(!0);const f=new FormData(h.target),p={full_name:f.get("full_name"),email:f.get("email"),date:f.get("date"),time:f.get("time"),doctor_name:(n==null?void 0:n.name)||"Unknown Doctor",doctor_email:(n==null?void 0:n.email)||"fallback@example.com"};x4.send("service_7180t5j","template_wi29a0h",p,"IZOPo2Wc09jtfGr8q").then(()=>{r(!0),a(!1)}).catch(g=>{console.error("Failed to send email:",g),alert("There was an error sending the appointment request. Please try again."),a(!1)})};return n?A.jsx("div",{className:"min-h-[calc(100vh-68px)] flex items-center justify-center bg-stone-100 p-6",children:A.jsx("div",{className:"w-full max-w-lg p-8 space-y-6 bg-white rounded-2xl shadow-xl",children:t?A.jsxs("div",{className:"text-center",children:[A.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-4",children:"Request Sent!"}),A.jsxs("p",{className:"text-stone-600",children:["Your appointment request for ",A.jsx("span",{className:"font-bold",children:n.name})," has been submitted. They will contact you via email to confirm the details."]}),A.jsx("button",{onClick:()=>e("consult"),className:"mt-6 bg-amber-600 text-white font-bold py-2 px-6 rounded-full hover:bg-amber-700 transition",children:"Back to Consultants"})]}):A.jsxs(A.Fragment,{children:[A.jsx("h2",{className:"text-3xl font-bold text-center text-stone-800",children:"Book Appointment"}),A.jsxs("p",{className:"text-center text-stone-600",children:["Request a session with ",A.jsx("span",{className:"font-bold text-amber-700",children:n.name})]}),A.jsxs("form",{className:"space-y-6",onSubmit:u,children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-bold text-stone-600 block",children:"Full Name"}),A.jsx("input",{type:"text",name:"full_name",className:"w-full p-3 mt-2 text-stone-700 bg-stone-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm font-bold text-stone-600 block",children:"Email Address"}),A.jsx("input",{type:"email",name:"email",className:"w-full p-3 mt-2 text-stone-700 bg-stone-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"text-sm font-bold text-stone-600 block",children:"Preferred Date"}),A.jsx("input",{type:"date",name:"date",className:"w-full p-3 mt-2 text-stone-700 bg-stone-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]}),A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"text-sm font-bold text-stone-600 block",children:"Preferred Time"}),A.jsx("input",{type:"time",name:"time",className:"w-full p-3 mt-2 text-stone-700 bg-stone-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",required:!0})]})]}),A.jsx("div",{children:A.jsx("button",{type:"submit",className:`w-full py-3 font-bold text-white rounded-lg transition duration-300 ${s?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,disabled:s,children:s?"Sending...":"Submit Request"})})]})]})})}):A.jsx(su,{text:"Loading..."})}function P4(){const[n,e]=O.useState([{text:"Namaste. The path to inner peace begins with understanding the self. How may I assist you on your journey today?",sender:"bot"}]),[t,r]=O.useState(""),[s,a]=O.useState(!1),u=O.useRef(null),h="AIzaSyB0ZUhbSUZCLhotF6U4eAv6JFunWqOrSJw";O.useEffect(()=>{var p;(p=u.current)==null||p.scrollTo(0,u.current.scrollHeight)},[n]);const f=async()=>{var _,E,x,N;if(!t.trim()||!h)return;const p={text:t,sender:"user"};e(D=>[...D,p]),r(""),a(!0);const g=`You are an AI psychologist with 10+ years of experience, specializing in integrating modern psychology with traditional Indian wisdom and the principles of Brahmacharya (mindful energy conservation). Your tone is calm, empathetic, and wise. You do not give direct medical advice but offer perspective, gentle guidance, and reflective questions. A user has said: "${t}". Respond to them.`;try{const b={contents:[{role:"user",parts:[{text:g}]}]},F=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${h}`,$=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!$.ok)throw new Error("API call failed");const W=await $.json();if(W.candidates&&((N=(x=(E=(_=W.candidates[0])==null?void 0:_.content)==null?void 0:E.parts)==null?void 0:x[0])!=null&&N.text)){const Q={text:W.candidates[0].content.parts[0].text,sender:"bot"};e(ee=>[...ee,Q])}else{const Q={text:"I am finding it difficult to respond at this moment. Could you please rephrase?",sender:"bot"};e(ee=>[...ee,Q])}}catch(D){console.error("Chatbot Error:",D);const b={text:"I apologize, I am unable to process your request right now. Let's try again in a moment.",sender:"bot"};e(F=>[...F,b])}finally{a(!1)}};return A.jsxs("div",{className:"flex flex-col h-[calc(100vh-68px)] bg-stone-100",children:[A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",ref:u,children:[n.map((p,g)=>A.jsxs("div",{className:`flex items-end gap-2 ${p.sender==="user"?"justify-end":"justify-start"}`,children:[p.sender==="bot"&&A.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-600 flex-shrink-0"}),A.jsx("div",{className:`max-w-lg p-3 rounded-2xl ${p.sender==="user"?"bg-amber-600 text-white rounded-br-none":"bg-white text-stone-800 rounded-bl-none shadow-md"}`,children:A.jsx("p",{children:p.text})})]},g)),s&&A.jsxs("div",{className:"flex items-end gap-2 justify-start",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-600 flex-shrink-0"}),A.jsx("div",{className:"max-w-lg p-3 rounded-2xl bg-white text-stone-800 rounded-bl-none shadow-md",children:A.jsxs("div",{className:"flex items-center justify-center gap-1",children:[A.jsx("span",{className:"w-2 h-2 bg-stone-400 rounded-full animate-pulse delay-0"}),A.jsx("span",{className:"w-2 h-2 bg-stone-400 rounded-full animate-pulse delay-150"}),A.jsx("span",{className:"w-2 h-2 bg-stone-400 rounded-full animate-pulse delay-300"})]})})]})]}),A.jsxs("div",{className:"p-4 bg-white border-t border-stone-200",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("input",{type:"text",value:t,onChange:p=>r(p.target.value),onKeyPress:p=>p.key==="Enter"&&!s&&f(),placeholder:"Speak your mind...",className:"w-full p-3 text-stone-700 bg-stone-100 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500",disabled:!h}),A.jsx("button",{onClick:f,disabled:s||!h,className:"bg-amber-600 text-white p-3 rounded-full hover:bg-amber-700 transition disabled:bg-stone-400",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]}),A.jsx("p",{className:"text-xs text-center text-stone-400 mt-2",children:"Disclaimer: This AI Chat is for supportive guidance and not a substitute for professional medical advice."})]})]})}const K0="AIzaSyB0ZUhbSUZCLhotF6U4eAv6JFunWqOrSJw",C4=({entries:n})=>{const e=new Date,t=Array.from({length:30},(s,a)=>{const u=new Date;return u.setDate(e.getDate()-a),u.toLocaleDateString()}).reverse(),r=s=>{switch(s){case"Positive Flow":return"bg-amber-400";case"Turbulent Flow":return"bg-red-400";case"Stagnant Flow":return"bg-blue-400";default:return"bg-stone-200"}};return A.jsxs("div",{className:"mt-8",children:[A.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-4",children:"Your 30-Day Energy Flow"}),A.jsx("div",{className:"grid grid-cols-10 gap-2",children:t.map(s=>{const a=n.find(f=>f.date===s),u=a?r(a.flow):"bg-stone-200",h=a?`${s}: ${a.flow}`:`${s}: No Entry`;return A.jsxs("div",{className:"relative group",children:[A.jsx("div",{className:`w-full h-8 rounded ${u}`}),A.jsx("div",{className:"absolute bottom-full mb-2 w-max px-2 py-1 bg-stone-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:h})]},s)})}),A.jsxs("div",{className:"flex justify-end space-x-4 mt-4 text-sm",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400 mr-2"}),"Positive"]}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400 mr-2"}),"Turbulent"]}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 mr-2"}),"Stagnant"]})]})]})};function R4(){const[n,e]=O.useState([{id:1,date:new Date().toLocaleDateString(),text:"Today was a good day. I completed all my tasks and felt a sense of accomplishment.",flow:"Positive Flow"}]),[t,r]=O.useState(""),[s,a]=O.useState(!1),[u,h]=O.useState(""),f=async g=>{var E,x,N,D,b,F;const _=`Analyze the emotional tone of this text and classify its energy state as ONLY one of the following exact phrases: "Positive Flow", "Turbulent Flow", or "Stagnant Flow". Do not add any other text or explanation. Text: "${g}"`;try{const $={contents:[{role:"user",parts:[{text:_}]}]},W=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${K0}`,Q=await fetch(W,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!Q.ok)throw new Error("API call failed");const oe=(F=(b=(D=(N=(x=(E=(await Q.json()).candidates)==null?void 0:E[0])==null?void 0:x.content)==null?void 0:N.parts)==null?void 0:D[0])==null?void 0:b.text)==null?void 0:F.trim();return["Positive Flow","Turbulent Flow","Stagnant Flow"].includes(oe)?oe:"Analysis Failed"}catch($){return console.error("Sentiment Analysis Error:",$),"Analysis Failed"}},p=async g=>{if(g.preventDefault(),!t.trim())return;a(!0),h("");const _=await f(t),E={id:Date.now(),date:new Date().toLocaleDateString(),text:t,flow:_};e([E,...n]),r(""),a(!1)};return A.jsxs("div",{className:"container mx-auto max-w-4xl p-6 md:py-12",children:[A.jsx("h2",{className:"text-3xl font-bold text-stone-800 mb-2",children:"My Journal"}),A.jsx("p",{className:"text-stone-600 mb-8",children:"A private space for your thoughts, reflections, and energy tracking."}),A.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-xl mb-8",children:A.jsxs("form",{onSubmit:p,children:[A.jsx("textarea",{value:t,onChange:g=>r(g.target.value),className:"w-full p-3 text-stone-700 bg-stone-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",rows:"6",placeholder:"What's on your mind today?"}),A.jsx("button",{type:"submit",disabled:s,className:"w-full mt-4 py-3 font-bold text-white bg-amber-600 rounded-lg hover:bg-amber-700 transition disabled:bg-stone-400",children:s?"Analyzing & Saving...":"Save Entry"}),!K0]})}),A.jsx(C4,{entries:n}),A.jsxs("div",{className:"space-y-6 mt-12",children:[A.jsx("h3",{className:"text-2xl font-bold text-stone-800",children:"Past Entries"}),n.length>0?n.map(g=>A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx("p",{className:"text-sm text-stone-500 font-semibold",children:g.date}),g.flow&&g.flow!=="No Analysis"&&g.flow!=="Analysis Failed"&&A.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${g.flow==="Positive Flow"?"bg-amber-100 text-amber-800":g.flow==="Turbulent Flow"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:g.flow})]}),A.jsx("p",{className:"text-stone-700 whitespace-pre-wrap",children:g.text})]},g.id)):A.jsx("p",{className:"text-stone-500 text-center",children:"You have no journal entries yet."})]})]})}const k4=()=>`user_${Math.random().toString(36).substr(2,9)}`;function b4(){const[n,e]=O.useState(null),[t,r]=O.useState(null),s=lu(),a=p=>{e(p),s("/questionnaire")},u=()=>{e(null),s("/")},h=p=>{e(g=>({...g,plan:p})),s("/dashboard")},f=p=>{r(p),s("/booking")};return A.jsxs("div",{className:"bg-stone-50 min-h-screen font-sans text-stone-800",children:[A.jsx(nP,{navigate:s,onLogout:u,isLoggedIn:!!n}),A.jsxs(SA,{children:[A.jsx(tn,{path:"/",element:A.jsx(ww,{})}),A.jsx(tn,{path:"/login",element:A.jsx(t4,{onLogin:a})}),A.jsx(tn,{path:"/questionnaire",element:A.jsx(r4,{userData:n,onPlanGenerated:h})}),A.jsx(tn,{path:"/dashboard",element:A.jsx(i4,{userData:n})}),A.jsx(tn,{path:"/meditation",element:A.jsx(s4,{})}),A.jsx(tn,{path:"/breathing",element:A.jsx(o4,{})}),A.jsx(tn,{path:"/recipes",element:A.jsx(a4,{})}),A.jsx(tn,{path:"/community",element:A.jsx(u4,{})}),A.jsx(tn,{path:"/articles",element:A.jsx(h4,{})}),A.jsx(tn,{path:"/consult",element:A.jsx(d4,{onBookAppointment:f})}),A.jsx(tn,{path:"/booking",element:A.jsx(A4,{doctor:t,setPage:s})}),A.jsx(tn,{path:"/chatbot",element:A.jsx(P4,{})}),A.jsx(tn,{path:"/journal",element:A.jsx(R4,{})}),A.jsx(tn,{path:"*",element:A.jsx(ww,{})})]})]})}D1.createRoot(document.getElementById("root")).render(A.jsx(A1.StrictMode,{children:A.jsx(qA,{children:A.jsx(b4,{})})}));
